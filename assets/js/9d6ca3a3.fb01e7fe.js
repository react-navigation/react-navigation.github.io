"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[87921],{60490:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>h,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"navigation-container","title":"NavigationContainer","description":"The NavigationContainer is responsible for managing your app\'s navigation state and linking your top-level navigator to the app environment.","source":"@site/versioned_docs/version-8.x/navigation-container.md","sourceDirName":".","slug":"/navigation-container","permalink":"/docs/8.x/navigation-container","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-8.x/navigation-container.md","tags":[],"version":"8.x","frontMatter":{"id":"navigation-container","title":"NavigationContainer","sidebar_label":"NavigationContainer"},"sidebar":"docs","previous":{"title":"Static configuration","permalink":"/docs/8.x/static-configuration"},"next":{"title":"ServerContainer","permalink":"/docs/8.x/server-container"}}');var a=t(74848),o=t(28453),r=t(11470),s=t(19365);const c={id:"navigation-container",title:"NavigationContainer",sidebar_label:"NavigationContainer",rawMarkdown:'---\nid: navigation-container\ntitle: NavigationContainer\nsidebar_label: NavigationContainer\n---\n\nimport Tabs from \'@theme/Tabs\';\nimport TabItem from \'@theme/TabItem\';\n\nThe `NavigationContainer` is responsible for managing your app\'s navigation state and linking your top-level navigator to the app environment.\n\nThe container takes care of platform specific integration and provides various useful functionality:\n\n1. Deep link integration with the [`linking`](#linking) prop.\n2. Notify state changes for [screen tracking](screen-tracking.md), [state persistence](state-persistence.md) etc.\n3. Handle system back button on Android by using the [`BackHandler`](https://reactnative.dev/docs/backhandler) API from React Native.\n\nUsage:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\nWhen using the static API, the component returned by [`createStaticNavigation`](static-configuration.md#createstaticnavigation) is equivalent to the `NavigationContainer` component.\n\n```js\nimport { createStaticNavigation } from \'@react-navigation/native\';\nimport { createNativeStackNavigator } from \'@react-navigation/native-stack\';\n\nconst Stack = createNativeStackNavigator({\n  screens: {\n    /* ... */\n  },\n});\n\nconst Navigation = createStaticNavigation(Stack);\n\nexport default function App() {\n  return <Navigation />;\n}\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\nimport { NavigationContainer } from \'@react-navigation/native\';\nimport { createNativeStackNavigator } from \'@react-navigation/native-stack\';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>{/* ... */}</Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n```\n\n</TabItem>\n</Tabs>\n\n## Ref\n\nIt\'s possible to pass a [`ref`](https://react.dev/learn/referencing-values-with-refs) to the container to get access to various helper methods, for example, dispatch navigation actions. This should be used in rare cases when you don\'t have access to the [`navigation` object](navigation-object.md), such as a Redux middleware.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js name="Using refs" snack\nimport * as React from \'react\';\nimport { View, Text } from \'react-native\';\nimport { Button } from \'@react-navigation/elements\';\n// codeblock-focus-start\nimport {\n  createStaticNavigation,\n  useNavigationContainerRef,\n} from \'@react-navigation/native\';\n// codeblock-focus-end\nimport { createStackNavigator } from \'@react-navigation/stack\';\n\nconst Stack = createStackNavigator({\n  initialRouteName: \'Empty\',\n  screens: {\n    Empty: () => <View></View>,\n    Home: HomeScreen,\n  },\n});\n\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: \'center\', justifyContent: \'center\' }}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\nconst Navigation = createStaticNavigation(Stack);\n\n// codeblock-focus-start\n\nexport default function App() {\n  // highlight-next-line\n  const navigationRef = useNavigationContainerRef(); // You can also use a regular ref with `React.useRef()`\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Button onPress={() => navigationRef.navigate(\'Home\')}>Go home</Button>\n      <Navigation ref={navigationRef} />\n    </View>\n  );\n}\n// codeblock-focus-end\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js name="Using refs" snack\nimport * as React from \'react\';\nimport { View, Text } from \'react-native\';\nimport { Button } from \'@react-navigation/elements\';\n// codeblock-focus-start\nimport {\n  NavigationContainer,\n  useNavigationContainerRef,\n} from \'@react-navigation/native\';\n// codeblock-focus-end\nimport { createStackNavigator } from \'@react-navigation/stack\';\n\nconst Stack = createStackNavigator();\n\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: \'center\', justifyContent: \'center\' }}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\n// codeblock-focus-start\n\nexport default function App() {\n  // highlight-next-line\n  const navigationRef = useNavigationContainerRef(); // You can also use a regular ref with `React.useRef()`\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Button onPress={() => navigationRef.navigate(\'Home\')}>Go home</Button>\n      <NavigationContainer ref={navigationRef}>\n        <Stack.Navigator initialRouteName="Empty">\n          <Stack.Screen name="Empty" component={() => <View></View>} />\n          <Stack.Screen name="Home" component={HomeScreen} />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </View>\n  );\n}\n// codeblock-focus-end\n```\n\n</TabItem>\n</Tabs>\n\nIf you\'re using a regular ref object, keep in mind that the ref may be initially `null` in some situations (such as when linking is enabled). To make sure that the ref is initialized, you can use the [`onReady`](#onready) callback to get notified when the navigation container finishes mounting.\n\nCheck how to setup `ref` with TypeScript [here](typescript.md#annotating-ref-on-navigationcontainer).\n\nSee the [Navigating without the navigation prop](navigating-without-navigation-prop.md) guide for more details.\n\n### Methods on the ref\n\nThe ref object includes all of the common navigation methods such as `navigate`, `goBack` etc. See [docs for `CommonActions`](navigation-actions.md) for more details.\n\nExample:\n\n```js\nnavigationRef.navigate(name, params);\n```\n\nAll of these methods will act as if they were called inside the currently focused screen. It\'s important note that there must be a navigator rendered to handle these actions.\n\nIn addition to these methods, the ref object also includes the following special methods:\n\n#### `isReady`\n\nThe `isReady` method returns a `boolean` indicating whether the navigation tree is ready. The navigation tree is ready when the `NavigationContainer` contains at least one navigator and all of the navigators have finished mounting.\n\nThis can be used to determine whether it\'s safe to dispatch navigation actions without getting an error. See [handling initialization](navigating-without-navigation-prop.md#handling-initialization) for more details.\n\n#### `resetRoot`\n\nThe `resetRoot` method lets you reset the state of the navigation tree to the specified state object:\n\n```js\nnavigationRef.resetRoot({\n  index: 0,\n  routes: [{ name: \'Profile\' }],\n});\n```\n\nUnlike the `reset` method, this acts on the root navigator instead of navigator of the currently focused screen.\n\n#### `getRootState`\n\nThe `getRootState` method returns a [navigation state](navigation-state.md) object containing the navigation states for all navigators in the navigation tree:\n\n```js\nconst state = navigationRef.getRootState();\n```\n\nNote that the returned `state` object will be `undefined` if there are no navigators currently rendered.\n\n#### `getCurrentRoute`\n\nThe `getCurrentRoute` method returns the route object for the currently focused screen in the whole navigation tree:\n\n```js\nconst route = navigationRef.getCurrentRoute();\n```\n\nNote that the returned `route` object will be `undefined` if there are no navigators currently rendered.\n\n#### `getCurrentOptions`\n\nThe `getCurrentOptions` method returns the options for the currently focused screen in the whole navigation tree:\n\n```js\nconst options = navigationRef.getCurrentOptions();\n```\n\nNote that the returned `options` object will be `undefined` if there are no navigators currently rendered.\n\n#### `addListener`\n\nThe `addListener` method lets you listen to the following events:\n\n##### `ready`\n\nThe event is triggered when the navigation tree is ready. This is useful for cases where you want to wait until the navigation tree is mounted:\n\n```js\nconst unsubscribe = navigationRef.addListener(\'ready\', () => {\n  // Get the initial state of the navigation tree\n  console.log(navigationRef.getRootState());\n});\n```\n\nThis is analogous to the [`onReady`](#onready) method.\n\n##### `state`\n\nThe event is triggered whenever the [navigation state](navigation-state.md) changes in any navigator in the navigation tree:\n\n```js\nconst unsubscribe = navigationRef.addListener(\'state\', (e) => {\n  // You can get the raw navigation state (partial state object of the root navigator)\n  console.log(e.data.state);\n\n  // Or get the full state object with `getRootState()`\n  console.log(navigationRef.getRootState());\n});\n```\n\nThis is analogous to the [`onStateChange`](#onstatechange) method. The only difference is that the `e.data.state` object might contain partial state object unlike the `state` argument in `onStateChange` which will always contain the full state object.\n\n##### `options`\n\nThe event is triggered whenever the options change for the currently focused screen in the navigation tree:\n\n```js\nconst unsubscribe = navigationRef.addListener(\'options\', (e) => {\n  // You can get the new options for the currently focused screen\n  console.log(e.data.options);\n});\n```\n\n## Props\n\n### `initialState`\n\nProp that accepts initial state for the navigator. This can be useful for cases such as deep linking, state persistence etc.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-next-line\n  initialState={initialState}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-next-line\n  initialState={initialState}\n>\n  {/* ... */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\nSee [Navigation state reference](navigation-state.md) for more details on the structure of the state object.\n\nProviding a custom initial state object will override the initial state object obtained via linking configuration or from browser\'s URL. If you\'re providing an initial state object, make sure that you don\'t pass it on web and that there\'s no deep link to handle.\n\nExample:\n\n```js\nconst initialUrl = await Linking.getInitialURL();\n\nif (Platform.OS !== \'web\' && initialUrl == null) {\n  // Only restore state if there\'s no deep link and we\'re not on web\n}\n```\n\nSee [state persistence guide](state-persistence.md) for more details on how to persist and restore state.\n\n### `onStateChange`\n\n:::warning\n\nConsider the navigator\'s state object to be internal and subject to change in a minor release. Avoid using properties from the [navigation state](navigation-state.md) state object except `index` and `routes`, unless you really need it. If there is some functionality you cannot achieve without relying on the structure of the state object, please open an issue.\n\n:::\n\nFunction that gets called every time [navigation state](navigation-state.md) changes. It receives the new navigation state as the argument.\n\nYou can use it to track the focused screen, persist the navigation state etc.\n\nExample:\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-next-line\n  onStateChange={(state) => console.log(\'New state is\', state)}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-next-line\n  onStateChange={(state) => console.log(\'New state is\', state)}\n>\n  {/* ... */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\n### `onReady`\n\nFunction which is called after the navigation container and all its children finish mounting for the first time. You can use it for:\n\n- Making sure that the `ref` is usable. See [docs regarding initialization of the ref](navigating-without-navigation-prop.md#handling-initialization) for more details.\n- Hiding your native splash screen\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-next-line\n  onReady={() => console.log(\'Navigation container is ready\')}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-next-line\n  onReady={() => console.log(\'Navigation container is ready\')}\n>\n  {/* ... */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\nThis callback won\'t fire if there are no navigators rendered inside the container.\n\nThe current status can be obtained with the [`isReady`](#isready) method on the ref.\n\n### `onUnhandledAction`\n\nFunction which is called when a navigation action is not handled by any of the navigators.\n\nBy default, React Navigation will show a development-only error message when an action is not handled. You can override the default behavior by providing a custom function.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-next-line\n  onUnhandledAction={(action) => console.error(\'Unhandled action\', action)}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-next-line\n  onUnhandledAction={(action) => console.error(\'Unhandled action\', action)}\n>\n  {/* ... */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\n### `linking`\n\nConfiguration for linking integration used for deep linking, URL support in browsers etc.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\nimport { createStaticNavigation } from \'@react-navigation/native\';\nimport { createNativeStackNavigator } from \'@react-navigation/native-stack\';\n\nconst RootStack = createNativeStackNavigator({\n  screens: {\n    Home: {\n      screen: Home,\n      linking: {\n        path: \'feed/:sort\',\n      },\n    },\n  },\n});\n\nconst Navigation = createStaticNavigation(RootStack);\n\nfunction App() {\n  const linking = {\n    prefixes: [\'https://example.com\', \'example://\'],\n  };\n\n  return (\n    <Navigation\n      // highlight-next-line\n      linking={linking}\n      fallback={<Text>Loading...</Text>}\n    />\n  );\n}\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\nimport { NavigationContainer } from \'@react-navigation/native\';\n\nfunction App() {\n  const linking = {\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      screens: {\n        Home: \'feed/:sort\',\n      },\n    },\n  };\n\n  return (\n    <NavigationContainer\n      // highlight-next-line\n      linking={linking}\n      fallback={<Text>Loading...</Text>}\n    >\n      {/* content */}\n    </NavigationContainer>\n  );\n}\n```\n\n</TabItem>\n</Tabs>\nSee [configuring links guide](configuring-links.md) for more details on how to configure deep links and URL integration.\n\n#### Options\n\n##### `linking.prefixes`\n\nURL prefixes to handle. You can provide multiple prefixes to support custom schemes as well as [universal links](https://developer.apple.com/ios/universal-links/).\n\nOnly URLs matching these prefixes will be handled. The prefix will be stripped from the URL before parsing.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  linking={{\n    // highlight-next-line\n    prefixes: [\'https://example.com\', \'example://\'],\n  }}\n  fallback={<Text>Loading...</Text>}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  linking={{\n    // highlight-next-lineP\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      // ...\n    },\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\nThis is only supported on iOS and Android.\n\n##### `linking.config`\n\nConfig to fine-tune how to parse the path.\n\nWhen using dynamic API, the config object should represent the structure of the navigators in the app.\n\nSee the [configuring links guide](configuring-links.md) for more details on how to configure deep links and URL integration.\n\n##### `linking.enabled`\n\nOptional boolean to enable or disable the linking integration. Defaults to `true` if the `linking` prop is specified.\n\nWhen using the static API, it\'s possible to pass `\'auto\'` to automatically generate the config based on the navigator\'s structure. See the [configuring links guide](configuring-links.md) for more details.\n\n##### `linking.getInitialURL`\n\nBy default, linking integrates with React Native\'s `Linking` API and uses `Linking.getInitialURL()` to provide built-in support for deep linking. However, you might also want to handle links from other sources, such as [Branch](https://help.branch.io/developers-hub/docs/react-native), or push notifications using [Firebase](https://rnfirebase.io/messaging/notifications) etc.\n\nYou can provide a custom `getInitialURL` function where you can return the link which we should use as the initial URL. The `getInitialURL` function should return a `string` if there\'s a URL to handle, otherwise `undefined`.\n\nFor example, you could do something like following to handle both deep linking and [Firebase notifications](https://rnfirebase.io/messaging/notifications):\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\nimport messaging from \'@react-native-firebase/messaging\';\n\n<Navigation\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    // highlight-start\n    async getInitialURL() {\n      // Check if app was opened from a deep link\n      const url = await Linking.getInitialURL();\n\n      if (url != null) {\n        return url;\n      }\n\n      // Check if there is an initial firebase notification\n      const message = await messaging().getInitialNotification();\n\n      // Get the `url` property from the notification which corresponds to a screen\n      // This property needs to be set on the notification payload when sending it\n      return message?.data?.url;\n    },\n    // highlight-end\n  }}\n/>;\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\nimport messaging from \'@react-native-firebase/messaging\';\n\n<NavigationContainer\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    async getInitialURL() {\n      // Check if app was opened from a deep link\n      const url = await Linking.getInitialURL();\n\n      if (url != null) {\n        return url;\n      }\n\n      // Check if there is an initial firebase notification\n      const message = await messaging().getInitialNotification();\n\n      // Get the `url` property from the notification which corresponds to a screen\n      // This property needs to be set on the notification payload when sending it\n      return message?.data?.url;\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>;\n```\n\n</TabItem>\n</Tabs>\n\nThis option is not available on Web.\n\n##### `linking.subscribe`\n\nSimilar to [`getInitialURL`](#linkinggetinitialurl), you can provide a custom `subscribe` function to handle any incoming links instead of the default deep link handling. The `subscribe` function will receive a listener as the argument and you can call it with a URL string whenever there\'s a new URL to handle. It should return a cleanup function where you can unsubscribe from any event listeners that you have setup.\n\nFor example, you could do something like following to handle both deep linking and [Firebase notifications](https://rnfirebase.io/messaging/notifications):\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\nimport messaging from \'@react-native-firebase/messaging\';\n\n<Navigation\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    // highlight-start\n    subscribe(listener) {\n      const onReceiveURL = ({ url }: { url: string }) => listener(url);\n\n      // Listen to incoming links from deep linking\n      const subscription = Linking.addEventListener(\'url\', onReceiveURL);\n\n      // Listen to firebase push notifications\n      const unsubscribeNotification = messaging().onNotificationOpenedApp(\n        (message) => {\n          const url = message.data?.url;\n\n          if (url) {\n            // Any custom logic to check whether the URL needs to be handled\n            //...\n\n            // Call the listener to let React Navigation handle the URL\n            listener(url);\n          }\n        }\n      );\n\n      return () => {\n        // Clean up the event listeners\n        subscription.remove();\n        unsubscribeNotification();\n      };\n    },\n    // highlight-end\n  }}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\nimport messaging from \'@react-native-firebase/messaging\';\n\n<NavigationContainer\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    subscribe(listener) {\n      const onReceiveURL = ({ url }: { url: string }) => listener(url);\n\n      // Listen to incoming links from deep linking\n      const subscription = Linking.addEventListener(\'url\', onReceiveURL);\n\n      // Listen to firebase push notifications\n      const unsubscribeNotification = messaging().onNotificationOpenedApp(\n        (message) => {\n          const url = message.data?.url;\n\n          if (url) {\n            // Any custom logic to check whether the URL needs to be handled\n            //...\n\n            // Call the listener to let React Navigation handle the URL\n            listener(url);\n          }\n        }\n      );\n\n      return () => {\n        // Clean up the event listeners\n        subscription.remove();\n        unsubscribeNotification();\n      };\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>;\n```\n\n</TabItem>\n</Tabs>\n\nThis option is not available on Web.\n\n##### `linking.getStateFromPath`\n\nReact Navigation handles deep links and [URLs on Web](web-support.md) by parsing the path to a [navigation state](navigation-state.md) object based on the [linking config](#linkingconfig). You can optionally override the way the parsing happens by providing your own `getStateFromPath` function.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    // highlight-start\n    getStateFromPath(path, config) {\n      // Return a state object here\n      // You can also reuse the default logic by importing `getStateFromPath` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    getStateFromPath(path, config) {\n      // Return a state object here\n      // You can also reuse the default logic by importing `getStateFromPath` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\n##### `linking.getPathFromState`\n\nOn Web, React Navigation automatically updates the [URL in the browser\'s address bar](web-support.md) to match the current navigation state by serializing the state to a path based on the [linking config](#linkingconfig). You can optionally override the way the serialization happens by providing your own `getPathFromState` function.\n\nIf you provide a custom [`getStateFromPath`](#linkinggetstatefrompath), you should also provide a custom `getPathFromState` to ensure that the parsing and serialization are consistent with each other for Web support to work correctly.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    // highlight-start\n    getPathFromState(state, config) {\n      // Return a path string here\n      // You can also reuse the default logic by importing `getPathFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    getPathFromState(state, config) {\n      // Return a path string here\n      // You can also reuse the default logic by importing `getPathFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\n##### `linking.getActionFromState`\n\nThe state parsed with [`getStateFromPath`](#linkinggetstatefrompath) is used as the initial state of the navigator. But for subsequent deep links and URLs, the state is converted to a navigation action. Typically it is a [`navigate`](navigation-actions.md#navigate) action.\n\nYou can provide a custom `getActionFromState` function to customize how the state is converted to an action.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    // highlight-start\n    getActionFromState(state, config) {\n      // Return a navigation action here\n      // You can also reuse the default logic by importing `getActionFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  linking={{\n    prefixes: [\'https://example.com\', \'example://\'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    getActionFromState(state, config) {\n      // Return a navigation action here\n      // You can also reuse the default logic by importing `getActionFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\n### `fallback`\n\nReact Element to use as a fallback while we resolve deep links. Defaults to `null`.\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-next-line\n  fallback={<Text>Loading...</Text>}\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-next-line\n  fallback={<Text>Loading...</Text>}\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\nIf you have a native splash screen, please use [`onReady`](#onready) instead of `fallback` prop.\n\n### `documentTitle`\n\nBy default, React Navigation automatically updates the document title on Web to match the `title` option of the focused screen. You can disable it or customize it using this prop. It accepts a configuration object with the following options:\n\n#### `documentTitle.enabled`\n\nWhether document title handling should be enabled. Defaults to `true`.\n\n#### `documentTitle.formatter`\n\nCustom formatter to use if you want to customize the title text. Defaults to:\n\n```js\n(options, route) => options?.title ?? route?.name;\n```\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-start\n  documentTitle={{\n    formatter: (options, route) =>\n      `${options?.title ?? route?.name} - My Cool App`,\n  }}\n  // highlight-end\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-start\n  documentTitle={{\n    formatter: (options, route) =>\n      `${options?.title ?? route?.name} - My Cool App`,\n  }}\n  // highlight-end\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\n### `theme`\n\nCustom theme to use for the navigation components such as the header, tab bar etc. See [theming guide](themes.md) for more details and usage guide.\n\n### `direction`\n\nThe direction of the text configured in the app. Defaults to `\'rtl\'` when `I18nManager.getConstants().isRTL` returns `true`, otherwise `\'ltr\'`.\n\nSupported values:\n\n- `\'ltr\'`: Left-to-right text direction for languages like English, French etc.\n- `\'rtl\'`: Right-to-left text direction for languages like Arabic, Hebrew etc.\n\nExample:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\n<Navigation\n  // highlight-next-line\n  direction="rtl"\n/>\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\n<NavigationContainer\n  // highlight-next-line\n  direction="rtl"\n>\n  {/* content */}\n</NavigationContainer>\n```\n\n</TabItem>\n</Tabs>\n\nThis is used in various navigators to adjust the content according to the text direction, for example, the drawer in the [drawer navigator](drawer-navigator.md) is positioned on the right side in RTL languages.\n\nThis prop informs React Navigation about the text direction in the app, it doesn\'t change the text direction by itself. If you intend to support RTL languages, it\'s important to set this prop to the correct value that\'s configured in the app. If it doesn\'t match the actual text direction, the layout might be incorrect.\n\nOn the Web, it may also be necessary to set the `dir` attribute on the root element of the app to ensure that the text direction is correct:\n\n```html\n<html dir="rtl">\n  \x3c!-- App content --\x3e\n</html>\n```\n\nThe `direction` will be available to use in your own components via the `useLocale` hook:\n\n```js\nimport { useLocale } from \'@react-navigation/native\';\n\nfunction MyComponent() {\n  const { direction } = useLocale();\n\n  // Use the direction\n}\n```\n\n### `persistor`\n\nAn object containing functions to persist and restore the [navigation state](navigation-state.md).\nThe `persistor` object should contain two functions:\n\n- `persist` - Function that receives the navigation state as an argument and should save it to storage.\n- `restore` - Function that returns the previously saved state from storage, or `undefined` if there\'s no saved state.\n\nThese function can be both synchronous or asynchronous. If a promise is returned from the `restore` function, make sure to provide a [`fallback`](navigation-container.md#fallback).\n\nSee [state persistence guide](state-persistence.md) for example usage.\n\n## Independent navigation containers\n\n:::warning\n\nThis is an advanced use case. Don\'t use this unless you are 100% sure that you need it.\n\n:::\n\nIn most apps, there will be only a single `NavigationContainer`. Nesting multiple `NavigationContainer`s will throw an error. However, in rare cases, it may be useful to have multiple independent navigation trees, e.g. including a mini-app inside a larger app.\n\nYou can wrap the nested `NavigationContainer` with the `NavigationIndependentTree` component to make it independent from the parent navigation tree:\n\n<Tabs groupId="config" queryString="config">\n<TabItem value="static" label="Static" default>\n\n```js\nimport {\n  createStaticNavigation,\n  NavigationIndependentTree,\n} from \'@react-navigation/native\';\n\n/* content */\n\nconst Navigation = createStaticNavigation(RootStack);\n\nfunction NestedApp() {\n  return (\n    // highlight-start\n    <NavigationIndependentTree>\n      <Navigation />\n    </NavigationIndependentTree>\n    // highlight-end\n  );\n}\n```\n\n</TabItem>\n<TabItem value="dynamic" label="Dynamic">\n\n```js\nimport {\n  NavigationContainer,\n  NavigationIndependentTree,\n} from \'@react-navigation/native\';\n\nfunction NestedApp() {\n  return (\n    // highlight-start\n    <NavigationIndependentTree>\n      <NavigationContainer>{/* content */}</NavigationContainer>\n    </NavigationIndependentTree>\n    // highlight-end\n  );\n}\n```\n\n</TabItem>\n</Tabs>\n\nDoing this disconnects any children navigators from the parent container and doesn\'t allow navigation between them.\n\nAvoid using this if you need to integrate with third-party components such as modals or bottom sheets. Consider using a [custom navigator](custom-navigators.md) instead.\n'},l=void 0,h={},d=[{value:"Ref",id:"ref",level:2},{value:"Methods on the ref",id:"methods-on-the-ref",level:3},{value:"<code>isReady</code>",id:"isready",level:4},{value:"<code>resetRoot</code>",id:"resetroot",level:4},{value:"<code>getRootState</code>",id:"getrootstate",level:4},{value:"<code>getCurrentRoute</code>",id:"getcurrentroute",level:4},{value:"<code>getCurrentOptions</code>",id:"getcurrentoptions",level:4},{value:"<code>addListener</code>",id:"addlistener",level:4},{value:"<code>ready</code>",id:"ready",level:5},{value:"<code>state</code>",id:"state",level:5},{value:"<code>options</code>",id:"options",level:5},{value:"Props",id:"props",level:2},{value:"<code>initialState</code>",id:"initialstate",level:3},{value:"<code>onStateChange</code>",id:"onstatechange",level:3},{value:"<code>onReady</code>",id:"onready",level:3},{value:"<code>onUnhandledAction</code>",id:"onunhandledaction",level:3},{value:"<code>linking</code>",id:"linking",level:3},{value:"Options",id:"options-1",level:4},{value:"<code>linking.prefixes</code>",id:"linkingprefixes",level:5},{value:"<code>linking.config</code>",id:"linkingconfig",level:5},{value:"<code>linking.enabled</code>",id:"linkingenabled",level:5},{value:"<code>linking.getInitialURL</code>",id:"linkinggetinitialurl",level:5},{value:"<code>linking.subscribe</code>",id:"linkingsubscribe",level:5},{value:"<code>linking.getStateFromPath</code>",id:"linkinggetstatefrompath",level:5},{value:"<code>linking.getPathFromState</code>",id:"linkinggetpathfromstate",level:5},{value:"<code>linking.getActionFromState</code>",id:"linkinggetactionfromstate",level:5},{value:"<code>fallback</code>",id:"fallback",level:3},{value:"<code>documentTitle</code>",id:"documenttitle",level:3},{value:"<code>documentTitle.enabled</code>",id:"documenttitleenabled",level:4},{value:"<code>documentTitle.formatter</code>",id:"documenttitleformatter",level:4},{value:"<code>theme</code>",id:"theme",level:3},{value:"<code>direction</code>",id:"direction",level:3},{value:"<code>persistor</code>",id:"persistor",level:3},{value:"Independent navigation containers",id:"independent-navigation-containers",level:2}];function g(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"NavigationContainer"})," is responsible for managing your app's navigation state and linking your top-level navigator to the app environment."]}),"\n",(0,a.jsx)(e.p,{children:"The container takes care of platform specific integration and provides various useful functionality:"}),"\n",(0,a.jsxs)(e.ol,{children:["\n",(0,a.jsxs)(e.li,{children:["Deep link integration with the ",(0,a.jsx)(e.a,{href:"#linking",children:(0,a.jsx)(e.code,{children:"linking"})})," prop."]}),"\n",(0,a.jsxs)(e.li,{children:["Notify state changes for ",(0,a.jsx)(e.a,{href:"/docs/8.x/screen-tracking",children:"screen tracking"}),", ",(0,a.jsx)(e.a,{href:"/docs/8.x/state-persistence",children:"state persistence"})," etc."]}),"\n",(0,a.jsxs)(e.li,{children:["Handle system back button on Android by using the ",(0,a.jsx)(e.a,{href:"https://reactnative.dev/docs/backhandler",children:(0,a.jsx)(e.code,{children:"BackHandler"})})," API from React Native."]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"Usage:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsxs)(s.A,{value:"static",label:"Static",default:!0,children:[(0,a.jsxs)(e.p,{children:["When using the static API, the component returned by ",(0,a.jsx)(e.a,{href:"/docs/8.x/static-configuration#createstaticnavigation",children:(0,a.jsx)(e.code,{children:"createStaticNavigation"})})," is equivalent to the ",(0,a.jsx)(e.code,{children:"NavigationContainer"})," component."]}),(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import { createStaticNavigation } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nconst Stack = createNativeStackNavigator({\n  screens: {\n    /* ... */\n  },\n});\n\nconst Navigation = createStaticNavigation(Stack);\n\nexport default function App() {\n  return <Navigation />;\n}\n"})})]}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nconst Stack = createNativeStackNavigator();\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <Stack.Navigator>{/* ... */}</Stack.Navigator>\n    </NavigationContainer>\n  );\n}\n"})})})]}),"\n",(0,a.jsx)(e.h2,{id:"ref",children:"Ref"}),"\n",(0,a.jsxs)(e.p,{children:["It's possible to pass a ",(0,a.jsx)(e.a,{href:"https://react.dev/learn/referencing-values-with-refs",children:(0,a.jsx)(e.code,{children:"ref"})})," to the container to get access to various helper methods, for example, dispatch navigation actions. This should be used in rare cases when you don't have access to the ",(0,a.jsxs)(e.a,{href:"/docs/8.x/navigation-object",children:[(0,a.jsx)(e.code,{children:"navigation"})," object"]}),", such as a Redux middleware."]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{"data-name":"Using refs","data-snack":"true",children:(0,a.jsx)(e.code,{className:"language-js",metastring:'name="Using refs" snack',children:"import * as React from 'react';\nimport { View, Text } from 'react-native';\nimport { Button } from '@react-navigation/elements';\n// codeblock-focus-start\nimport {\n  createStaticNavigation,\n  useNavigationContainerRef,\n} from '@react-navigation/native';\n// codeblock-focus-end\nimport { createStackNavigator } from '@react-navigation/stack';\n\nconst Stack = createStackNavigator({\n  initialRouteName: 'Empty',\n  screens: {\n    Empty: () => <View></View>,\n    Home: HomeScreen,\n  },\n});\n\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\nconst Navigation = createStaticNavigation(Stack);\n\n// codeblock-focus-start\n\nexport default function App() {\n  // highlight-next-line\n  const navigationRef = useNavigationContainerRef(); // You can also use a regular ref with `React.useRef()`\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Button onPress={() => navigationRef.navigate('Home')}>Go home</Button>\n      <Navigation ref={navigationRef} />\n    </View>\n  );\n}\n// codeblock-focus-end\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{"data-name":"Using refs","data-snack":"true",children:(0,a.jsx)(e.code,{className:"language-js",metastring:'name="Using refs" snack',children:"import * as React from 'react';\nimport { View, Text } from 'react-native';\nimport { Button } from '@react-navigation/elements';\n// codeblock-focus-start\nimport {\n  NavigationContainer,\n  useNavigationContainerRef,\n} from '@react-navigation/native';\n// codeblock-focus-end\nimport { createStackNavigator } from '@react-navigation/stack';\n\nconst Stack = createStackNavigator();\n\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\n// codeblock-focus-start\n\nexport default function App() {\n  // highlight-next-line\n  const navigationRef = useNavigationContainerRef(); // You can also use a regular ref with `React.useRef()`\n\n  return (\n    <View style={{ flex: 1 }}>\n      <Button onPress={() => navigationRef.navigate('Home')}>Go home</Button>\n      <NavigationContainer ref={navigationRef}>\n        <Stack.Navigator initialRouteName=\"Empty\">\n          <Stack.Screen name=\"Empty\" component={() => <View></View>} />\n          <Stack.Screen name=\"Home\" component={HomeScreen} />\n        </Stack.Navigator>\n      </NavigationContainer>\n    </View>\n  );\n}\n// codeblock-focus-end\n"})})})]}),"\n",(0,a.jsxs)(e.p,{children:["If you're using a regular ref object, keep in mind that the ref may be initially ",(0,a.jsx)(e.code,{children:"null"})," in some situations (such as when linking is enabled). To make sure that the ref is initialized, you can use the ",(0,a.jsx)(e.a,{href:"#onready",children:(0,a.jsx)(e.code,{children:"onReady"})})," callback to get notified when the navigation container finishes mounting."]}),"\n",(0,a.jsxs)(e.p,{children:["Check how to setup ",(0,a.jsx)(e.code,{children:"ref"})," with TypeScript ",(0,a.jsx)(e.a,{href:"/docs/8.x/typescript#annotating-ref-on-navigationcontainer",children:"here"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["See the ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigating-without-navigation-prop",children:"Navigating without the navigation prop"})," guide for more details."]}),"\n",(0,a.jsx)(e.h3,{id:"methods-on-the-ref",children:"Methods on the ref"}),"\n",(0,a.jsxs)(e.p,{children:["The ref object includes all of the common navigation methods such as ",(0,a.jsx)(e.code,{children:"navigate"}),", ",(0,a.jsx)(e.code,{children:"goBack"})," etc. See ",(0,a.jsxs)(e.a,{href:"/docs/8.x/navigation-actions",children:["docs for ",(0,a.jsx)(e.code,{children:"CommonActions"})]})," for more details."]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"navigationRef.navigate(name, params);\n"})}),"\n",(0,a.jsx)(e.p,{children:"All of these methods will act as if they were called inside the currently focused screen. It's important note that there must be a navigator rendered to handle these actions."}),"\n",(0,a.jsx)(e.p,{children:"In addition to these methods, the ref object also includes the following special methods:"}),"\n",(0,a.jsx)(e.h4,{id:"isready",children:(0,a.jsx)(e.code,{children:"isReady"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"isReady"})," method returns a ",(0,a.jsx)(e.code,{children:"boolean"})," indicating whether the navigation tree is ready. The navigation tree is ready when the ",(0,a.jsx)(e.code,{children:"NavigationContainer"})," contains at least one navigator and all of the navigators have finished mounting."]}),"\n",(0,a.jsxs)(e.p,{children:["This can be used to determine whether it's safe to dispatch navigation actions without getting an error. See ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigating-without-navigation-prop#handling-initialization",children:"handling initialization"})," for more details."]}),"\n",(0,a.jsx)(e.h4,{id:"resetroot",children:(0,a.jsx)(e.code,{children:"resetRoot"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"resetRoot"})," method lets you reset the state of the navigation tree to the specified state object:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"navigationRef.resetRoot({\n  index: 0,\n  routes: [{ name: 'Profile' }],\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Unlike the ",(0,a.jsx)(e.code,{children:"reset"})," method, this acts on the root navigator instead of navigator of the currently focused screen."]}),"\n",(0,a.jsx)(e.h4,{id:"getrootstate",children:(0,a.jsx)(e.code,{children:"getRootState"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"getRootState"})," method returns a ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"navigation state"})," object containing the navigation states for all navigators in the navigation tree:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const state = navigationRef.getRootState();\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Note that the returned ",(0,a.jsx)(e.code,{children:"state"})," object will be ",(0,a.jsx)(e.code,{children:"undefined"})," if there are no navigators currently rendered."]}),"\n",(0,a.jsx)(e.h4,{id:"getcurrentroute",children:(0,a.jsx)(e.code,{children:"getCurrentRoute"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"getCurrentRoute"})," method returns the route object for the currently focused screen in the whole navigation tree:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const route = navigationRef.getCurrentRoute();\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Note that the returned ",(0,a.jsx)(e.code,{children:"route"})," object will be ",(0,a.jsx)(e.code,{children:"undefined"})," if there are no navigators currently rendered."]}),"\n",(0,a.jsx)(e.h4,{id:"getcurrentoptions",children:(0,a.jsx)(e.code,{children:"getCurrentOptions"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"getCurrentOptions"})," method returns the options for the currently focused screen in the whole navigation tree:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const options = navigationRef.getCurrentOptions();\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Note that the returned ",(0,a.jsx)(e.code,{children:"options"})," object will be ",(0,a.jsx)(e.code,{children:"undefined"})," if there are no navigators currently rendered."]}),"\n",(0,a.jsx)(e.h4,{id:"addlistener",children:(0,a.jsx)(e.code,{children:"addListener"})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"addListener"})," method lets you listen to the following events:"]}),"\n",(0,a.jsx)(e.h5,{id:"ready",children:(0,a.jsx)(e.code,{children:"ready"})}),"\n",(0,a.jsx)(e.p,{children:"The event is triggered when the navigation tree is ready. This is useful for cases where you want to wait until the navigation tree is mounted:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const unsubscribe = navigationRef.addListener('ready', () => {\n  // Get the initial state of the navigation tree\n  console.log(navigationRef.getRootState());\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:["This is analogous to the ",(0,a.jsx)(e.a,{href:"#onready",children:(0,a.jsx)(e.code,{children:"onReady"})})," method."]}),"\n",(0,a.jsx)(e.h5,{id:"state",children:(0,a.jsx)(e.code,{children:"state"})}),"\n",(0,a.jsxs)(e.p,{children:["The event is triggered whenever the ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"navigation state"})," changes in any navigator in the navigation tree:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const unsubscribe = navigationRef.addListener('state', (e) => {\n  // You can get the raw navigation state (partial state object of the root navigator)\n  console.log(e.data.state);\n\n  // Or get the full state object with `getRootState()`\n  console.log(navigationRef.getRootState());\n});\n"})}),"\n",(0,a.jsxs)(e.p,{children:["This is analogous to the ",(0,a.jsx)(e.a,{href:"#onstatechange",children:(0,a.jsx)(e.code,{children:"onStateChange"})})," method. The only difference is that the ",(0,a.jsx)(e.code,{children:"e.data.state"})," object might contain partial state object unlike the ",(0,a.jsx)(e.code,{children:"state"})," argument in ",(0,a.jsx)(e.code,{children:"onStateChange"})," which will always contain the full state object."]}),"\n",(0,a.jsx)(e.h5,{id:"options",children:(0,a.jsx)(e.code,{children:"options"})}),"\n",(0,a.jsx)(e.p,{children:"The event is triggered whenever the options change for the currently focused screen in the navigation tree:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const unsubscribe = navigationRef.addListener('options', (e) => {\n  // You can get the new options for the currently focused screen\n  console.log(e.data.options);\n});\n"})}),"\n",(0,a.jsx)(e.h2,{id:"props",children:"Props"}),"\n",(0,a.jsx)(e.h3,{id:"initialstate",children:(0,a.jsx)(e.code,{children:"initialState"})}),"\n",(0,a.jsx)(e.p,{children:"Prop that accepts initial state for the navigator. This can be useful for cases such as deep linking, state persistence etc."}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  // highlight-next-line\n  initialState={initialState}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  // highlight-next-line\n  initialState={initialState}\n>\n  {/* ... */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsxs)(e.p,{children:["See ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"Navigation state reference"})," for more details on the structure of the state object."]}),"\n",(0,a.jsx)(e.p,{children:"Providing a custom initial state object will override the initial state object obtained via linking configuration or from browser's URL. If you're providing an initial state object, make sure that you don't pass it on web and that there's no deep link to handle."}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"const initialUrl = await Linking.getInitialURL();\n\nif (Platform.OS !== 'web' && initialUrl == null) {\n  // Only restore state if there's no deep link and we're not on web\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["See ",(0,a.jsx)(e.a,{href:"/docs/8.x/state-persistence",children:"state persistence guide"})," for more details on how to persist and restore state."]}),"\n",(0,a.jsx)(e.h3,{id:"onstatechange",children:(0,a.jsx)(e.code,{children:"onStateChange"})}),"\n",(0,a.jsx)(e.admonition,{type:"warning",children:(0,a.jsxs)(e.p,{children:["Consider the navigator's state object to be internal and subject to change in a minor release. Avoid using properties from the ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"navigation state"})," state object except ",(0,a.jsx)(e.code,{children:"index"})," and ",(0,a.jsx)(e.code,{children:"routes"}),", unless you really need it. If there is some functionality you cannot achieve without relying on the structure of the state object, please open an issue."]})}),"\n",(0,a.jsxs)(e.p,{children:["Function that gets called every time ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"navigation state"})," changes. It receives the new navigation state as the argument."]}),"\n",(0,a.jsx)(e.p,{children:"You can use it to track the focused screen, persist the navigation state etc."}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  // highlight-next-line\n  onStateChange={(state) => console.log('New state is', state)}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  // highlight-next-line\n  onStateChange={(state) => console.log('New state is', state)}\n>\n  {/* ... */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.h3,{id:"onready",children:(0,a.jsx)(e.code,{children:"onReady"})}),"\n",(0,a.jsx)(e.p,{children:"Function which is called after the navigation container and all its children finish mounting for the first time. You can use it for:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:["Making sure that the ",(0,a.jsx)(e.code,{children:"ref"})," is usable. See ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigating-without-navigation-prop#handling-initialization",children:"docs regarding initialization of the ref"})," for more details."]}),"\n",(0,a.jsx)(e.li,{children:"Hiding your native splash screen"}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  // highlight-next-line\n  onReady={() => console.log('Navigation container is ready')}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  // highlight-next-line\n  onReady={() => console.log('Navigation container is ready')}\n>\n  {/* ... */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.p,{children:"This callback won't fire if there are no navigators rendered inside the container."}),"\n",(0,a.jsxs)(e.p,{children:["The current status can be obtained with the ",(0,a.jsx)(e.a,{href:"#isready",children:(0,a.jsx)(e.code,{children:"isReady"})})," method on the ref."]}),"\n",(0,a.jsx)(e.h3,{id:"onunhandledaction",children:(0,a.jsx)(e.code,{children:"onUnhandledAction"})}),"\n",(0,a.jsx)(e.p,{children:"Function which is called when a navigation action is not handled by any of the navigators."}),"\n",(0,a.jsx)(e.p,{children:"By default, React Navigation will show a development-only error message when an action is not handled. You can override the default behavior by providing a custom function."}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  // highlight-next-line\n  onUnhandledAction={(action) => console.error('Unhandled action', action)}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  // highlight-next-line\n  onUnhandledAction={(action) => console.error('Unhandled action', action)}\n>\n  {/* ... */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.h3,{id:"linking",children:(0,a.jsx)(e.code,{children:"linking"})}),"\n",(0,a.jsx)(e.p,{children:"Configuration for linking integration used for deep linking, URL support in browsers etc."}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import { createStaticNavigation } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\n\nconst RootStack = createNativeStackNavigator({\n  screens: {\n    Home: {\n      screen: Home,\n      linking: {\n        path: 'feed/:sort',\n      },\n    },\n  },\n});\n\nconst Navigation = createStaticNavigation(RootStack);\n\nfunction App() {\n  const linking = {\n    prefixes: ['https://example.com', 'example://'],\n  };\n\n  return (\n    <Navigation\n      // highlight-next-line\n      linking={linking}\n      fallback={<Text>Loading...</Text>}\n    />\n  );\n}\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import { NavigationContainer } from '@react-navigation/native';\n\nfunction App() {\n  const linking = {\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      screens: {\n        Home: 'feed/:sort',\n      },\n    },\n  };\n\n  return (\n    <NavigationContainer\n      // highlight-next-line\n      linking={linking}\n      fallback={<Text>Loading...</Text>}\n    >\n      {/* content */}\n    </NavigationContainer>\n  );\n}\n"})})})]}),"\n",(0,a.jsxs)(e.p,{children:["See ",(0,a.jsx)(e.a,{href:"/docs/8.x/configuring-links",children:"configuring links guide"})," for more details on how to configure deep links and URL integration."]}),"\n",(0,a.jsx)(e.h4,{id:"options-1",children:"Options"}),"\n",(0,a.jsx)(e.h5,{id:"linkingprefixes",children:(0,a.jsx)(e.code,{children:"linking.prefixes"})}),"\n",(0,a.jsxs)(e.p,{children:["URL prefixes to handle. You can provide multiple prefixes to support custom schemes as well as ",(0,a.jsx)(e.a,{href:"https://developer.apple.com/ios/universal-links/",children:"universal links"}),"."]}),"\n",(0,a.jsx)(e.p,{children:"Only URLs matching these prefixes will be handled. The prefix will be stripped from the URL before parsing."}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  linking={{\n    // highlight-next-line\n    prefixes: ['https://example.com', 'example://'],\n  }}\n  fallback={<Text>Loading...</Text>}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  linking={{\n    // highlight-next-lineP\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      // ...\n    },\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.p,{children:"This is only supported on iOS and Android."}),"\n",(0,a.jsx)(e.h5,{id:"linkingconfig",children:(0,a.jsx)(e.code,{children:"linking.config"})}),"\n",(0,a.jsx)(e.p,{children:"Config to fine-tune how to parse the path."}),"\n",(0,a.jsx)(e.p,{children:"When using dynamic API, the config object should represent the structure of the navigators in the app."}),"\n",(0,a.jsxs)(e.p,{children:["See the ",(0,a.jsx)(e.a,{href:"/docs/8.x/configuring-links",children:"configuring links guide"})," for more details on how to configure deep links and URL integration."]}),"\n",(0,a.jsx)(e.h5,{id:"linkingenabled",children:(0,a.jsx)(e.code,{children:"linking.enabled"})}),"\n",(0,a.jsxs)(e.p,{children:["Optional boolean to enable or disable the linking integration. Defaults to ",(0,a.jsx)(e.code,{children:"true"})," if the ",(0,a.jsx)(e.code,{children:"linking"})," prop is specified."]}),"\n",(0,a.jsxs)(e.p,{children:["When using the static API, it's possible to pass ",(0,a.jsx)(e.code,{children:"'auto'"})," to automatically generate the config based on the navigator's structure. See the ",(0,a.jsx)(e.a,{href:"/docs/8.x/configuring-links",children:"configuring links guide"})," for more details."]}),"\n",(0,a.jsx)(e.h5,{id:"linkinggetinitialurl",children:(0,a.jsx)(e.code,{children:"linking.getInitialURL"})}),"\n",(0,a.jsxs)(e.p,{children:["By default, linking integrates with React Native's ",(0,a.jsx)(e.code,{children:"Linking"})," API and uses ",(0,a.jsx)(e.code,{children:"Linking.getInitialURL()"})," to provide built-in support for deep linking. However, you might also want to handle links from other sources, such as ",(0,a.jsx)(e.a,{href:"https://help.branch.io/developers-hub/docs/react-native",children:"Branch"}),", or push notifications using ",(0,a.jsx)(e.a,{href:"https://rnfirebase.io/messaging/notifications",children:"Firebase"})," etc."]}),"\n",(0,a.jsxs)(e.p,{children:["You can provide a custom ",(0,a.jsx)(e.code,{children:"getInitialURL"})," function where you can return the link which we should use as the initial URL. The ",(0,a.jsx)(e.code,{children:"getInitialURL"})," function should return a ",(0,a.jsx)(e.code,{children:"string"})," if there's a URL to handle, otherwise ",(0,a.jsx)(e.code,{children:"undefined"}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["For example, you could do something like following to handle both deep linking and ",(0,a.jsx)(e.a,{href:"https://rnfirebase.io/messaging/notifications",children:"Firebase notifications"}),":"]}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import messaging from '@react-native-firebase/messaging';\n\n<Navigation\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    // highlight-start\n    async getInitialURL() {\n      // Check if app was opened from a deep link\n      const url = await Linking.getInitialURL();\n\n      if (url != null) {\n        return url;\n      }\n\n      // Check if there is an initial firebase notification\n      const message = await messaging().getInitialNotification();\n\n      // Get the `url` property from the notification which corresponds to a screen\n      // This property needs to be set on the notification payload when sending it\n      return message?.data?.url;\n    },\n    // highlight-end\n  }}\n/>;\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import messaging from '@react-native-firebase/messaging';\n\n<NavigationContainer\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    async getInitialURL() {\n      // Check if app was opened from a deep link\n      const url = await Linking.getInitialURL();\n\n      if (url != null) {\n        return url;\n      }\n\n      // Check if there is an initial firebase notification\n      const message = await messaging().getInitialNotification();\n\n      // Get the `url` property from the notification which corresponds to a screen\n      // This property needs to be set on the notification payload when sending it\n      return message?.data?.url;\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>;\n"})})})]}),"\n",(0,a.jsx)(e.p,{children:"This option is not available on Web."}),"\n",(0,a.jsx)(e.h5,{id:"linkingsubscribe",children:(0,a.jsx)(e.code,{children:"linking.subscribe"})}),"\n",(0,a.jsxs)(e.p,{children:["Similar to ",(0,a.jsx)(e.a,{href:"#linkinggetinitialurl",children:(0,a.jsx)(e.code,{children:"getInitialURL"})}),", you can provide a custom ",(0,a.jsx)(e.code,{children:"subscribe"})," function to handle any incoming links instead of the default deep link handling. The ",(0,a.jsx)(e.code,{children:"subscribe"})," function will receive a listener as the argument and you can call it with a URL string whenever there's a new URL to handle. It should return a cleanup function where you can unsubscribe from any event listeners that you have setup."]}),"\n",(0,a.jsxs)(e.p,{children:["For example, you could do something like following to handle both deep linking and ",(0,a.jsx)(e.a,{href:"https://rnfirebase.io/messaging/notifications",children:"Firebase notifications"}),":"]}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import messaging from '@react-native-firebase/messaging';\n\n<Navigation\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    // highlight-start\n    subscribe(listener) {\n      const onReceiveURL = ({ url }: { url: string }) => listener(url);\n\n      // Listen to incoming links from deep linking\n      const subscription = Linking.addEventListener('url', onReceiveURL);\n\n      // Listen to firebase push notifications\n      const unsubscribeNotification = messaging().onNotificationOpenedApp(\n        (message) => {\n          const url = message.data?.url;\n\n          if (url) {\n            // Any custom logic to check whether the URL needs to be handled\n            //...\n\n            // Call the listener to let React Navigation handle the URL\n            listener(url);\n          }\n        }\n      );\n\n      return () => {\n        // Clean up the event listeners\n        subscription.remove();\n        unsubscribeNotification();\n      };\n    },\n    // highlight-end\n  }}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import messaging from '@react-native-firebase/messaging';\n\n<NavigationContainer\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    subscribe(listener) {\n      const onReceiveURL = ({ url }: { url: string }) => listener(url);\n\n      // Listen to incoming links from deep linking\n      const subscription = Linking.addEventListener('url', onReceiveURL);\n\n      // Listen to firebase push notifications\n      const unsubscribeNotification = messaging().onNotificationOpenedApp(\n        (message) => {\n          const url = message.data?.url;\n\n          if (url) {\n            // Any custom logic to check whether the URL needs to be handled\n            //...\n\n            // Call the listener to let React Navigation handle the URL\n            listener(url);\n          }\n        }\n      );\n\n      return () => {\n        // Clean up the event listeners\n        subscription.remove();\n        unsubscribeNotification();\n      };\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>;\n"})})})]}),"\n",(0,a.jsx)(e.p,{children:"This option is not available on Web."}),"\n",(0,a.jsx)(e.h5,{id:"linkinggetstatefrompath",children:(0,a.jsx)(e.code,{children:"linking.getStateFromPath"})}),"\n",(0,a.jsxs)(e.p,{children:["React Navigation handles deep links and ",(0,a.jsx)(e.a,{href:"/docs/8.x/web-support",children:"URLs on Web"})," by parsing the path to a ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"navigation state"})," object based on the ",(0,a.jsx)(e.a,{href:"#linkingconfig",children:"linking config"}),". You can optionally override the way the parsing happens by providing your own ",(0,a.jsx)(e.code,{children:"getStateFromPath"})," function."]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    // highlight-start\n    getStateFromPath(path, config) {\n      // Return a state object here\n      // You can also reuse the default logic by importing `getStateFromPath` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    getStateFromPath(path, config) {\n      // Return a state object here\n      // You can also reuse the default logic by importing `getStateFromPath` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.h5,{id:"linkinggetpathfromstate",children:(0,a.jsx)(e.code,{children:"linking.getPathFromState"})}),"\n",(0,a.jsxs)(e.p,{children:["On Web, React Navigation automatically updates the ",(0,a.jsx)(e.a,{href:"/docs/8.x/web-support",children:"URL in the browser's address bar"})," to match the current navigation state by serializing the state to a path based on the ",(0,a.jsx)(e.a,{href:"#linkingconfig",children:"linking config"}),". You can optionally override the way the serialization happens by providing your own ",(0,a.jsx)(e.code,{children:"getPathFromState"})," function."]}),"\n",(0,a.jsxs)(e.p,{children:["If you provide a custom ",(0,a.jsx)(e.a,{href:"#linkinggetstatefrompath",children:(0,a.jsx)(e.code,{children:"getStateFromPath"})}),", you should also provide a custom ",(0,a.jsx)(e.code,{children:"getPathFromState"})," to ensure that the parsing and serialization are consistent with each other for Web support to work correctly."]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    // highlight-start\n    getPathFromState(state, config) {\n      // Return a path string here\n      // You can also reuse the default logic by importing `getPathFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    getPathFromState(state, config) {\n      // Return a path string here\n      // You can also reuse the default logic by importing `getPathFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.h5,{id:"linkinggetactionfromstate",children:(0,a.jsx)(e.code,{children:"linking.getActionFromState"})}),"\n",(0,a.jsxs)(e.p,{children:["The state parsed with ",(0,a.jsx)(e.a,{href:"#linkinggetstatefrompath",children:(0,a.jsx)(e.code,{children:"getStateFromPath"})})," is used as the initial state of the navigator. But for subsequent deep links and URLs, the state is converted to a navigation action. Typically it is a ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-actions#navigate",children:(0,a.jsx)(e.code,{children:"navigate"})})," action."]}),"\n",(0,a.jsxs)(e.p,{children:["You can provide a custom ",(0,a.jsx)(e.code,{children:"getActionFromState"})," function to customize how the state is converted to an action."]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    // highlight-start\n    getActionFromState(state, config) {\n      // Return a navigation action here\n      // You can also reuse the default logic by importing `getActionFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  linking={{\n    prefixes: ['https://example.com', 'example://'],\n    config: {\n      // ...\n    },\n    // highlight-start\n    getActionFromState(state, config) {\n      // Return a navigation action here\n      // You can also reuse the default logic by importing `getActionFromState` from `@react-navigation/native`\n    },\n    // highlight-end\n  }}\n>\n  {/* content */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.h3,{id:"fallback",children:(0,a.jsx)(e.code,{children:"fallback"})}),"\n",(0,a.jsxs)(e.p,{children:["React Element to use as a fallback while we resolve deep links. Defaults to ",(0,a.jsx)(e.code,{children:"null"}),"."]}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  // highlight-next-line\n  fallback={<Text>Loading...</Text>}\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  // highlight-next-line\n  fallback={<Text>Loading...</Text>}\n>\n  {/* content */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsxs)(e.p,{children:["If you have a native splash screen, please use ",(0,a.jsx)(e.a,{href:"#onready",children:(0,a.jsx)(e.code,{children:"onReady"})})," instead of ",(0,a.jsx)(e.code,{children:"fallback"})," prop."]}),"\n",(0,a.jsx)(e.h3,{id:"documenttitle",children:(0,a.jsx)(e.code,{children:"documentTitle"})}),"\n",(0,a.jsxs)(e.p,{children:["By default, React Navigation automatically updates the document title on Web to match the ",(0,a.jsx)(e.code,{children:"title"})," option of the focused screen. You can disable it or customize it using this prop. It accepts a configuration object with the following options:"]}),"\n",(0,a.jsx)(e.h4,{id:"documenttitleenabled",children:(0,a.jsx)(e.code,{children:"documentTitle.enabled"})}),"\n",(0,a.jsxs)(e.p,{children:["Whether document title handling should be enabled. Defaults to ",(0,a.jsx)(e.code,{children:"true"}),"."]}),"\n",(0,a.jsx)(e.h4,{id:"documenttitleformatter",children:(0,a.jsx)(e.code,{children:"documentTitle.formatter"})}),"\n",(0,a.jsx)(e.p,{children:"Custom formatter to use if you want to customize the title text. Defaults to:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"(options, route) => options?.title ?? route?.name;\n"})}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<Navigation\n  // highlight-start\n  documentTitle={{\n    formatter: (options, route) =>\n      `${options?.title ?? route?.name} - My Cool App`,\n  }}\n  // highlight-end\n/>\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"<NavigationContainer\n  // highlight-start\n  documentTitle={{\n    formatter: (options, route) =>\n      `${options?.title ?? route?.name} - My Cool App`,\n  }}\n  // highlight-end\n>\n  {/* content */}\n</NavigationContainer>\n"})})})]}),"\n",(0,a.jsx)(e.h3,{id:"theme",children:(0,a.jsx)(e.code,{children:"theme"})}),"\n",(0,a.jsxs)(e.p,{children:["Custom theme to use for the navigation components such as the header, tab bar etc. See ",(0,a.jsx)(e.a,{href:"/docs/8.x/themes",children:"theming guide"})," for more details and usage guide."]}),"\n",(0,a.jsx)(e.h3,{id:"direction",children:(0,a.jsx)(e.code,{children:"direction"})}),"\n",(0,a.jsxs)(e.p,{children:["The direction of the text configured in the app. Defaults to ",(0,a.jsx)(e.code,{children:"'rtl'"})," when ",(0,a.jsx)(e.code,{children:"I18nManager.getConstants().isRTL"})," returns ",(0,a.jsx)(e.code,{children:"true"}),", otherwise ",(0,a.jsx)(e.code,{children:"'ltr'"}),"."]}),"\n",(0,a.jsx)(e.p,{children:"Supported values:"}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"'ltr'"}),": Left-to-right text direction for languages like English, French etc."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"'rtl'"}),": Right-to-left text direction for languages like Arabic, Hebrew etc."]}),"\n"]}),"\n",(0,a.jsx)(e.p,{children:"Example:"}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:'<Navigation\n  // highlight-next-line\n  direction="rtl"\n/>\n'})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:'<NavigationContainer\n  // highlight-next-line\n  direction="rtl"\n>\n  {/* content */}\n</NavigationContainer>\n'})})})]}),"\n",(0,a.jsxs)(e.p,{children:["This is used in various navigators to adjust the content according to the text direction, for example, the drawer in the ",(0,a.jsx)(e.a,{href:"/docs/8.x/drawer-navigator",children:"drawer navigator"})," is positioned on the right side in RTL languages."]}),"\n",(0,a.jsx)(e.p,{children:"This prop informs React Navigation about the text direction in the app, it doesn't change the text direction by itself. If you intend to support RTL languages, it's important to set this prop to the correct value that's configured in the app. If it doesn't match the actual text direction, the layout might be incorrect."}),"\n",(0,a.jsxs)(e.p,{children:["On the Web, it may also be necessary to set the ",(0,a.jsx)(e.code,{children:"dir"})," attribute on the root element of the app to ensure that the text direction is correct:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-html",children:'<html dir="rtl">\n  \x3c!-- App content --\x3e\n</html>\n'})}),"\n",(0,a.jsxs)(e.p,{children:["The ",(0,a.jsx)(e.code,{children:"direction"})," will be available to use in your own components via the ",(0,a.jsx)(e.code,{children:"useLocale"})," hook:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import { useLocale } from '@react-navigation/native';\n\nfunction MyComponent() {\n  const { direction } = useLocale();\n\n  // Use the direction\n}\n"})}),"\n",(0,a.jsx)(e.h3,{id:"persistor",children:(0,a.jsx)(e.code,{children:"persistor"})}),"\n",(0,a.jsxs)(e.p,{children:["An object containing functions to persist and restore the ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-state",children:"navigation state"}),".\nThe ",(0,a.jsx)(e.code,{children:"persistor"})," object should contain two functions:"]}),"\n",(0,a.jsxs)(e.ul,{children:["\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"persist"})," - Function that receives the navigation state as an argument and should save it to storage."]}),"\n",(0,a.jsxs)(e.li,{children:[(0,a.jsx)(e.code,{children:"restore"})," - Function that returns the previously saved state from storage, or ",(0,a.jsx)(e.code,{children:"undefined"})," if there's no saved state."]}),"\n"]}),"\n",(0,a.jsxs)(e.p,{children:["These function can be both synchronous or asynchronous. If a promise is returned from the ",(0,a.jsx)(e.code,{children:"restore"})," function, make sure to provide a ",(0,a.jsx)(e.a,{href:"/docs/8.x/navigation-container#fallback",children:(0,a.jsx)(e.code,{children:"fallback"})}),"."]}),"\n",(0,a.jsxs)(e.p,{children:["See ",(0,a.jsx)(e.a,{href:"/docs/8.x/state-persistence",children:"state persistence guide"})," for example usage."]}),"\n",(0,a.jsx)(e.h2,{id:"independent-navigation-containers",children:"Independent navigation containers"}),"\n",(0,a.jsx)(e.admonition,{type:"warning",children:(0,a.jsx)(e.p,{children:"This is an advanced use case. Don't use this unless you are 100% sure that you need it."})}),"\n",(0,a.jsxs)(e.p,{children:["In most apps, there will be only a single ",(0,a.jsx)(e.code,{children:"NavigationContainer"}),". Nesting multiple ",(0,a.jsx)(e.code,{children:"NavigationContainer"}),"s will throw an error. However, in rare cases, it may be useful to have multiple independent navigation trees, e.g. including a mini-app inside a larger app."]}),"\n",(0,a.jsxs)(e.p,{children:["You can wrap the nested ",(0,a.jsx)(e.code,{children:"NavigationContainer"})," with the ",(0,a.jsx)(e.code,{children:"NavigationIndependentTree"})," component to make it independent from the parent navigation tree:"]}),"\n",(0,a.jsxs)(r.A,{groupId:"config",queryString:"config",children:[(0,a.jsx)(s.A,{value:"static",label:"Static",default:!0,children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import {\n  createStaticNavigation,\n  NavigationIndependentTree,\n} from '@react-navigation/native';\n\n/* content */\n\nconst Navigation = createStaticNavigation(RootStack);\n\nfunction NestedApp() {\n  return (\n    // highlight-start\n    <NavigationIndependentTree>\n      <Navigation />\n    </NavigationIndependentTree>\n    // highlight-end\n  );\n}\n"})})}),(0,a.jsx)(s.A,{value:"dynamic",label:"Dynamic",children:(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-js",children:"import {\n  NavigationContainer,\n  NavigationIndependentTree,\n} from '@react-navigation/native';\n\nfunction NestedApp() {\n  return (\n    // highlight-start\n    <NavigationIndependentTree>\n      <NavigationContainer>{/* content */}</NavigationContainer>\n    </NavigationIndependentTree>\n    // highlight-end\n  );\n}\n"})})})]}),"\n",(0,a.jsx)(e.p,{children:"Doing this disconnects any children navigators from the parent container and doesn't allow navigation between them."}),"\n",(0,a.jsxs)(e.p,{children:["Avoid using this if you need to integrate with third-party components such as modals or bottom sheets. Consider using a ",(0,a.jsx)(e.a,{href:"/docs/8.x/custom-navigators",children:"custom navigator"})," instead."]})]})}function u(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(g,{...n})}):g(n)}},19365:(n,e,t)=>{t.d(e,{A:()=>r});t(96540);var i=t(34164);const a={tabItem:"tabItem_Ymn6"};var o=t(74848);function r(n){let{children:e,hidden:t,className:r}=n;return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(a.tabItem,r),hidden:t,children:e})}},11470:(n,e,t)=>{t.d(e,{A:()=>N});var i=t(96540),a=t(34164),o=t(17559),r=t(23104),s=t(56347),c=t(205),l=t(57485),h=t(31682),d=t(70679);function g(n){var e,t;return null!=(e=null==(t=i.Children.toArray(n).filter((n=>"\n"!==n)).map((n=>{if(!n||(0,i.isValidElement)(n)&&function(n){const{props:e}=n;return!!e&&"object"==typeof e&&"value"in e}(n))return n;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof n.type?n.type:n.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?e:[]}function u(n){const{values:e,children:t}=n;return(0,i.useMemo)((()=>{const n=null!=e?e:function(n){return g(n).map((n=>{let{props:{value:e,label:t,attributes:i,default:a}}=n;return{value:e,label:t,attributes:i,default:a}}))}(t);return function(n){const e=(0,h.XI)(n,((n,e)=>n.value===e.value));if(e.length>0)throw new Error('Docusaurus error: Duplicate values "'+e.map((n=>n.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(n),n}),[e,t])}function p(n){let{value:e,tabValues:t}=n;return t.some((n=>n.value===e))}function m(n){let{queryString:e=!1,groupId:t}=n;const a=(0,s.W6)(),o=function(n){let{queryString:e=!1,groupId:t}=n;if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:e,groupId:t});return[(0,l.aZ)(o),(0,i.useCallback)((n=>{if(!o)return;const e=new URLSearchParams(a.location.search);e.set(o,n),a.replace(Object.assign({},a.location,{search:e.toString()}))}),[o,a])]}function f(n){const{defaultValue:e,queryString:t=!1,groupId:a}=n,o=u(n),[r,s]=(0,i.useState)((()=>function(n){var e;let{defaultValue:t,tabValues:i}=n;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:i}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+i.map((n=>n.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const a=null!=(e=i.find((n=>n.default)))?e:i[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:e,tabValues:o}))),[l,h]=m({queryString:t,groupId:a}),[g,f]=function(n){let{groupId:e}=n;const t=function(n){return n?"docusaurus.tab."+n:null}(e),[a,o]=(0,d.Dv)(t);return[a,(0,i.useCallback)((n=>{t&&o.set(n)}),[t,o])]}({groupId:a}),v=(()=>{const n=null!=l?l:g;return p({value:n,tabValues:o})?n:null})();(0,c.A)((()=>{v&&s(v)}),[v]);return{selectedValue:r,selectValue:(0,i.useCallback)((n=>{if(!p({value:n,tabValues:o}))throw new Error("Can't select invalid tab value="+n);s(n),h(n),f(n)}),[h,f,o]),tabValues:o}}var v=t(92303);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=t(74848);function j(n){let{className:e,block:t,selectedValue:i,selectValue:o,tabValues:s}=n;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),h=n=>{const e=n.currentTarget,t=c.indexOf(e),a=s[t].value;a!==i&&(l(e),o(a))},d=n=>{var e;let t=null;switch(n.key){case"Enter":h(n);break;case"ArrowRight":{var i;const e=c.indexOf(n.currentTarget)+1;t=null!=(i=c[e])?i:c[0];break}case"ArrowLeft":{var a;const e=c.indexOf(n.currentTarget)-1;t=null!=(a=c[e])?a:c[c.length-1];break}}null==(e=t)||e.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},e),children:s.map((n=>{let{value:e,label:t,attributes:o}=n;return(0,b.jsx)("li",Object.assign({role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:n=>{c.push(n)},onKeyDown:d,onClick:h},o,{className:(0,a.A)("tabs__item",x.tabItem,null==o?void 0:o.className,{"tabs__item--active":i===e}),children:null!=t?t:e}),e)}))})}function y(n){let{lazy:e,children:t,selectedValue:o}=n;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const n=r.find((n=>n.props.value===o));return n?(0,i.cloneElement)(n,{className:(0,a.A)("margin-top--md",n.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:r.map(((n,e)=>(0,i.cloneElement)(n,{key:e,hidden:n.props.value!==o})))})}function k(n){const e=f(n);return(0,b.jsxs)("div",{className:(0,a.A)(o.G.tabs.container,"tabs-container",x.tabList),children:[(0,b.jsx)(j,Object.assign({},e,n)),(0,b.jsx)(y,Object.assign({},e,n))]})}function N(n){const e=(0,v.A)();return(0,b.jsx)(k,Object.assign({},n,{children:g(n.children)}),String(e))}},28453:(n,e,t)=>{t.d(e,{R:()=>r,x:()=>s});var i=t(96540);const a={},o=i.createContext(a);function r(n){const e=i.useContext(o);return i.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:r(n.components),i.createElement(o.Provider,{value:e},n.children)}}}]);