"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[8630],{53775:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"status-bar","title":"Different status bar configuration based on route","description":"If you don\'t have a navigation header, or your navigation header changes color based on the route, you\'ll want to ensure that the correct color is used for the content.","source":"@site/versioned_docs/version-3.x/status-bar.md","sourceDirName":".","slug":"/status-bar","permalink":"/docs/3.x/status-bar","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-3.x/status-bar.md","tags":[],"version":"3.x","frontMatter":{"id":"status-bar","title":"Different status bar configuration based on route","sidebar_label":"Different status bar configuration based on route"},"sidebar":"version-3.x-docs","previous":{"title":"Supporting safe areas","permalink":"/docs/3.x/handling-iphonex"},"next":{"title":"Navigation options resolution","permalink":"/docs/3.x/navigation-options-resolution"}}');var r=t(74848),s=t(28453);const o={id:"status-bar",title:"Different status bar configuration based on route",sidebar_label:"Different status bar configuration based on route",rawMarkdown:"---\nid: status-bar\ntitle: Different status bar configuration based on route\nsidebar_label: Different status bar configuration based on route\n---\n\nIf you don't have a navigation header, or your navigation header changes color based on the route, you'll want to ensure that the correct color is used for the content.\n\n## Stack and drawer navigators\n\nThis is a simple task when using a stack or drawer. You can simply render the `StatusBar` component, which is exposed by React Native, and set your config.\n\n```jsx\nclass Screen1 extends React.Component {\n  render() {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: '#6a51ae' }]}>\n        <StatusBar barStyle=\"light-content\" backgroundColor=\"#6a51ae\" />\n        <Text style={[styles.paragraph, { color: '#fff' }]}>Light Screen</Text>\n        <Button\n          title=\"Next screen\"\n          onPress={() => this.props.navigation.navigate('Screen2')}\n          color={isAndroid ? 'blue' : '#fff'}\n        />\n      </SafeAreaView>\n    );\n  }\n}\n\nclass Screen2 extends React.Component {\n  render() {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: '#ecf0f1' }]}>\n        <StatusBar barStyle=\"dark-content\" backgroundColor=\"#ecf0f1\" />\n        <Text style={styles.paragraph}>Dark Screen</Text>\n        <Button\n          title=\"Next screen\"\n          onPress={() => this.props.navigation.navigate('Screen1')}\n        />\n      </SafeAreaView>\n    );\n  }\n}\n```\n\n```jsx\nexport default createStackNavigator(\n  {\n    Screen1: {\n      screen: Screen1,\n    },\n    Screen2: {\n      screen: Screen2,\n    },\n  },\n  {\n    headerMode: 'none',\n  }\n);\n```\n\n![StackNavigator with different StatusBar configs](/assets/statusbar/statusbar-stack-demo.gif)\n\n```jsx\nexport default createDrawerNavigator({\n  Screen1: {\n    screen: Screen1,\n  },\n  Screen2: {\n    screen: Screen2,\n  },\n});\n```\n\n![DrawerNavigator with different StatusBar configs](/assets/statusbar/statusbar-drawer-demo.gif)\n\n## TabNavigator\n\nIf you're using a TabNavigator it's a bit more complex because the screens on all of your tabs are rendered at once - that means that the last `StatusBar` config you set will be used (likely on the final tab of your tab navigator, not what the user is seeing).\n\nTo fix this we'll have to do two things\n\n1. Only use the `StatusBar` component on our initial screen. This allows us to ensure the correct `StatusBar` config is used.\n2. Leverage the events system in React Navigation and `StatusBar`'s implicit API to change the `StatusBar` configuration when a tab becomes active.\n\nFirst, the new `Screen2.js` will no longer use the `StatusBar` component.\n\n```javascript\nclass Screen2 extends React.Component {\n  render() {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: '#ecf0f1' }]}>\n        <Text style={styles.paragraph}>Dark Screen</Text>\n        <Button\n          title=\"Next screen\"\n          onPress={() => this.props.navigation.navigate('Screen1')}\n        />\n        {/* <Button\n          title=\"Toggle Drawer\"\n          onPress={() => this.props.navigation.navigate('DrawerToggle')}\n        /> */}\n      </SafeAreaView>\n    );\n  }\n}\n```\n\nThen, in both `Screen1.js` and `Screen2.js` we'll set up a listener to change the `StatusBar` configuration when that tab `didFocus`. We'll also make sure to remove the listener when the `TabNavigator` has been unmounted.\n\n```javascript\nclass Screen1 extends React.Component {\n  componentDidMount() {\n    this._navListener = this.props.navigation.addListener('didFocus', () => {\n      StatusBar.setBarStyle('light-content');\n      isAndroid && StatusBar.setBackgroundColor('#6a51ae');\n    });\n  }\n\n  componentWillUnmount() {\n    this._navListener.remove();\n  }\n\n  ...\n}\n\nclass Screen2 extends React.Component {\n  componentDidMount() {\n    this._navListener = this.props.navigation.addListener('didFocus', () => {\n      StatusBar.setBarStyle('dark-content');\n      isAndroid && StatusBar.setBackgroundColor('#ecf0f1');\n    });\n  }\n\n  componentWillUnmount() {\n    this._navListener.remove();\n  }\n\n  ...\n}\n```\n\n![TabNavigator with different StatusBar configs](/assets/statusbar/statusbar-tab-demo.gif)\n\nThe code used for these demos is available as a [Snack](https://snack.expo.io/@react-navigation/react-navigation-docs:-stacknavigation-statusbar-v3).\n"},i=void 0,c={},d=[{value:"Stack and drawer navigators",id:"stack-and-drawer-navigators",level:2},{value:"TabNavigator",id:"tabnavigator",level:2}];function l(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"If you don't have a navigation header, or your navigation header changes color based on the route, you'll want to ensure that the correct color is used for the content."}),"\n",(0,r.jsx)(n.h2,{id:"stack-and-drawer-navigators",children:"Stack and drawer navigators"}),"\n",(0,r.jsxs)(n.p,{children:["This is a simple task when using a stack or drawer. You can simply render the ",(0,r.jsx)(n.code,{children:"StatusBar"})," component, which is exposed by React Native, and set your config."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"class Screen1 extends React.Component {\n  render() {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: '#6a51ae' }]}>\n        <StatusBar barStyle=\"light-content\" backgroundColor=\"#6a51ae\" />\n        <Text style={[styles.paragraph, { color: '#fff' }]}>Light Screen</Text>\n        <Button\n          title=\"Next screen\"\n          onPress={() => this.props.navigation.navigate('Screen2')}\n          color={isAndroid ? 'blue' : '#fff'}\n        />\n      </SafeAreaView>\n    );\n  }\n}\n\nclass Screen2 extends React.Component {\n  render() {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: '#ecf0f1' }]}>\n        <StatusBar barStyle=\"dark-content\" backgroundColor=\"#ecf0f1\" />\n        <Text style={styles.paragraph}>Dark Screen</Text>\n        <Button\n          title=\"Next screen\"\n          onPress={() => this.props.navigation.navigate('Screen1')}\n        />\n      </SafeAreaView>\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"export default createStackNavigator(\n  {\n    Screen1: {\n      screen: Screen1,\n    },\n    Screen2: {\n      screen: Screen2,\n    },\n  },\n  {\n    headerMode: 'none',\n  }\n);\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"StackNavigator with different StatusBar configs",src:t(6762).A+"",width:"895",height:"843"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jsx",children:"export default createDrawerNavigator({\n  Screen1: {\n    screen: Screen1,\n  },\n  Screen2: {\n    screen: Screen2,\n  },\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"DrawerNavigator with different StatusBar configs",src:t(10231).A+"",width:"895",height:"843"})}),"\n",(0,r.jsx)(n.h2,{id:"tabnavigator",children:"TabNavigator"}),"\n",(0,r.jsxs)(n.p,{children:["If you're using a TabNavigator it's a bit more complex because the screens on all of your tabs are rendered at once - that means that the last ",(0,r.jsx)(n.code,{children:"StatusBar"})," config you set will be used (likely on the final tab of your tab navigator, not what the user is seeing)."]}),"\n",(0,r.jsx)(n.p,{children:"To fix this we'll have to do two things"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Only use the ",(0,r.jsx)(n.code,{children:"StatusBar"})," component on our initial screen. This allows us to ensure the correct ",(0,r.jsx)(n.code,{children:"StatusBar"})," config is used."]}),"\n",(0,r.jsxs)(n.li,{children:["Leverage the events system in React Navigation and ",(0,r.jsx)(n.code,{children:"StatusBar"}),"'s implicit API to change the ",(0,r.jsx)(n.code,{children:"StatusBar"})," configuration when a tab becomes active."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["First, the new ",(0,r.jsx)(n.code,{children:"Screen2.js"})," will no longer use the ",(0,r.jsx)(n.code,{children:"StatusBar"})," component."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"class Screen2 extends React.Component {\n  render() {\n    return (\n      <SafeAreaView style={[styles.container, { backgroundColor: '#ecf0f1' }]}>\n        <Text style={styles.paragraph}>Dark Screen</Text>\n        <Button\n          title=\"Next screen\"\n          onPress={() => this.props.navigation.navigate('Screen1')}\n        />\n        {/* <Button\n          title=\"Toggle Drawer\"\n          onPress={() => this.props.navigation.navigate('DrawerToggle')}\n        /> */}\n      </SafeAreaView>\n    );\n  }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then, in both ",(0,r.jsx)(n.code,{children:"Screen1.js"})," and ",(0,r.jsx)(n.code,{children:"Screen2.js"})," we'll set up a listener to change the ",(0,r.jsx)(n.code,{children:"StatusBar"})," configuration when that tab ",(0,r.jsx)(n.code,{children:"didFocus"}),". We'll also make sure to remove the listener when the ",(0,r.jsx)(n.code,{children:"TabNavigator"})," has been unmounted."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-javascript",children:"class Screen1 extends React.Component {\n  componentDidMount() {\n    this._navListener = this.props.navigation.addListener('didFocus', () => {\n      StatusBar.setBarStyle('light-content');\n      isAndroid && StatusBar.setBackgroundColor('#6a51ae');\n    });\n  }\n\n  componentWillUnmount() {\n    this._navListener.remove();\n  }\n\n  ...\n}\n\nclass Screen2 extends React.Component {\n  componentDidMount() {\n    this._navListener = this.props.navigation.addListener('didFocus', () => {\n      StatusBar.setBarStyle('dark-content');\n      isAndroid && StatusBar.setBackgroundColor('#ecf0f1');\n    });\n  }\n\n  componentWillUnmount() {\n    this._navListener.remove();\n  }\n\n  ...\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"TabNavigator with different StatusBar configs",src:t(54565).A+"",width:"879",height:"862"})}),"\n",(0,r.jsxs)(n.p,{children:["The code used for these demos is available as a ",(0,r.jsx)(n.a,{href:"https://snack.expo.io/@react-navigation/react-navigation-docs:-stacknavigation-statusbar-v3",children:"Snack"}),"."]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},10231:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/statusbar-drawer-demo-3f6ce5c56a2086d8aba8ab2f1f3f513e.gif"},6762:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/statusbar-stack-demo-695c18cfc1489cd5c4c18827bc66befb.gif"},54565:(e,n,t)=>{t.d(n,{A:()=>a});const a=t.p+"assets/images/statusbar-tab-demo-c5f932fea901d54665ed07f921ad8322.gif"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var a=t(96540);const r={},s=a.createContext(r);function o(e){const n=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),a.createElement(s.Provider,{value:n},e.children)}}}]);