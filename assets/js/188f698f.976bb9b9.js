"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[15535],{64651:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>u,contentTitle:()=>l,default:()=>g,frontMatter:()=>s,metadata:()=>o,toc:()=>p});const o=JSON.parse('{"id":"use-scroll-to-top","title":"useScrollToTop","description":"The expected native behavior of scrollable components is to respond to events from navigation that will scroll to top when tapping on the active tab as you would expect from native tab bars.","source":"@site/versioned_docs/version-7.x/use-scroll-to-top.md","sourceDirName":".","slug":"/use-scroll-to-top","permalink":"/docs/use-scroll-to-top","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-7.x/use-scroll-to-top.md","tags":[],"version":"7.x","frontMatter":{"id":"use-scroll-to-top","title":"useScrollToTop","sidebar_label":"useScrollToTop"},"sidebar":"docs","previous":{"title":"useLinkBuilder","permalink":"/docs/use-link-builder"},"next":{"title":"useTheme","permalink":"/docs/use-theme"}}');var r=t(74848),a=t(28453),i=t(11470),c=t(19365);const s={id:"use-scroll-to-top",title:"useScrollToTop",sidebar_label:"useScrollToTop",rawMarkdown:"---\nid: use-scroll-to-top\ntitle: useScrollToTop\nsidebar_label: useScrollToTop\n---\n\nimport Tabs from '@theme/Tabs';\nimport TabItem from '@theme/TabItem';\n\nThe expected native behavior of scrollable components is to respond to events from navigation that will scroll to top when tapping on the active tab as you would expect from native tab bars.\n\nIn order to achieve it we export `useScrollToTop` which accept ref to scrollable component (e,g. `ScrollView` or `FlatList`).\n\nExample:\n\n```js name=\"useScrollToTop hook\" snack static2dynamic\nimport * as React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { createStaticNavigation } from '@react-navigation/native';\nimport { View, Image } from 'react-native';\n// codeblock-focus-start\nimport { ScrollView } from 'react-native';\nimport { useScrollToTop } from '@react-navigation/native';\n\nfunction Albums() {\n  const ref = React.useRef(null);\n\n  // highlight-next-line\n  useScrollToTop(ref);\n\n  return (\n    <ScrollView ref={ref}>\n      {/* content */}\n      // codeblock-focus-end\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"1\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"2\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"3\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"4\"\n      />\n      // codeblock-focus-start\n    </ScrollView>\n  );\n}\n// codeblock-focus-end\n\nfunction HomeScreen() {\n  return <View />;\n}\n\nconst MyTabs = createBottomTabNavigator({\n  screens: {\n    Home: HomeScreen,\n    Albums: Albums,\n  },\n});\n\nconst Navigation = createStaticNavigation(MyTabs);\n\nexport default function App() {\n  return <Navigation />;\n}\n```\n\n## Using with class component\n\nYou can wrap your class component in a function component to use the hook:\n\n```js\nclass Albums extends React.Component {\n  render() {\n    return <ScrollView ref={this.props.scrollRef}>{/* content */}</ScrollView>;\n  }\n}\n\n// Wrap and export\nexport default function (props) {\n  const ref = React.useRef(null);\n\n  useScrollToTop(ref);\n\n  return <Albums {...props} scrollRef={ref} />;\n}\n```\n\n## Providing scroll offset\n\nIf you require offset to scroll position you can wrap and decorate passed reference:\n\n```js name=\"useScrollToTop hook - providing scroll offset\" snack static2dynamic\nimport * as React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { View, Image } from 'react-native';\nimport { createStaticNavigation } from '@react-navigation/native';\n\n// codeblock-focus-start\nimport { ScrollView } from 'react-native';\nimport { useScrollToTop } from '@react-navigation/native';\n\nfunction Albums() {\n  const ref = React.useRef(null);\n\n  useScrollToTop(\n    React.useRef({\n      scrollToTop: () => ref.current?.scrollTo({ y: 100 }),\n    })\n  );\n\n  return (\n    <ScrollView ref={ref}>\n      {/* content */}\n      // codeblock-focus-end\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"1\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"2\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"3\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"4\"\n      />\n      // codeblock-focus-start\n    </ScrollView>\n  );\n}\n// codeblock-focus-end\n\nfunction HomeScreen() {\n  return <View />;\n}\n\nconst MyTab = createBottomTabNavigator({\n  screens: {\n    Home: HomeScreen,\n    Albums: Albums,\n  },\n});\n\nconst Navigation = createStaticNavigation(MyTab);\n\nexport default function App() {\n  return <Navigation />;\n}\n```\n"},l=void 0,u={},p=[{value:"Using with class component",id:"using-with-class-component",level:2},{value:"Providing scroll offset",id:"providing-scroll-offset",level:2}];function m(e){const n={code:"code",h2:"h2",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"The expected native behavior of scrollable components is to respond to events from navigation that will scroll to top when tapping on the active tab as you would expect from native tab bars."}),"\n",(0,r.jsxs)(n.p,{children:["In order to achieve it we export ",(0,r.jsx)(n.code,{children:"useScrollToTop"})," which accept ref to scrollable component (e,g. ",(0,r.jsx)(n.code,{children:"ScrollView"})," or ",(0,r.jsx)(n.code,{children:"FlatList"}),")."]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsxs)(i.A,{groupId:"config",queryString:"config",children:["\n",(0,r.jsxs)(c.A,{value:"static",label:"Static",default:!0,children:["\n\n",(0,r.jsx)(n.pre,{"data-name":"useScrollToTop hook","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(n.code,{className:"language-js",metastring:'name="useScrollToTop hook" snack static2dynamic',children:"import * as React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { createStaticNavigation } from '@react-navigation/native';\nimport { View, Image } from 'react-native';\n// codeblock-focus-start\nimport { ScrollView } from 'react-native';\nimport { useScrollToTop } from '@react-navigation/native';\n\nfunction Albums() {\n  const ref = React.useRef(null);\n\n  // highlight-next-line\n  useScrollToTop(ref);\n\n  return (\n    <ScrollView ref={ref}>\n      {/* content */}\n      // codeblock-focus-end\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"1\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"2\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"3\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"4\"\n      />\n      // codeblock-focus-start\n    </ScrollView>\n  );\n}\n// codeblock-focus-end\n\nfunction HomeScreen() {\n  return <View />;\n}\n\nconst MyTabs = createBottomTabNavigator({\n  screens: {\n    Home: HomeScreen,\n    Albums: Albums,\n  },\n});\n\nconst Navigation = createStaticNavigation(MyTabs);\n\nexport default function App() {\n  return <Navigation />;\n}\n"})}),"\n\n"]}),"\n",(0,r.jsxs)(c.A,{value:"dynamic",label:"Dynamic",children:["\n\n",(0,r.jsx)(n.pre,{"data-name":"useScrollToTop hook","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(n.code,{className:"language-js",metastring:'name="useScrollToTop hook" snack static2dynamic',children:"import * as React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { View, Image } from 'react-native';\n// codeblock-focus-start\nimport { ScrollView } from 'react-native';\nimport { useScrollToTop } from '@react-navigation/native';\n\nfunction Albums() {\n  const ref = React.useRef(null);\n\n  // highlight-next-line\n  useScrollToTop(ref);\n\n  return (\n    <ScrollView ref={ref}>\n      {/* content */}\n      // codeblock-focus-end\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"1\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"2\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"3\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"4\"\n      />\n      // codeblock-focus-start\n    </ScrollView>\n  );\n}\n// codeblock-focus-end\n\nfunction HomeScreen() {\n  return <View />;\n}\n\nconst Tab = createBottomTabNavigator();\n\nfunction MyTabs() {\n  return (\n    <Tab.Navigator>\n      <Tab.Screen name=\"Home\" component={HomeScreen} />\n      <Tab.Screen name=\"Albums\" component={Albums} />\n    </Tab.Navigator>\n  );\n}\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <MyTabs />\n    </NavigationContainer>\n  );\n}"})}),"\n\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"using-with-class-component",children:"Using with class component"}),"\n",(0,r.jsx)(n.p,{children:"You can wrap your class component in a function component to use the hook:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"class Albums extends React.Component {\n  render() {\n    return <ScrollView ref={this.props.scrollRef}>{/* content */}</ScrollView>;\n  }\n}\n\n// Wrap and export\nexport default function (props) {\n  const ref = React.useRef(null);\n\n  useScrollToTop(ref);\n\n  return <Albums {...props} scrollRef={ref} />;\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"providing-scroll-offset",children:"Providing scroll offset"}),"\n",(0,r.jsx)(n.p,{children:"If you require offset to scroll position you can wrap and decorate passed reference:"}),"\n",(0,r.jsxs)(i.A,{groupId:"config",queryString:"config",children:["\n",(0,r.jsxs)(c.A,{value:"static",label:"Static",default:!0,children:["\n\n",(0,r.jsx)(n.pre,{"data-name":"useScrollToTop hook - providing scroll offset","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(n.code,{className:"language-js",metastring:'name="useScrollToTop hook - providing scroll offset" snack static2dynamic',children:"import * as React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { View, Image } from 'react-native';\nimport { createStaticNavigation } from '@react-navigation/native';\n\n// codeblock-focus-start\nimport { ScrollView } from 'react-native';\nimport { useScrollToTop } from '@react-navigation/native';\n\nfunction Albums() {\n  const ref = React.useRef(null);\n\n  useScrollToTop(\n    React.useRef({\n      scrollToTop: () => ref.current?.scrollTo({ y: 100 }),\n    })\n  );\n\n  return (\n    <ScrollView ref={ref}>\n      {/* content */}\n      // codeblock-focus-end\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"1\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"2\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"3\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"4\"\n      />\n      // codeblock-focus-start\n    </ScrollView>\n  );\n}\n// codeblock-focus-end\n\nfunction HomeScreen() {\n  return <View />;\n}\n\nconst MyTab = createBottomTabNavigator({\n  screens: {\n    Home: HomeScreen,\n    Albums: Albums,\n  },\n});\n\nconst Navigation = createStaticNavigation(MyTab);\n\nexport default function App() {\n  return <Navigation />;\n}\n"})}),"\n\n"]}),"\n",(0,r.jsxs)(c.A,{value:"dynamic",label:"Dynamic",children:["\n\n",(0,r.jsx)(n.pre,{"data-name":"useScrollToTop hook - providing scroll offset","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(n.code,{className:"language-js",metastring:'name="useScrollToTop hook - providing scroll offset" snack static2dynamic',children:"import * as React from 'react';\nimport { createBottomTabNavigator } from '@react-navigation/bottom-tabs';\nimport { View, Image } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\n\n// codeblock-focus-start\nimport { ScrollView } from 'react-native';\nimport { useScrollToTop } from '@react-navigation/native';\n\nfunction Albums() {\n  const ref = React.useRef(null);\n\n  useScrollToTop(\n    React.useRef({\n      scrollToTop: () => ref.current?.scrollTo({ y: 100 }),\n    })\n  );\n\n  return (\n    <ScrollView ref={ref}>\n      {/* content */}\n      // codeblock-focus-end\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"1\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"2\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"3\"\n      />\n      <Image\n        source={{ uri: 'https://facebook.github.io/react/logo-og.png' }}\n        style={{ width: 400, height: 400 }}\n        key=\"4\"\n      />\n      // codeblock-focus-start\n    </ScrollView>\n  );\n}\n// codeblock-focus-end\n\nfunction HomeScreen() {\n  return <View />;\n}\n\nconst Tab = createBottomTabNavigator();\n\nfunction MyTab() {\n  return (\n    <Tab.Navigator>\n      <Tab.Screen name=\"Home\" component={HomeScreen} />\n      <Tab.Screen name=\"Albums\" component={Albums} />\n    </Tab.Navigator>\n  );\n}\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <MyTab />\n    </NavigationContainer>\n  );\n}"})}),"\n\n"]}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>i});t(96540);var o=t(34164);const r={tabItem:"tabItem_Ymn6"};var a=t(74848);function i(e){let{children:n,hidden:t,className:i}=e;return(0,a.jsx)("div",{role:"tabpanel",className:(0,o.A)(r.tabItem,i),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>S});var o=t(96540),r=t(34164),a=t(17559),i=t(23104),c=t(56347),s=t(205),l=t(57485),u=t(31682),p=t(70679);function m(e){var n,t;return null!=(n=null==(t=o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}function g(e){const{values:n,children:t}=e;return(0,o.useMemo)((()=>{const e=null!=n?n:function(e){return m(e).map((e=>{let{props:{value:n,label:t,attributes:o,default:r}}=e;return{value:n,label:t,attributes:o,default:r}}))}(t);return function(e){const n=(0,u.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function f(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function d(e){let{queryString:n=!1,groupId:t}=e;const r=(0,c.W6)(),a=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:n,groupId:t});return[(0,l.aZ)(a),(0,o.useCallback)((e=>{if(!a)return;const n=new URLSearchParams(r.location.search);n.set(a,e),r.replace(Object.assign({},r.location,{search:n.toString()}))}),[a,r])]}function h(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,a=g(e),[i,c]=(0,o.useState)((()=>function(e){var n;let{defaultValue:t,tabValues:o}=e;if(0===o.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:o}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+o.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const r=null!=(n=o.find((e=>e.default)))?n:o[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:a}))),[l,u]=d({queryString:t,groupId:r}),[m,h]=function(e){let{groupId:n}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(n),[r,a]=(0,p.Dv)(t);return[r,(0,o.useCallback)((e=>{t&&a.set(e)}),[t,a])]}({groupId:r}),b=(()=>{const e=null!=l?l:m;return f({value:e,tabValues:a})?e:null})();(0,s.A)((()=>{b&&c(b)}),[b]);return{selectedValue:i,selectValue:(0,o.useCallback)((e=>{if(!f({value:e,tabValues:a}))throw new Error("Can't select invalid tab value="+e);c(e),u(e),h(e)}),[u,h,a]),tabValues:a}}var b=t(92303);const v={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var T=t(74848);function k(e){let{className:n,block:t,selectedValue:o,selectValue:a,tabValues:c}=e;const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),u=e=>{const n=e.currentTarget,t=s.indexOf(n),r=c[t].value;r!==o&&(l(n),a(r))},p=e=>{var n;let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{var o;const n=s.indexOf(e.currentTarget)+1;t=null!=(o=s[n])?o:s[0];break}case"ArrowLeft":{var r;const n=s.indexOf(e.currentTarget)-1;t=null!=(r=s[n])?r:s[s.length-1];break}}null==(n=t)||n.focus()};return(0,T.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:c.map((e=>{let{value:n,label:t,attributes:a}=e;return(0,T.jsx)("li",Object.assign({role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,ref:e=>{s.push(e)},onKeyDown:p,onClick:u},a,{className:(0,r.A)("tabs__item",v.tabItem,null==a?void 0:a.className,{"tabs__item--active":o===n}),children:null!=t?t:n}),n)}))})}function y(e){let{lazy:n,children:t,selectedValue:a}=e;const i=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===a));return e?(0,o.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,T.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function w(e){const n=h(e);return(0,T.jsxs)("div",{className:(0,r.A)(a.G.tabs.container,"tabs-container",v.tabList),children:[(0,T.jsx)(k,Object.assign({},n,e)),(0,T.jsx)(y,Object.assign({},n,e))]})}function S(e){const n=(0,b.A)();return(0,T.jsx)(w,Object.assign({},e,{children:m(e.children)}),String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>c});var o=t(96540);const r={},a=o.createContext(r);function i(e){const n=o.useContext(a);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(a.Provider,{value:n},e.children)}}}]);