"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[66761],{82543:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>c,contentTitle:()=>r,default:()=>p,frontMatter:()=>s,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"redux-integration","title":"Redux integration","description":"It is extremely easy to use Redux in an app with React Navigation. It\'s basically no different than without React Navigation. The following example shows how to do it end to end","source":"@site/versioned_docs/version-3.x/redux-integration.md","sourceDirName":".","slug":"/redux-integration","permalink":"/docs/3.x/redux-integration","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-3.x/redux-integration.md","tags":[],"version":"3.x","frontMatter":{"id":"redux-integration","title":"Redux integration","sidebar_label":"Redux integration"},"sidebar":"version-3.x-docs","previous":{"title":"State persistence","permalink":"/docs/3.x/state-persistence"},"next":{"title":"MobX State Tree integration","permalink":"/docs/3.x/MST-integration"}}');var o=n(74848),i=n(28453);const s={id:"redux-integration",title:"Redux integration",sidebar_label:"Redux integration",rawMarkdown:"---\nid: redux-integration\ntitle: Redux integration\nsidebar_label: Redux integration\n---\n\nIt is extremely easy to use Redux in an app with React Navigation. It's basically no different than without React Navigation. The following example shows how to do it end to end: [snack.expo.io/@react-navigation/redux-example](https://snack.expo.io/@react-navigation/redux-example). The most important piece from it is the following:\n\n```js\nlet RootStack = createStackNavigator({\n  Counter: CounterContainer,\n  StaticCounter: StaticCounterContainer,\n});\n\nlet Navigation = createAppContainer(RootStack);\n\n// Render the app container component with the provider around it\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Navigation />\n      </Provider>\n    );\n  }\n}\n```\n\nNotice that we take the component returned from `createAppContainer` and wrap it in a `Provider`. Ta da! Now feel free to use `connect` throughout your app.\n\n## What about `navigationOptions`?\n\nAlright fair enough, the answer here isn't the most obvious. Let's say that you want to access the Redux store state from the title, what would you do? There are a couple of options. For these examples let's say that you want to put the count from the above example into the title.\n\n### Use a component that is `connect`ed\n\nCreate a component, `connect` it to the store, then use that component in the `title`.\n\n```js\nclass Count extends React.Component {\n  render() {\n    return <Text>Count: {this.props.value}</Text>;\n  }\n}\n\nlet CountContainer = connect((state) => ({ value: state.count }))(Count);\n\nclass Counter extends React.Component {\n  static navigationOptions = {\n    title: <CountContainer />,\n  };\n\n  /* .. the rest of the code */\n}\n```\n\n[See a runnable example](https://snack.expo.io/@react-navigation/redux-example-with-dynamic-title).\n\n### Pass the state you care about as a param to the screen\n\nIf the value isn't expected to change, you can just pass it from a `connect`ed component to the other screen as a param.\n\n```js\n<Button\n  title=\"Go to static count screen\"\n  onPress={() =>\n    this.props.navigation.navigate('StaticCounter', {\n      count: this.props.count,\n    })\n  }\n/>\n```\n\n```js\nclass StaticCounter extends React.Component {\n  static navigationOptions = ({ navigation }) => ({\n    title: navigation.getParam('count'),\n  });\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.paragraph}>\n          {this.props.navigation.getParam('count')}\n        </Text>\n      </View>\n    );\n  }\n}\n```\n\n[See a runnable example](https://snack.expo.io/@react-navigation/redux-example-with-dynamic-title).\n\n### setParams from your screen\n\nLet's modify the `StaticCounter` from the previous example as follows:\n\n```js\nclass StaticCounter extends React.Component {\n  static navigationOptions = ({ navigation }) => ({\n    title: navigation.getParam('count'),\n  });\n\n  componentDidMount() {\n    this.updateCount();\n  }\n\n  componentDidUpdate() {\n    this.updateCount();\n  }\n\n  updateCount() {\n    this.props.navigation.setParams({ count: this.props.count });\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.paragraph}>\n          {this.props.navigation.getParam('count')}\n        </Text>\n      </View>\n    );\n  }\n}\n```\n\nNow whenever the store updates we update the `count` param and the title updates accordingly.\n\n## Can I store the navigation state in Redux too?\n\nThis is technically possible, but we don't recommend it - it's too easy to shoot yourself in the foot and slow down / break your app. We encourage you to leave it up to React Navigation to manage the navigation state. But if you really want to do this, you can use [react-navigation-redux-helpers](https://github.com/react-navigation/react-navigation-redux-helpers), but this isn't an officially supported workflow.\n"},r=void 0,c={},u=[{value:"What about <code>navigationOptions</code>?",id:"what-about-navigationoptions",level:2},{value:"Use a component that is <code>connect</code>ed",id:"use-a-component-that-is-connected",level:3},{value:"Pass the state you care about as a param to the screen",id:"pass-the-state-you-care-about-as-a-param-to-the-screen",level:3},{value:"setParams from your screen",id:"setparams-from-your-screen",level:3},{value:"Can I store the navigation state in Redux too?",id:"can-i-store-the-navigation-state-in-redux-too",level:2}];function d(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...t.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(e.p,{children:["It is extremely easy to use Redux in an app with React Navigation. It's basically no different than without React Navigation. The following example shows how to do it end to end: ",(0,o.jsx)(e.a,{href:"https://snack.expo.io/@react-navigation/redux-example",children:"snack.expo.io/@react-navigation/redux-example"}),". The most important piece from it is the following:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"let RootStack = createStackNavigator({\n  Counter: CounterContainer,\n  StaticCounter: StaticCounterContainer,\n});\n\nlet Navigation = createAppContainer(RootStack);\n\n// Render the app container component with the provider around it\nexport default class App extends React.Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <Navigation />\n      </Provider>\n    );\n  }\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:["Notice that we take the component returned from ",(0,o.jsx)(e.code,{children:"createAppContainer"})," and wrap it in a ",(0,o.jsx)(e.code,{children:"Provider"}),". Ta da! Now feel free to use ",(0,o.jsx)(e.code,{children:"connect"})," throughout your app."]}),"\n",(0,o.jsxs)(e.h2,{id:"what-about-navigationoptions",children:["What about ",(0,o.jsx)(e.code,{children:"navigationOptions"}),"?"]}),"\n",(0,o.jsx)(e.p,{children:"Alright fair enough, the answer here isn't the most obvious. Let's say that you want to access the Redux store state from the title, what would you do? There are a couple of options. For these examples let's say that you want to put the count from the above example into the title."}),"\n",(0,o.jsxs)(e.h3,{id:"use-a-component-that-is-connected",children:["Use a component that is ",(0,o.jsx)(e.code,{children:"connect"}),"ed"]}),"\n",(0,o.jsxs)(e.p,{children:["Create a component, ",(0,o.jsx)(e.code,{children:"connect"})," it to the store, then use that component in the ",(0,o.jsx)(e.code,{children:"title"}),"."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"class Count extends React.Component {\n  render() {\n    return <Text>Count: {this.props.value}</Text>;\n  }\n}\n\nlet CountContainer = connect((state) => ({ value: state.count }))(Count);\n\nclass Counter extends React.Component {\n  static navigationOptions = {\n    title: <CountContainer />,\n  };\n\n  /* .. the rest of the code */\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://snack.expo.io/@react-navigation/redux-example-with-dynamic-title",children:"See a runnable example"}),"."]}),"\n",(0,o.jsx)(e.h3,{id:"pass-the-state-you-care-about-as-a-param-to-the-screen",children:"Pass the state you care about as a param to the screen"}),"\n",(0,o.jsxs)(e.p,{children:["If the value isn't expected to change, you can just pass it from a ",(0,o.jsx)(e.code,{children:"connect"}),"ed component to the other screen as a param."]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"<Button\n  title=\"Go to static count screen\"\n  onPress={() =>\n    this.props.navigation.navigate('StaticCounter', {\n      count: this.props.count,\n    })\n  }\n/>\n"})}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"class StaticCounter extends React.Component {\n  static navigationOptions = ({ navigation }) => ({\n    title: navigation.getParam('count'),\n  });\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.paragraph}>\n          {this.props.navigation.getParam('count')}\n        </Text>\n      </View>\n    );\n  }\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:[(0,o.jsx)(e.a,{href:"https://snack.expo.io/@react-navigation/redux-example-with-dynamic-title",children:"See a runnable example"}),"."]}),"\n",(0,o.jsx)(e.h3,{id:"setparams-from-your-screen",children:"setParams from your screen"}),"\n",(0,o.jsxs)(e.p,{children:["Let's modify the ",(0,o.jsx)(e.code,{children:"StaticCounter"})," from the previous example as follows:"]}),"\n",(0,o.jsx)(e.pre,{children:(0,o.jsx)(e.code,{className:"language-js",children:"class StaticCounter extends React.Component {\n  static navigationOptions = ({ navigation }) => ({\n    title: navigation.getParam('count'),\n  });\n\n  componentDidMount() {\n    this.updateCount();\n  }\n\n  componentDidUpdate() {\n    this.updateCount();\n  }\n\n  updateCount() {\n    this.props.navigation.setParams({ count: this.props.count });\n  }\n\n  render() {\n    return (\n      <View style={styles.container}>\n        <Text style={styles.paragraph}>\n          {this.props.navigation.getParam('count')}\n        </Text>\n      </View>\n    );\n  }\n}\n"})}),"\n",(0,o.jsxs)(e.p,{children:["Now whenever the store updates we update the ",(0,o.jsx)(e.code,{children:"count"})," param and the title updates accordingly."]}),"\n",(0,o.jsx)(e.h2,{id:"can-i-store-the-navigation-state-in-redux-too",children:"Can I store the navigation state in Redux too?"}),"\n",(0,o.jsxs)(e.p,{children:["This is technically possible, but we don't recommend it - it's too easy to shoot yourself in the foot and slow down / break your app. We encourage you to leave it up to React Navigation to manage the navigation state. But if you really want to do this, you can use ",(0,o.jsx)(e.a,{href:"https://github.com/react-navigation/react-navigation-redux-helpers",children:"react-navigation-redux-helpers"}),", but this isn't an officially supported workflow."]})]})}function p(t={}){const{wrapper:e}={...(0,i.R)(),...t.components};return e?(0,o.jsx)(e,{...t,children:(0,o.jsx)(d,{...t})}):d(t)}},28453:(t,e,n)=>{n.d(e,{R:()=>s,x:()=>r});var a=n(96540);const o={},i=a.createContext(o);function s(t){const e=a.useContext(i);return a.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function r(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(o):t.components||o:s(t.components),a.createElement(i.Provider,{value:e},t.children)}}}]);