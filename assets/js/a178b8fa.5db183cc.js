"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[49797],{86660:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>c,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"upgrading-from-3.x","title":"Upgrading from 3.x","description":"In React Navigation 4, we\'ve extracted out the navigators to separate packages to make it easier to maintain and release updates faster. You can follow the guide below to upgrade your projects.","source":"@site/versioned_docs/version-4.x/upgrading-from-3.x.md","sourceDirName":".","slug":"/upgrading-from-3.x","permalink":"/docs/4.x/upgrading-from-3.x","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-4.x/upgrading-from-3.x.md","tags":[],"version":"4.x","frontMatter":{"id":"upgrading-from-3.x","title":"Upgrading from 3.x","sidebar_label":"Upgrading from 3.x"},"sidebar":"version-4.x-docs","previous":{"title":"Optimize memory usage and performance","permalink":"/docs/4.x/react-native-screens"},"next":{"title":"Navigation prop","permalink":"/docs/4.x/navigation-prop"}}');var t=a(74848),r=a(28453),o=a(11470),s=a(19365);const c={id:"upgrading-from-3.x",title:"Upgrading from 3.x",sidebar_label:"Upgrading from 3.x",rawMarkdown:"---\nid: upgrading-from-3.x\ntitle: Upgrading from 3.x\nsidebar_label: Upgrading from 3.x\n---\n\nIn React Navigation 4, we've extracted out the navigators to separate packages to make it easier to maintain and release updates faster. You can follow the guide below to upgrade your projects.\n\n> Note: Before making these changes, we recommend you to commit all local changes to git so you can revert back to a good state if something goes wrong with the upgrade.\n\n## Install the new packages\n\nFirst, we need to install the `react-navigation` package along with the various navigators. If you don't use some of these navigators, you can omit them.\n\nTo install them, run:\n\n```bash npm2yarn\nnpm install react-navigation react-navigation-stack@^1.7.3 react-navigation-tabs@^1.2.0 react-navigation-drawer@^1.4.0\n```\n\nThis will install the versions compatible with your code if you were using `react-navigation@3.x`, so you wouldn't need any more changes beyond changing the imports.\n\n> Note: If you have `@react-navigation/core` or `@react-navigation/native` in your `package.json`, please remove them and change the imports to import from `react-navigation` package instead.\n\n## Changing your code\n\nThen change any imports for stack, tabs or drawer to import from the above packages instead of `react-navigation`.\n\n```diff\n- import { createAppContainer, createStackNavigator } from 'react-navigation';\n+ import { createAppContainer } from 'react-navigation';\n+ import { createStackNavigator } from 'react-navigation-stack';\n```\n\nThe following imports need to be changed to import from `react-navigation-stack`:\n\n- `createStackNavigator`\n- `StackGestureContext`\n- `Transitioner`\n- `StackView`\n- `StackViewCard`\n- `StackViewTransitionConfigs`\n- `Header`\n- `HeaderTitle`\n- `HeaderBackButton`\n- `HeaderStyleInterpolator`\n\nThe following imports need to be changed to import from `react-navigation-tabs`:\n\n- `createBottomTabNavigator`\n- `createMaterialTopTabNavigator`\n- `BottomTabBar`\n- `MaterialTopTabBar`\n\nThe following imports need to be changed to import from `react-navigation-drawer`:\n\n- `createDrawerNavigator`\n- `DrawerGestureContext`\n- `DrawerRouter`\n- `DrawerActions`\n- `DrawerView`\n- `DrawerNavigatorItems`\n- `DrawerSidebar`\n\n## Upgrading navigators (optional)\n\nYou don't need to upgrade the navigators to their latest version when upgrading to `react-navigation@4.x`. You can upgrade them separately later as per your convenience.\n\n> Note: We recommend to do each of these changes in a separate commit so you can revert back to a good state if something goes wrong with the upgrade.\n\n### Installing dependencies\n\nThe latest drawer and tabs depend on [`react-native-gesture-handler`](https://github.com/software-mansion/react-native-gesture-handler) and [`react-native-reanimated`](https://github.com/software-mansion/react-native-reanimated). If you already have these libraries installed and at the latest version, you are done here! Otherwise, read on for installation instructions for these dependencies.\n\n#### Installing dependencies into an Expo managed project\n\nIn your project directory, run the following:\n\n```bash\nnpx expo install react-native-gesture-handler react-native-reanimated\n```\n\nThis will install versions of these libraries that are compatible.\n\n#### Installing dependencies into a bare React Native project\n\nIn your project directory, run `npm install react-native-reanimated react-native-gesture-handler react-native-screens`.\n\nNext, we need to link these libraries. The steps depends on your React Native version:\n\n- **React Native 0.60 and higher**\n\n  On newer versions of React Native, [linking is automatic](https://github.com/react-native-community/cli/blob/master/docs/autolinking.md).\n\n  To complete the linking on iOS, make sure you have [Cocoapods](https://cocoapods.org/) installed. Then run:\n\n  ```bash\n  cd ios\n  pod install\n  cd ..\n  ```\n\n- **React Native 0.59 and lower**\n\n  If you're on an older React Native version, you need to manually link the dependencies. To do that, run:\n\n  ```bash\n  react-native link react-native-reanimated\n  react-native link react-native-gesture-handler\n  ```\n\nTo finalize installation of `react-native-gesture-handler` for Android, make the following modifications to `MainActivity.java`:\n\n```diff\npackage com.reactnavigation.example;\n\nimport com.facebook.react.ReactActivity;\n+ import com.facebook.react.ReactActivityDelegate;\n+ import com.facebook.react.ReactRootView;\n+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;\n\npublic class MainActivity extends ReactActivity {\n\n  @Override\n  protected String getMainComponentName() {\n    return \"Example\";\n  }\n\n+  @Override\n+  protected ReactActivityDelegate createReactActivityDelegate() {\n+    return new ReactActivityDelegate(this, getMainComponentName()) {\n+      @Override\n+      protected ReactRootView createRootView() {\n+       return new RNGestureHandlerEnabledRootView(MainActivity.this);\n+      }\n+    };\n+  }\n}\n```\n\n### Upgrading packages\n\n#### `react-navigation-tabs`\n\nTo upgrade `react-navigation-tabs`, run:\n\n```bash npm2yarn\nnpm install react-navigation-tabs\n```\n\nThis version upgrades [`react-native-tab-view`](https://github.com/react-navigation/react-navigation/tree/main/packages/react-native-tab-view) to 2.x. As a result, the animations in `createMaterialTopTabNavigator` now use the [`react-native-reanimated`](https://github.com/software-mansion/react-native-reanimated) library.\n\n##### Breaking changes\n\n- If you have a custom tab bar in `createMaterialTopTabNavigator` which uses the `position` prop, you'll need to update it to use `Animated` from `react-native-reanimated` instead of `react-native`.\n- The `activeTintColor` and `inactiveTintColor` options for the tab bar of `createMaterialTopTabNavigator` now controls the opacity of the label and icons as well.\n- The `animationsEnabled` and `optimizationsEnabled` options have been removed from `createMaterialTopTabNavigator`.\n- Support for React < 16.3 has been dropped, which means the minimum supported React Native version is now 0.56.\n\n##### New features\n\n- A new `lazyPlaceholderComponent` option is added which lets you show a placeholder for lazy loaded tabs.\n\n#### `react-navigation-drawer`\n\nTo upgrade `react-navigation-drawer`, run:\n\n```bash npm2yarn\nnpm install react-navigation-drawer\n```\n\nThis version upgrades now uses the [`react-native-reanimated`](https://github.com/software-mansion/react-native-reanimated) library for animations. This means, if you're using the `drawerProgress` value, you'll need to migrate your code to use `Animated` from `react-native-reanimated`.\n\n#### `react-navigation-stack`\n\nTo upgrade `react-navigation-stack`, run:\n\n```bash npm2yarn\nnpm install react-navigation-stack\n```\n\nIn this release, we have moved several options into `navigationOptions` so that you can configure options per screen instead of per navigator. This lets you do things like customize animations for a particular screen, set options based on `screenProps` etc. Usage of built-in components such as `Header` and `HeaderBackButton` has also been simplified. Other changes are made to improve consistency within the API.\n\nFrom this version, all state changes have an animation, including `replace` and `reset` which didn't do an animation previously. If you don't want animations, you can specify `animationEnabled: false` in `navigationOptions` for a specific screen, or in `defaultNavigationOptions` for the whole navigator.\n\n> Note: The alpha versions for 2.0 used Reanimated for the animations. We've replaced Reanimated with React Native's Animated API in the stable release. If you did any custom animations with the alpha, please migrate your code to the Animated API.\n\n##### New peer dependencies\n\nThe new version requires 2 new peer dependencies. To install them in your project, run:\n\n```bash npm2yarn\nnpm install react-native-safe-area-context @react-native-community/masked-view\n```\n\n##### Stack Navigator config\n\nThe following configuration options have been removed or moved:\n\n- `cardShadowEnabled` - moved to `navigationOptions`\n- `cardOverlayEnabled` - moved to `navigationOptions`\n- `cardStyle` - moved to `navigationOptions`\n- `transparentCard` - removed in favor of `cardStyle: { backgroundColor: 'transparent' }` in `navigationOptions`\n- `headerBackTitleVisible` - moved to `navigationOptions`\n- `headerLayoutPreset` - moved to `navigationOptions` as `headerTitleAlign`\n- `onTransitionStart` - moved to `navigationOptions`\n- `onTransitionEnd` - moved to `navigationOptions`\n- `headerTransitionPreset` - removed in favor of [new APIs for animations](stack-navigator.md#animations) in `navigationOptions`\n- `transitionConfig` - removed in favor of [new APIs for animations](stack-navigator.md#animations) in `navigationOptions`\n\n##### `navigationOptions`\n\nThe following `navigationOptions` have been removed or changed:\n\n- `headerForceInset` - use `safeAreaInsets` instead to control the safe areas, or use `headerStatusBarHeight` to control the padding for the status bar.\n- `gesturesEnabled` - renamed to `gestureEnabled` for consistency.\n- `header` - now accepts a function returning react element instead, use `headerShown: false` instead of `header: null` to hide the header.\n- `headerTitle` - now accepts a function returning a React element or a string.\n- `headerLeft` - now accepts a function returning a React element.\n- `headerRight` - now accepts a function returning a React element.\n- `headerBackImage` - now accepts a function returning a React element.\n- `headerBackTitle` - now specifies the back title visible in current screen instead of next, specifying `null` no longer hides back title, use `backTitleVisible` instead, for a screen to change next screen's back title, it can pass params.\n- `headerBackground` - now accepts a function returning a React element.\n\nThe following `navigationOptions` have been added:\n\n- `gestureEnabled`\n- `animationEnabled`\n- `headerTitleAlign`\n- `cardShadowEnabled`\n- `cardOverlayEnabled`\n- `cardStyle`\n- `headerBackgroundStyle`\n- `headerBackTitleVisible`\n- `swipeVelocityImpact`\n- `onTransitionStart`\n- `onTransitionEnd`\n\nYou can find more details about these options in the [documentation](stack-navigator.md#navigationoptions-for-screens-inside-of-the-navigator).\n\n##### Library exports\n\nThe library now exports the following items:\n\n- `createStackNavigator`\n- `StackView`\n- `Header`\n- `HeaderTitle`\n- `HeaderBackButton`\n- `HeaderBackground`\n- `CardStyleInterpolators`\n- `HeaderStyleInterpolators`\n- `TransitionSpecs`\n- `TransitionPresets`\n- `CardAnimationContext`\n- `GestureHandlerRefContext`\n- `HeaderHeightContext`\n- `useCardAnimation`\n- `useHeaderHeight`\n- `useGestureHandlerRef`\n\nThe following components now receive different set of props, so if you use them, or use your own custom component, you will need to update them:\n\n###### `Header` (`header` option)\n\n- `mode`\n- `layout`\n- `scene`\n- `previous`\n- `navigation`\n- `styleInterpolator`\n\n###### `HeaderBackButton` (`headerLeft` option)\n\n- `disabled`\n- `onPress`\n- `pressColorAndroid`\n- `backImage`\n- `tintColor`\n- `label`\n- `truncatedLabel`\n- `labelVisible`\n- `labelStyle`\n- `allowFontScaling`\n- `onLabelLayout`\n- `screenLayout`\n- `titleLayout`\n- `canGoBack`\n\n##### Removal of `Transitioner`\n\nThe old `Transitioner` component has been removed as a result of rewrite of the animation logic. We're not going to expose the new animation logic since it's internal implementation detail and we want to be able to change it without breaking your code. If you need `Transitioner` in your project for some reason, you can copy the old files into your project [Transitioner.tsx](https://github.com/react-navigation/stack/blob/1.0/src/views/Transitioner.tsx).\n\n## TypeScript\n\nIf you're using TypeScript, you'll also need to upgrade the navigators to the latest version following the previous section. Since the navigators have been extracted out, navigator specific types have been removed from the main package. You'll need to update the types accordingly:\n\n- Replace `NavigationScreenProp` with:\n  - `NavigationSwitchProp` for `createSwitchNavigator` from `react-navigation`\n  - `NavigationStackProp` for `createStackNavigator` from `react-navigation-stack`\n  - `NavigationTabProp` for `createBottomTabNavigator` and `createMaterialTopTabNavigator` from `react-navigation-tabs`\n  - `NavigationDrawerProp` for `createDrawerNavigator` from `react-navigation-drawer`\n- Replace `NavigationScreenProps` with:\n  - `NavigationSwitchScreenProps` for `createSwitchNavigator` from `react-navigation`\n  - `NavigationStackScreenProps` for `createStackNavigator` from `react-navigation-stack`\n  - `NavigationTabScreenProps` for `createBottomTabNavigator` and `createMaterialTopTabNavigator` from `react-navigation-tabs`\n  - `NavigationDrawerScreenProps` for `createDrawerNavigator` from `react-navigation-drawer`\n- Replace `NavigationScreenOptions` with:\n  - `NavigationStackOptions` for `createStackNavigator` from `react-navigation-stack`\n  - `NavigationBottomTabOptions` for `createBottomTabNavigator` from `react-navigation-tabs`\n  - `NavigationMaterialTabOptions` for `createMaterialTopTabNavigator` from `react-navigation-tabs`\n  - `NavigationDrawerOptions` for `createDrawerNavigator` from `react-navigation-drawer`\n- Replace `NavigationScreenComponent` with:\n  - `NavigationSwitchScreenComponent` for `createSwitchNavigator` from `react-navigation`\n  - `NavigationStackScreenComponent` for `createStackNavigator` from `react-navigation-stack`\n  - `NavigationBottomTabScreenComponent` for `createBottomTabNavigator` from `react-navigation-tabs`\n  - `NavigationMaterialTabScreenComponent` for `createMaterialTopTabNavigator` from `react-navigation-tabs`\n  - `NavigationDrawerScreenComponent` for `createDrawerNavigator` from `react-navigation-drawer`\n\nSee the [TypeScript guide](typescript.md) for more details.\n\nTypeScript support is still a work in progress, so please open an issue if you're facing a problem.\n"},l=void 0,d={},h=[{value:"Install the new packages",id:"install-the-new-packages",level:2},{value:"Changing your code",id:"changing-your-code",level:2},{value:"Upgrading navigators (optional)",id:"upgrading-navigators-optional",level:2},{value:"Installing dependencies",id:"installing-dependencies",level:3},{value:"Installing dependencies into an Expo managed project",id:"installing-dependencies-into-an-expo-managed-project",level:4},{value:"Installing dependencies into a bare React Native project",id:"installing-dependencies-into-a-bare-react-native-project",level:4},{value:"Upgrading packages",id:"upgrading-packages",level:3},{value:"<code>react-navigation-tabs</code>",id:"react-navigation-tabs",level:4},{value:"Breaking changes",id:"breaking-changes",level:5},{value:"New features",id:"new-features",level:5},{value:"<code>react-navigation-drawer</code>",id:"react-navigation-drawer",level:4},{value:"<code>react-navigation-stack</code>",id:"react-navigation-stack",level:4},{value:"New peer dependencies",id:"new-peer-dependencies",level:5},{value:"Stack Navigator config",id:"stack-navigator-config",level:5},{value:"<code>navigationOptions</code>",id:"navigationoptions",level:5},{value:"Library exports",id:"library-exports",level:5},{value:"<code>Header</code> (<code>header</code> option)",id:"header-header-option",level:6},{value:"<code>HeaderBackButton</code> (<code>headerLeft</code> option)",id:"headerbackbutton-headerleft-option",level:6},{value:"Removal of <code>Transitioner</code>",id:"removal-of-transitioner",level:5},{value:"TypeScript",id:"typescript",level:2}];function g(e){const n={a:"a",blockquote:"blockquote",code:"code",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"In React Navigation 4, we've extracted out the navigators to separate packages to make it easier to maintain and release updates faster. You can follow the guide below to upgrade your projects."}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Note: Before making these changes, we recommend you to commit all local changes to git so you can revert back to a good state if something goes wrong with the upgrade."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"install-the-new-packages",children:"Install the new packages"}),"\n",(0,t.jsxs)(n.p,{children:["First, we need to install the ",(0,t.jsx)(n.code,{children:"react-navigation"})," package along with the various navigators. If you don't use some of these navigators, you can omit them."]}),"\n",(0,t.jsx)(n.p,{children:"To install them, run:"}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(s.A,{value:"npm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/npm.svg",alt:""}),"npm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-navigation react-navigation-stack@^1.7.3 react-navigation-tabs@^1.2.0 react-navigation-drawer@^1.4.0\n"})})}),(0,t.jsx)(s.A,{value:"yarn",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/yarn.svg",alt:""}),"yarn"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add react-navigation react-navigation-stack@^1.7.3 react-navigation-tabs@^1.2.0 react-navigation-drawer@^1.4.0\n"})})}),(0,t.jsx)(s.A,{value:"pnpm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/pnpm.svg",alt:""}),"pnpm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm add react-navigation react-navigation-stack@^1.7.3 react-navigation-tabs@^1.2.0 react-navigation-drawer@^1.4.0\n"})})}),(0,t.jsx)(s.A,{value:"bun",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/bun.svg",alt:""}),"bun"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun add react-navigation react-navigation-stack@^1.7.3 react-navigation-tabs@^1.2.0 react-navigation-drawer@^1.4.0\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["This will install the versions compatible with your code if you were using ",(0,t.jsx)(n.code,{children:"react-navigation@3.x"}),", so you wouldn't need any more changes beyond changing the imports."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsxs)(n.p,{children:["Note: If you have ",(0,t.jsx)(n.code,{children:"@react-navigation/core"})," or ",(0,t.jsx)(n.code,{children:"@react-navigation/native"})," in your ",(0,t.jsx)(n.code,{children:"package.json"}),", please remove them and change the imports to import from ",(0,t.jsx)(n.code,{children:"react-navigation"})," package instead."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"changing-your-code",children:"Changing your code"}),"\n",(0,t.jsxs)(n.p,{children:["Then change any imports for stack, tabs or drawer to import from the above packages instead of ",(0,t.jsx)(n.code,{children:"react-navigation"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-diff",children:"- import { createAppContainer, createStackNavigator } from 'react-navigation';\n+ import { createAppContainer } from 'react-navigation';\n+ import { createStackNavigator } from 'react-navigation-stack';\n"})}),"\n",(0,t.jsxs)(n.p,{children:["The following imports need to be changed to import from ",(0,t.jsx)(n.code,{children:"react-navigation-stack"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"createStackNavigator"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"StackGestureContext"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"Transitioner"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"StackView"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"StackViewCard"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"StackViewTransitionConfigs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"Header"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderTitle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderBackButton"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderStyleInterpolator"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The following imports need to be changed to import from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"createBottomTabNavigator"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"BottomTabBar"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"MaterialTopTabBar"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The following imports need to be changed to import from ",(0,t.jsx)(n.code,{children:"react-navigation-drawer"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"createDrawerNavigator"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DrawerGestureContext"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DrawerRouter"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DrawerActions"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DrawerView"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DrawerNavigatorItems"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"DrawerSidebar"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"upgrading-navigators-optional",children:"Upgrading navigators (optional)"}),"\n",(0,t.jsxs)(n.p,{children:["You don't need to upgrade the navigators to their latest version when upgrading to ",(0,t.jsx)(n.code,{children:"react-navigation@4.x"}),". You can upgrade them separately later as per your convenience."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Note: We recommend to do each of these changes in a separate commit so you can revert back to a good state if something goes wrong with the upgrade."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"installing-dependencies",children:"Installing dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["The latest drawer and tabs depend on ",(0,t.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-gesture-handler",children:(0,t.jsx)(n.code,{children:"react-native-gesture-handler"})})," and ",(0,t.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-reanimated",children:(0,t.jsx)(n.code,{children:"react-native-reanimated"})}),". If you already have these libraries installed and at the latest version, you are done here! Otherwise, read on for installation instructions for these dependencies."]}),"\n",(0,t.jsx)(n.h4,{id:"installing-dependencies-into-an-expo-managed-project",children:"Installing dependencies into an Expo managed project"}),"\n",(0,t.jsx)(n.p,{children:"In your project directory, run the following:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npx expo install react-native-gesture-handler react-native-reanimated\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will install versions of these libraries that are compatible."}),"\n",(0,t.jsx)(n.h4,{id:"installing-dependencies-into-a-bare-react-native-project",children:"Installing dependencies into a bare React Native project"}),"\n",(0,t.jsxs)(n.p,{children:["In your project directory, run ",(0,t.jsx)(n.code,{children:"npm install react-native-reanimated react-native-gesture-handler react-native-screens"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"Next, we need to link these libraries. The steps depends on your React Native version:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"React Native 0.60 and higher"})}),"\n",(0,t.jsxs)(n.p,{children:["On newer versions of React Native, ",(0,t.jsx)(n.a,{href:"https://github.com/react-native-community/cli/blob/master/docs/autolinking.md",children:"linking is automatic"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["To complete the linking on iOS, make sure you have ",(0,t.jsx)(n.a,{href:"https://cocoapods.org/",children:"Cocoapods"})," installed. Then run:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd ios\npod install\ncd ..\n"})}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"React Native 0.59 and lower"})}),"\n",(0,t.jsx)(n.p,{children:"If you're on an older React Native version, you need to manually link the dependencies. To do that, run:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"react-native link react-native-reanimated\nreact-native link react-native-gesture-handler\n"})}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To finalize installation of ",(0,t.jsx)(n.code,{children:"react-native-gesture-handler"})," for Android, make the following modifications to ",(0,t.jsx)(n.code,{children:"MainActivity.java"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-diff",children:'package com.reactnavigation.example;\n\nimport com.facebook.react.ReactActivity;\n+ import com.facebook.react.ReactActivityDelegate;\n+ import com.facebook.react.ReactRootView;\n+ import com.swmansion.gesturehandler.react.RNGestureHandlerEnabledRootView;\n\npublic class MainActivity extends ReactActivity {\n\n  @Override\n  protected String getMainComponentName() {\n    return "Example";\n  }\n\n+  @Override\n+  protected ReactActivityDelegate createReactActivityDelegate() {\n+    return new ReactActivityDelegate(this, getMainComponentName()) {\n+      @Override\n+      protected ReactRootView createRootView() {\n+       return new RNGestureHandlerEnabledRootView(MainActivity.this);\n+      }\n+    };\n+  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"upgrading-packages",children:"Upgrading packages"}),"\n",(0,t.jsx)(n.h4,{id:"react-navigation-tabs",children:(0,t.jsx)(n.code,{children:"react-navigation-tabs"})}),"\n",(0,t.jsxs)(n.p,{children:["To upgrade ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"}),", run:"]}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(s.A,{value:"npm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/npm.svg",alt:""}),"npm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-navigation-tabs\n"})})}),(0,t.jsx)(s.A,{value:"yarn",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/yarn.svg",alt:""}),"yarn"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add react-navigation-tabs\n"})})}),(0,t.jsx)(s.A,{value:"pnpm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/pnpm.svg",alt:""}),"pnpm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm add react-navigation-tabs\n"})})}),(0,t.jsx)(s.A,{value:"bun",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/bun.svg",alt:""}),"bun"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun add react-navigation-tabs\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["This version upgrades ",(0,t.jsx)(n.a,{href:"https://github.com/react-navigation/react-navigation/tree/main/packages/react-native-tab-view",children:(0,t.jsx)(n.code,{children:"react-native-tab-view"})})," to 2.x. As a result, the animations in ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," now use the ",(0,t.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-reanimated",children:(0,t.jsx)(n.code,{children:"react-native-reanimated"})})," library."]}),"\n",(0,t.jsx)(n.h5,{id:"breaking-changes",children:"Breaking changes"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["If you have a custom tab bar in ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," which uses the ",(0,t.jsx)(n.code,{children:"position"})," prop, you'll need to update it to use ",(0,t.jsx)(n.code,{children:"Animated"})," from ",(0,t.jsx)(n.code,{children:"react-native-reanimated"})," instead of ",(0,t.jsx)(n.code,{children:"react-native"}),"."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"activeTintColor"})," and ",(0,t.jsx)(n.code,{children:"inactiveTintColor"})," options for the tab bar of ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," now controls the opacity of the label and icons as well."]}),"\n",(0,t.jsxs)(n.li,{children:["The ",(0,t.jsx)(n.code,{children:"animationsEnabled"})," and ",(0,t.jsx)(n.code,{children:"optimizationsEnabled"})," options have been removed from ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Support for React < 16.3 has been dropped, which means the minimum supported React Native version is now 0.56."}),"\n"]}),"\n",(0,t.jsx)(n.h5,{id:"new-features",children:"New features"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["A new ",(0,t.jsx)(n.code,{children:"lazyPlaceholderComponent"})," option is added which lets you show a placeholder for lazy loaded tabs."]}),"\n"]}),"\n",(0,t.jsx)(n.h4,{id:"react-navigation-drawer",children:(0,t.jsx)(n.code,{children:"react-navigation-drawer"})}),"\n",(0,t.jsxs)(n.p,{children:["To upgrade ",(0,t.jsx)(n.code,{children:"react-navigation-drawer"}),", run:"]}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(s.A,{value:"npm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/npm.svg",alt:""}),"npm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-navigation-drawer\n"})})}),(0,t.jsx)(s.A,{value:"yarn",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/yarn.svg",alt:""}),"yarn"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add react-navigation-drawer\n"})})}),(0,t.jsx)(s.A,{value:"pnpm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/pnpm.svg",alt:""}),"pnpm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm add react-navigation-drawer\n"})})}),(0,t.jsx)(s.A,{value:"bun",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/bun.svg",alt:""}),"bun"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun add react-navigation-drawer\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["This version upgrades now uses the ",(0,t.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-reanimated",children:(0,t.jsx)(n.code,{children:"react-native-reanimated"})})," library for animations. This means, if you're using the ",(0,t.jsx)(n.code,{children:"drawerProgress"})," value, you'll need to migrate your code to use ",(0,t.jsx)(n.code,{children:"Animated"})," from ",(0,t.jsx)(n.code,{children:"react-native-reanimated"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"react-navigation-stack",children:(0,t.jsx)(n.code,{children:"react-navigation-stack"})}),"\n",(0,t.jsxs)(n.p,{children:["To upgrade ",(0,t.jsx)(n.code,{children:"react-navigation-stack"}),", run:"]}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(s.A,{value:"npm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/npm.svg",alt:""}),"npm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-navigation-stack\n"})})}),(0,t.jsx)(s.A,{value:"yarn",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/yarn.svg",alt:""}),"yarn"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add react-navigation-stack\n"})})}),(0,t.jsx)(s.A,{value:"pnpm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/pnpm.svg",alt:""}),"pnpm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm add react-navigation-stack\n"})})}),(0,t.jsx)(s.A,{value:"bun",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/bun.svg",alt:""}),"bun"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun add react-navigation-stack\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["In this release, we have moved several options into ",(0,t.jsx)(n.code,{children:"navigationOptions"})," so that you can configure options per screen instead of per navigator. This lets you do things like customize animations for a particular screen, set options based on ",(0,t.jsx)(n.code,{children:"screenProps"})," etc. Usage of built-in components such as ",(0,t.jsx)(n.code,{children:"Header"})," and ",(0,t.jsx)(n.code,{children:"HeaderBackButton"})," has also been simplified. Other changes are made to improve consistency within the API."]}),"\n",(0,t.jsxs)(n.p,{children:["From this version, all state changes have an animation, including ",(0,t.jsx)(n.code,{children:"replace"})," and ",(0,t.jsx)(n.code,{children:"reset"})," which didn't do an animation previously. If you don't want animations, you can specify ",(0,t.jsx)(n.code,{children:"animationEnabled: false"})," in ",(0,t.jsx)(n.code,{children:"navigationOptions"})," for a specific screen, or in ",(0,t.jsx)(n.code,{children:"defaultNavigationOptions"})," for the whole navigator."]}),"\n",(0,t.jsxs)(n.blockquote,{children:["\n",(0,t.jsx)(n.p,{children:"Note: The alpha versions for 2.0 used Reanimated for the animations. We've replaced Reanimated with React Native's Animated API in the stable release. If you did any custom animations with the alpha, please migrate your code to the Animated API."}),"\n"]}),"\n",(0,t.jsx)(n.h5,{id:"new-peer-dependencies",children:"New peer dependencies"}),"\n",(0,t.jsx)(n.p,{children:"The new version requires 2 new peer dependencies. To install them in your project, run:"}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(s.A,{value:"npm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/npm.svg",alt:""}),"npm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install react-native-safe-area-context @react-native-community/masked-view\n"})})}),(0,t.jsx)(s.A,{value:"yarn",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/yarn.svg",alt:""}),"yarn"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"yarn add react-native-safe-area-context @react-native-community/masked-view\n"})})}),(0,t.jsx)(s.A,{value:"pnpm",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/pnpm.svg",alt:""}),"pnpm"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"pnpm add react-native-safe-area-context @react-native-community/masked-view\n"})})}),(0,t.jsx)(s.A,{value:"bun",label:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/bun.svg",alt:""}),"bun"]}),children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"bun add react-native-safe-area-context @react-native-community/masked-view\n"})})})]}),"\n",(0,t.jsx)(n.h5,{id:"stack-navigator-config",children:"Stack Navigator config"}),"\n",(0,t.jsx)(n.p,{children:"The following configuration options have been removed or moved:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"cardShadowEnabled"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"cardOverlayEnabled"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"cardStyle"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"transparentCard"})," - removed in favor of ",(0,t.jsx)(n.code,{children:"cardStyle: { backgroundColor: 'transparent' }"})," in ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerBackTitleVisible"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerLayoutPreset"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})," as ",(0,t.jsx)(n.code,{children:"headerTitleAlign"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"onTransitionStart"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"onTransitionEnd"})," - moved to ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerTransitionPreset"})," - removed in favor of ",(0,t.jsx)(n.a,{href:"/docs/4.x/stack-navigator#animations",children:"new APIs for animations"})," in ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"transitionConfig"})," - removed in favor of ",(0,t.jsx)(n.a,{href:"/docs/4.x/stack-navigator#animations",children:"new APIs for animations"})," in ",(0,t.jsx)(n.code,{children:"navigationOptions"})]}),"\n"]}),"\n",(0,t.jsx)(n.h5,{id:"navigationoptions",children:(0,t.jsx)(n.code,{children:"navigationOptions"})}),"\n",(0,t.jsxs)(n.p,{children:["The following ",(0,t.jsx)(n.code,{children:"navigationOptions"})," have been removed or changed:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerForceInset"})," - use ",(0,t.jsx)(n.code,{children:"safeAreaInsets"})," instead to control the safe areas, or use ",(0,t.jsx)(n.code,{children:"headerStatusBarHeight"})," to control the padding for the status bar."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"gesturesEnabled"})," - renamed to ",(0,t.jsx)(n.code,{children:"gestureEnabled"})," for consistency."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"header"})," - now accepts a function returning react element instead, use ",(0,t.jsx)(n.code,{children:"headerShown: false"})," instead of ",(0,t.jsx)(n.code,{children:"header: null"})," to hide the header."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerTitle"})," - now accepts a function returning a React element or a string."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerLeft"})," - now accepts a function returning a React element."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerRight"})," - now accepts a function returning a React element."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerBackImage"})," - now accepts a function returning a React element."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerBackTitle"})," - now specifies the back title visible in current screen instead of next, specifying ",(0,t.jsx)(n.code,{children:"null"})," no longer hides back title, use ",(0,t.jsx)(n.code,{children:"backTitleVisible"})," instead, for a screen to change next screen's back title, it can pass params."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"headerBackground"})," - now accepts a function returning a React element."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The following ",(0,t.jsx)(n.code,{children:"navigationOptions"})," have been added:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"gestureEnabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"animationEnabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"headerTitleAlign"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"cardShadowEnabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"cardOverlayEnabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"cardStyle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"headerBackgroundStyle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"headerBackTitleVisible"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"swipeVelocityImpact"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onTransitionStart"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onTransitionEnd"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["You can find more details about these options in the ",(0,t.jsx)(n.a,{href:"/docs/4.x/stack-navigator#navigationoptions-for-screens-inside-of-the-navigator",children:"documentation"}),"."]}),"\n",(0,t.jsx)(n.h5,{id:"library-exports",children:"Library exports"}),"\n",(0,t.jsx)(n.p,{children:"The library now exports the following items:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"createStackNavigator"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"StackView"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"Header"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderTitle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderBackButton"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderBackground"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"CardStyleInterpolators"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderStyleInterpolators"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"TransitionSpecs"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"TransitionPresets"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"CardAnimationContext"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"GestureHandlerRefContext"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"HeaderHeightContext"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"useCardAnimation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"useHeaderHeight"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"useGestureHandlerRef"})}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"The following components now receive different set of props, so if you use them, or use your own custom component, you will need to update them:"}),"\n",(0,t.jsxs)(n.h6,{id:"header-header-option",children:[(0,t.jsx)(n.code,{children:"Header"})," (",(0,t.jsx)(n.code,{children:"header"})," option)"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"mode"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"layout"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"scene"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"previous"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"navigation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"styleInterpolator"})}),"\n"]}),"\n",(0,t.jsxs)(n.h6,{id:"headerbackbutton-headerleft-option",children:[(0,t.jsx)(n.code,{children:"HeaderBackButton"})," (",(0,t.jsx)(n.code,{children:"headerLeft"})," option)"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"disabled"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onPress"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"pressColorAndroid"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"backImage"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"tintColor"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"label"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"truncatedLabel"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"labelVisible"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"labelStyle"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"allowFontScaling"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"onLabelLayout"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"screenLayout"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"titleLayout"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.code,{children:"canGoBack"})}),"\n"]}),"\n",(0,t.jsxs)(n.h5,{id:"removal-of-transitioner",children:["Removal of ",(0,t.jsx)(n.code,{children:"Transitioner"})]}),"\n",(0,t.jsxs)(n.p,{children:["The old ",(0,t.jsx)(n.code,{children:"Transitioner"})," component has been removed as a result of rewrite of the animation logic. We're not going to expose the new animation logic since it's internal implementation detail and we want to be able to change it without breaking your code. If you need ",(0,t.jsx)(n.code,{children:"Transitioner"})," in your project for some reason, you can copy the old files into your project ",(0,t.jsx)(n.a,{href:"https://github.com/react-navigation/stack/blob/1.0/src/views/Transitioner.tsx",children:"Transitioner.tsx"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"typescript",children:"TypeScript"}),"\n",(0,t.jsx)(n.p,{children:"If you're using TypeScript, you'll also need to upgrade the navigators to the latest version following the previous section. Since the navigators have been extracted out, navigator specific types have been removed from the main package. You'll need to update the types accordingly:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"NavigationScreenProp"})," with:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationSwitchProp"})," for ",(0,t.jsx)(n.code,{children:"createSwitchNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationStackProp"})," for ",(0,t.jsx)(n.code,{children:"createStackNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-stack"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationTabProp"})," for ",(0,t.jsx)(n.code,{children:"createBottomTabNavigator"})," and ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationDrawerProp"})," for ",(0,t.jsx)(n.code,{children:"createDrawerNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-drawer"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"NavigationScreenProps"})," with:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationSwitchScreenProps"})," for ",(0,t.jsx)(n.code,{children:"createSwitchNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationStackScreenProps"})," for ",(0,t.jsx)(n.code,{children:"createStackNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-stack"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationTabScreenProps"})," for ",(0,t.jsx)(n.code,{children:"createBottomTabNavigator"})," and ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationDrawerScreenProps"})," for ",(0,t.jsx)(n.code,{children:"createDrawerNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-drawer"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"NavigationScreenOptions"})," with:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationStackOptions"})," for ",(0,t.jsx)(n.code,{children:"createStackNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-stack"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationBottomTabOptions"})," for ",(0,t.jsx)(n.code,{children:"createBottomTabNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationMaterialTabOptions"})," for ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationDrawerOptions"})," for ",(0,t.jsx)(n.code,{children:"createDrawerNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-drawer"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Replace ",(0,t.jsx)(n.code,{children:"NavigationScreenComponent"})," with:","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationSwitchScreenComponent"})," for ",(0,t.jsx)(n.code,{children:"createSwitchNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationStackScreenComponent"})," for ",(0,t.jsx)(n.code,{children:"createStackNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-stack"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationBottomTabScreenComponent"})," for ",(0,t.jsx)(n.code,{children:"createBottomTabNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationMaterialTabScreenComponent"})," for ",(0,t.jsx)(n.code,{children:"createMaterialTopTabNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-tabs"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"NavigationDrawerScreenComponent"})," for ",(0,t.jsx)(n.code,{children:"createDrawerNavigator"})," from ",(0,t.jsx)(n.code,{children:"react-navigation-drawer"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["See the ",(0,t.jsx)(n.a,{href:"/docs/4.x/typescript",children:"TypeScript guide"})," for more details."]}),"\n",(0,t.jsx)(n.p,{children:"TypeScript support is still a work in progress, so please open an issue if you're facing a problem."})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(g,{...e})}):g(e)}},19365:(e,n,a)=>{a.d(n,{A:()=>o});a(96540);var i=a(34164);const t={tabItem:"tabItem_Ymn6"};var r=a(74848);function o(e){let{children:n,hidden:a,className:o}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,o),hidden:a,children:n})}},11470:(e,n,a)=>{a.d(n,{A:()=>k});var i=a(96540),t=a(34164),r=a(17559),o=a(23104),s=a(56347),c=a(205),l=a(57485),d=a(31682),h=a(70679);function g(e){var n,a;return null!=(n=null==(a=i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:a.filter(Boolean))?n:[]}function p(e){const{values:n,children:a}=e;return(0,i.useMemo)((()=>{const e=null!=n?n:function(e){return g(e).map((e=>{let{props:{value:n,label:a,attributes:i,default:t}}=e;return{value:n,label:a,attributes:i,default:t}}))}(a);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,a])}function u(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:a}=e;const t=(0,s.W6)(),r=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=a?a:null}({queryString:n,groupId:a});return[(0,l.aZ)(r),(0,i.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(t.location.search);n.set(r,e),t.replace(Object.assign({},t.location,{search:n.toString()}))}),[r,t])]}function v(e){const{defaultValue:n,queryString:a=!1,groupId:t}=e,r=p(e),[o,s]=(0,i.useState)((()=>function(e){var n;let{defaultValue:a,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!u({value:a,tabValues:i}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+a+'" but none of its children has the corresponding value. Available values are: '+i.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return a}const t=null!=(n=i.find((e=>e.default)))?n:i[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:r}))),[l,d]=m({queryString:a,groupId:t}),[g,v]=function(e){let{groupId:n}=e;const a=function(e){return e?"docusaurus.tab."+e:null}(n),[t,r]=(0,h.Dv)(a);return[t,(0,i.useCallback)((e=>{a&&r.set(e)}),[a,r])]}({groupId:t}),x=(()=>{const e=null!=l?l:g;return u({value:e,tabValues:r})?e:null})();(0,c.A)((()=>{x&&s(x)}),[x]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!u({value:e,tabValues:r}))throw new Error("Can't select invalid tab value="+e);s(e),d(e),v(e)}),[d,v,r]),tabValues:r}}var x=a(92303);const j={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var f=a(74848);function b(e){let{className:n,block:a,selectedValue:i,selectValue:r,tabValues:s}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),d=e=>{const n=e.currentTarget,a=c.indexOf(n),t=s[a].value;t!==i&&(l(n),r(t))},h=e=>{var n;let a=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{var i;const n=c.indexOf(e.currentTarget)+1;a=null!=(i=c[n])?i:c[0];break}case"ArrowLeft":{var t;const n=c.indexOf(e.currentTarget)-1;a=null!=(t=c[n])?t:c[c.length-1];break}}null==(n=a)||n.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":a},n),children:s.map((e=>{let{value:n,label:a,attributes:r}=e;return(0,f.jsx)("li",Object.assign({role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{c.push(e)},onKeyDown:h,onClick:d},r,{className:(0,t.A)("tabs__item",j.tabItem,null==r?void 0:r.className,{"tabs__item--active":i===n}),children:null!=a?a:n}),n)}))})}function w(e){let{lazy:n,children:a,selectedValue:r}=e;const o=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===r));return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function y(e){const n=v(e);return(0,f.jsxs)("div",{className:(0,t.A)(r.G.tabs.container,"tabs-container",j.tabList),children:[(0,f.jsx)(b,Object.assign({},n,e)),(0,f.jsx)(w,Object.assign({},n,e))]})}function k(e){const n=(0,x.A)();return(0,f.jsx)(y,Object.assign({},e,{children:g(e.children)}),String(n))}},28453:(e,n,a)=>{a.d(n,{R:()=>o,x:()=>s});var i=a(96540);const t={},r=i.createContext(t);function o(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);