"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[20501],{44297:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>u,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"troubleshooting","title":"Troubleshooting","description":"This section attempts to outline issues that can happen during setup and may not be related to React Navigation itself. Also see common mistakes.","source":"@site/versioned_docs/version-4.x/troubleshooting.md","sourceDirName":".","slug":"/troubleshooting","permalink":"/docs/4.x/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-4.x/troubleshooting.md","tags":[],"version":"4.x","frontMatter":{"id":"troubleshooting","title":"Troubleshooting","sidebar_label":"Troubleshooting"},"sidebar":"version-4.x-docs","previous":{"title":"Common mistakes","permalink":"/docs/4.x/common-mistakes"},"next":{"title":"Limitations","permalink":"/docs/4.x/limitations"}}');var a=t(74848),o=t(28453),s=t(11470),i=t(19365);const l={id:"troubleshooting",title:"Troubleshooting",sidebar_label:"Troubleshooting",rawMarkdown:"---\nid: troubleshooting\ntitle: Troubleshooting\nsidebar_label: Troubleshooting\n---\n\nThis section attempts to outline issues that can happen during setup and may not be related to React Navigation itself. Also see [common mistakes](common-mistakes.md).\n\nBefore troubleshooting an issue, make sure that you have upgraded to **the latest available versions** of the packages. You can install the latest versions by installing the packages again (e.g. `npm install package-name`).\n\n## I'm getting an error \"Unable to resolve module\" after updating to the latest version\n\nThis might happen for 2 reasons:\n\n- Incorrect cache of Metro bundler\n- Missing peer dependency\n\nIf the module points to a local file (i.e. the name of the module starts with `./`), then it's probably due to incorrect cache. To fix this, try the following solutions.\n\nIf you're using Expo, run:\n\n```bash\nexpo start -c\n```\n\nIf you're not using Expo, run:\n\n```bash\nnpx react-native start --reset-cache\n```\n\nIf the module points to an npm package (i.e. the name of the module doesn't with `./`), then it's probably due to a missing peer dependency. To fix this, install the dependency in your project:\n\n```bash npm2yarn\nnpm install name-of-the-module\n```\n\n## I'm getting an error \"null is not an object (evaluating 'RNGestureHandlerModule.default.Direction')\"\n\nThis and some similar errors might occur if you didn't link the [`react-native-gesture-handler`](https://github.com/software-mansion/react-native-gesture-handler) library.\n\n- **React Native 0.60 and higher**\n\n  On newer versions of React Native, [linking is automatic](https://github.com/react-native-community/cli/blob/master/docs/autolinking.md), so if you have linked the library manually, first unlink it:\n\n  ```bash\n  react-native unlink react-native-gesture-handler\n  ```\n\n  If you're testing on iOS and use Mac, make sure you have run `pod install` in the `ios/` folder:\n\n  ```bash\n  cd ios; pod install; cd ..\n  ```\n\n- **React Native 0.59 and lower**\n\n  If you're on an older React Native version, you need to manually link the library. To do that, run:\n\n  ```bash\n  react-native link react-native-gesture-handler\n  ```\n\nNow rebuild the app and test on your device or simulator.\n\n## I'm getting an error \"TypeError: Cannot read property 'bind' of undefined\" or \"TypeError: propListener.apply is not a function\"\n\nThis error can often happen if you have a Babel plugin that compiles the code in a non-spec compliant way. For example:\n\n```bash\n[\"@babel/plugin-proposal-class-properties\", { \"loose\": true}]\n```\n\nThe above compiles class properties in `loose` mode, which is not spec compliant. To prevent such issues, avoid using any additional Babel plugins or presets which change the way Metro compiles code by default. Your `babel.config.js` should look like this:\n\n```js\nmodule.exports = {\n  presets: ['module:metro-react-native-babel-preset'],\n};\n```\n\nOr if you're using Expo:\n\n```js\nmodule.exports = {\n  presets: ['babel-preset-expo'],\n};\n```\n\nIf you have additional options configured here, try removing them to see if it fixes the issue. After changing config, always clear the cache.\n\nIf you're using Expo, run:\n\n```bash\nexpo start -c\n```\n\nIf you're not using Expo, run:\n\n```bash\nnpx react-native start --reset-cache\n```\n\n## I linked `react-native-gesture-handler` library but gestures won't work on Android\n\nThis might happen if you didn't update your MainActivity.java file (or wherever you create an instance of ReactActivityDelegate), so that it uses the root view wrapper provided by this library.\n\nCheck how to do it [here](https://software-mansion.github.io/react-native-gesture-handler/docs/getting-started.html).\n\n## App is not working properly when connected to Chrome Debugger\n\nWhen the app is connected to Chrome Debugger (or other tools that use Chrome Debugger such as [React Native Debugger](https://github.com/jhen0409/react-native-debugger)) you might encounter various issues related to timing.\n\nThis can result in issues such as button presses taking a long time to register or not working at all, [gestures and animations being slow and buggy](https://github.com/facebook/react-native/issues/2367) etc. There can be other functional issues such as promises not resolving, [timeouts and intervals not working correctly](https://github.com/facebook/react-native/issues/4470) etc. as well.\n\nThe issues are not related to React Navigation, but due to the nature of how the Chrome Debugger works. When connected to Chrome Debugger, your whole app runs on Chrome and communicates with the native app via sockets over the network, which can introduce latency and timing related issues.\n\nSo, unless you are trying to debug something, it's better to test the app without being connected to the Chrome Debugger. If you are using iOS, you can alternatively use [Safari to debug your app](https://reactnative.dev/docs/debugging#safari-developer-tools) which debugs the app on the device directly and does not have these issues, though it has other downsides.\n"},u=void 0,c={},d=[{value:"I&#39;m getting an error &quot;Unable to resolve module&quot; after updating to the latest version",id:"im-getting-an-error-unable-to-resolve-module-after-updating-to-the-latest-version",level:2},{value:"I&#39;m getting an error &quot;null is not an object (evaluating &#39;RNGestureHandlerModule.default.Direction&#39;)&quot;",id:"im-getting-an-error-null-is-not-an-object-evaluating-rngesturehandlermoduledefaultdirection",level:2},{value:"I&#39;m getting an error &quot;TypeError: Cannot read property &#39;bind&#39; of undefined&quot; or &quot;TypeError: propListener.apply is not a function&quot;",id:"im-getting-an-error-typeerror-cannot-read-property-bind-of-undefined-or-typeerror-proplistenerapply-is-not-a-function",level:2},{value:"I linked <code>react-native-gesture-handler</code> library but gestures won&#39;t work on Android",id:"i-linked-react-native-gesture-handler-library-but-gestures-wont-work-on-android",level:2},{value:"App is not working properly when connected to Chrome Debugger",id:"app-is-not-working-properly-when-connected-to-chrome-debugger",level:2}];function h(e){const n={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.p,{children:["This section attempts to outline issues that can happen during setup and may not be related to React Navigation itself. Also see ",(0,a.jsx)(n.a,{href:"/docs/4.x/common-mistakes",children:"common mistakes"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Before troubleshooting an issue, make sure that you have upgraded to ",(0,a.jsx)(n.strong,{children:"the latest available versions"})," of the packages. You can install the latest versions by installing the packages again (e.g. ",(0,a.jsx)(n.code,{children:"npm install package-name"}),")."]}),"\n",(0,a.jsx)(n.h2,{id:"im-getting-an-error-unable-to-resolve-module-after-updating-to-the-latest-version",children:'I\'m getting an error "Unable to resolve module" after updating to the latest version'}),"\n",(0,a.jsx)(n.p,{children:"This might happen for 2 reasons:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Incorrect cache of Metro bundler"}),"\n",(0,a.jsx)(n.li,{children:"Missing peer dependency"}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["If the module points to a local file (i.e. the name of the module starts with ",(0,a.jsx)(n.code,{children:"./"}),"), then it's probably due to incorrect cache. To fix this, try the following solutions."]}),"\n",(0,a.jsx)(n.p,{children:"If you're using Expo, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"expo start -c\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you're not using Expo, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npx react-native start --reset-cache\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If the module points to an npm package (i.e. the name of the module doesn't with ",(0,a.jsx)(n.code,{children:"./"}),"), then it's probably due to a missing peer dependency. To fix this, install the dependency in your project:"]}),"\n",(0,a.jsxs)(s.A,{groupId:"npm2yarn",children:[(0,a.jsx)(i.A,{value:"npm",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/npm.svg",alt:""}),"npm"]}),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npm install name-of-the-module\n"})})}),(0,a.jsx)(i.A,{value:"yarn",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/yarn.svg",alt:""}),"yarn"]}),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"yarn add name-of-the-module\n"})})}),(0,a.jsx)(i.A,{value:"pnpm",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/pnpm.svg",alt:""}),"pnpm"]}),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"pnpm add name-of-the-module\n"})})}),(0,a.jsx)(i.A,{value:"bun",label:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.img,{className:"pm-icon",src:"/assets/pm/bun.svg",alt:""}),"bun"]}),children:(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"bun add name-of-the-module\n"})})})]}),"\n",(0,a.jsx)(n.h2,{id:"im-getting-an-error-null-is-not-an-object-evaluating-rngesturehandlermoduledefaultdirection",children:"I'm getting an error \"null is not an object (evaluating 'RNGestureHandlerModule.default.Direction')\""}),"\n",(0,a.jsxs)(n.p,{children:["This and some similar errors might occur if you didn't link the ",(0,a.jsx)(n.a,{href:"https://github.com/software-mansion/react-native-gesture-handler",children:(0,a.jsx)(n.code,{children:"react-native-gesture-handler"})})," library."]}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"React Native 0.60 and higher"})}),"\n",(0,a.jsxs)(n.p,{children:["On newer versions of React Native, ",(0,a.jsx)(n.a,{href:"https://github.com/react-native-community/cli/blob/master/docs/autolinking.md",children:"linking is automatic"}),", so if you have linked the library manually, first unlink it:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"react-native unlink react-native-gesture-handler\n"})}),"\n",(0,a.jsxs)(n.p,{children:["If you're testing on iOS and use Mac, make sure you have run ",(0,a.jsx)(n.code,{children:"pod install"})," in the ",(0,a.jsx)(n.code,{children:"ios/"})," folder:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"cd ios; pod install; cd ..\n"})}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"React Native 0.59 and lower"})}),"\n",(0,a.jsx)(n.p,{children:"If you're on an older React Native version, you need to manually link the library. To do that, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"react-native link react-native-gesture-handler\n"})}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Now rebuild the app and test on your device or simulator."}),"\n",(0,a.jsx)(n.h2,{id:"im-getting-an-error-typeerror-cannot-read-property-bind-of-undefined-or-typeerror-proplistenerapply-is-not-a-function",children:'I\'m getting an error "TypeError: Cannot read property \'bind\' of undefined" or "TypeError: propListener.apply is not a function"'}),"\n",(0,a.jsx)(n.p,{children:"This error can often happen if you have a Babel plugin that compiles the code in a non-spec compliant way. For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'["@babel/plugin-proposal-class-properties", { "loose": true}]\n'})}),"\n",(0,a.jsxs)(n.p,{children:["The above compiles class properties in ",(0,a.jsx)(n.code,{children:"loose"})," mode, which is not spec compliant. To prevent such issues, avoid using any additional Babel plugins or presets which change the way Metro compiles code by default. Your ",(0,a.jsx)(n.code,{children:"babel.config.js"})," should look like this:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  presets: ['module:metro-react-native-babel-preset'],\n};\n"})}),"\n",(0,a.jsx)(n.p,{children:"Or if you're using Expo:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  presets: ['babel-preset-expo'],\n};\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you have additional options configured here, try removing them to see if it fixes the issue. After changing config, always clear the cache."}),"\n",(0,a.jsx)(n.p,{children:"If you're using Expo, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"expo start -c\n"})}),"\n",(0,a.jsx)(n.p,{children:"If you're not using Expo, run:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"npx react-native start --reset-cache\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"i-linked-react-native-gesture-handler-library-but-gestures-wont-work-on-android",children:["I linked ",(0,a.jsx)(n.code,{children:"react-native-gesture-handler"})," library but gestures won't work on Android"]}),"\n",(0,a.jsx)(n.p,{children:"This might happen if you didn't update your MainActivity.java file (or wherever you create an instance of ReactActivityDelegate), so that it uses the root view wrapper provided by this library."}),"\n",(0,a.jsxs)(n.p,{children:["Check how to do it ",(0,a.jsx)(n.a,{href:"https://software-mansion.github.io/react-native-gesture-handler/docs/getting-started.html",children:"here"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"app-is-not-working-properly-when-connected-to-chrome-debugger",children:"App is not working properly when connected to Chrome Debugger"}),"\n",(0,a.jsxs)(n.p,{children:["When the app is connected to Chrome Debugger (or other tools that use Chrome Debugger such as ",(0,a.jsx)(n.a,{href:"https://github.com/jhen0409/react-native-debugger",children:"React Native Debugger"}),") you might encounter various issues related to timing."]}),"\n",(0,a.jsxs)(n.p,{children:["This can result in issues such as button presses taking a long time to register or not working at all, ",(0,a.jsx)(n.a,{href:"https://github.com/facebook/react-native/issues/2367",children:"gestures and animations being slow and buggy"})," etc. There can be other functional issues such as promises not resolving, ",(0,a.jsx)(n.a,{href:"https://github.com/facebook/react-native/issues/4470",children:"timeouts and intervals not working correctly"})," etc. as well."]}),"\n",(0,a.jsx)(n.p,{children:"The issues are not related to React Navigation, but due to the nature of how the Chrome Debugger works. When connected to Chrome Debugger, your whole app runs on Chrome and communicates with the native app via sockets over the network, which can introduce latency and timing related issues."}),"\n",(0,a.jsxs)(n.p,{children:["So, unless you are trying to debug something, it's better to test the app without being connected to the Chrome Debugger. If you are using iOS, you can alternatively use ",(0,a.jsx)(n.a,{href:"https://reactnative.dev/docs/debugging#safari-developer-tools",children:"Safari to debug your app"})," which debugs the app on the device directly and does not have these issues, though it has other downsides."]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},19365:(e,n,t)=>{t.d(n,{A:()=>s});t(96540);var r=t(34164);const a={tabItem:"tabItem_Ymn6"};var o=t(74848);function s(e){let{children:n,hidden:t,className:s}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,s),hidden:t,children:n})}},11470:(e,n,t)=>{t.d(n,{A:()=>k});var r=t(96540),a=t(34164),o=t(17559),s=t(23104),i=t(56347),l=t(205),u=t(57485),c=t(31682),d=t(70679);function h(e){var n,t;return null!=(n=null==(t=r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:t.filter(Boolean))?n:[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)((()=>{const e=null!=n?n:function(e){return h(e).map((e=>{let{props:{value:n,label:t,attributes:r,default:a}}=e;return{value:n,label:t,attributes:r,default:a}}))}(t);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error('Docusaurus error: Duplicate values "'+n.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[n,t])}function g(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:t}=e;const a=(0,i.W6)(),o=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=t?t:null}({queryString:n,groupId:t});return[(0,u.aZ)(o),(0,r.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(a.location.search);n.set(o,e),a.replace(Object.assign({},a.location,{search:n.toString()}))}),[o,a])]}function b(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,o=p(e),[s,i]=(0,r.useState)((()=>function(e){var n;let{defaultValue:t,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!g({value:t,tabValues:r}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+t+'" but none of its children has the corresponding value. Available values are: '+r.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return t}const a=null!=(n=r.find((e=>e.default)))?n:r[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:n,tabValues:o}))),[u,c]=m({queryString:t,groupId:a}),[h,b]=function(e){let{groupId:n}=e;const t=function(e){return e?"docusaurus.tab."+e:null}(n),[a,o]=(0,d.Dv)(t);return[a,(0,r.useCallback)((e=>{t&&o.set(e)}),[t,o])]}({groupId:a}),v=(()=>{const e=null!=u?u:h;return g({value:e,tabValues:o})?e:null})();(0,l.A)((()=>{v&&i(v)}),[v]);return{selectedValue:s,selectValue:(0,r.useCallback)((e=>{if(!g({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);i(e),c(e),b(e)}),[c,b,o]),tabValues:o}}var v=t(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=t(74848);function x(e){let{className:n,block:t,selectedValue:r,selectValue:o,tabValues:i}=e;const l=[],{blockElementScrollPositionUntilNextRender:u}=(0,s.a_)(),c=e=>{const n=e.currentTarget,t=l.indexOf(n),a=i[t].value;a!==r&&(u(n),o(a))},d=e=>{var n;let t=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{var r;const n=l.indexOf(e.currentTarget)+1;t=null!=(r=l[n])?r:l[0];break}case"ArrowLeft":{var a;const n=l.indexOf(e.currentTarget)-1;t=null!=(a=l[n])?a:l[l.length-1];break}}null==(n=t)||n.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:o}=e;return(0,y.jsx)("li",Object.assign({role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{l.push(e)},onKeyDown:d,onClick:c},o,{className:(0,a.A)("tabs__item",f.tabItem,null==o?void 0:o.className,{"tabs__item--active":r===n}),children:null!=t?t:n}),n)}))})}function j(e){let{lazy:n,children:t,selectedValue:o}=e;const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=s.find((e=>e.props.value===o));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:s.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function w(e){const n=b(e);return(0,y.jsxs)("div",{className:(0,a.A)(o.G.tabs.container,"tabs-container",f.tabList),children:[(0,y.jsx)(x,Object.assign({},n,e)),(0,y.jsx)(j,Object.assign({},n,e))]})}function k(e){const n=(0,v.A)();return(0,y.jsx)(w,Object.assign({},e,{children:h(e.children)}),String(n))}},28453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>i});var r=t(96540);const a={},o=r.createContext(a);function s(e){const n=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);