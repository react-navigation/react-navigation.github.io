"use strict";(self.webpackChunkreact_navigation_website_next=self.webpackChunkreact_navigation_website_next||[]).push([[82819],{6729:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>l,default:()=>m,frontMatter:()=>s,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"header-buttons","title":"Header buttons","description":"Now that we know how to customize the look of our headers, let\'s make them interactive!","source":"@site/versioned_docs/version-8.x/header-buttons.md","sourceDirName":".","slug":"/header-buttons","permalink":"/docs/8.x/header-buttons","draft":false,"unlisted":false,"editUrl":"https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-8.x/header-buttons.md","tags":[],"version":"8.x","frontMatter":{"id":"header-buttons","title":"Header buttons","sidebar_label":"Header buttons"},"sidebar":"docs","previous":{"title":"Configuring the header bar","permalink":"/docs/8.x/headers"},"next":{"title":"Nesting navigators","permalink":"/docs/8.x/nesting-navigators"}}');var r=n(74848),o=n(28453),i=n(11470),c=n(19365);const s={id:"header-buttons",title:"Header buttons",sidebar_label:"Header buttons"},l=void 0,u={},d=[{value:"Adding a button to the header",id:"adding-a-button-to-the-header",level:2},{value:"Header interaction with its screen component",id:"header-interaction-with-its-screen-component",level:2},{value:"Customizing the back button",id:"customizing-the-back-button",level:2},{value:"Summary",id:"summary",level:2}];function h(e){const t={a:"a",code:"code",h2:"h2",img:"img",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Now that we know how to customize the look of our headers, let's make them interactive!"}),"\n",(0,r.jsx)(t.h2,{id:"adding-a-button-to-the-header",children:"Adding a button to the header"}),"\n",(0,r.jsx)(t.p,{children:"The most common way to interact with a header is by tapping a button to the left or right of the title. Let's add a button to the right side of the header:"}),"\n",(0,r.jsxs)(i.A,{groupId:"config",queryString:"config",children:["\n",(0,r.jsxs)(c.A,{value:"static",label:"Static",default:!0,children:["\n\n",(0,r.jsx)(t.pre,{"data-name":"Header button","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(t.code,{className:"language-js",metastring:'name="Header button" snack static2dynamic',children:"import * as React from 'react';\nimport { Text, View } from 'react-native';\nimport { createStaticNavigation } from '@react-navigation/native';\nimport {\n  createNativeStackNavigator,\n  createNativeStackScreen,\n} from '@react-navigation/native-stack';\nimport { Button } from '@react-navigation/elements';\n\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\n// codeblock-focus-start\nconst MyStack = createNativeStackNavigator({\n  screens: {\n    Home: createNativeStackScreen({\n      screen: HomeScreen,\n      options: {\n        // highlight-start\n        headerRight: () => (\n          <Button onPress={() => alert('This is a button!')}>Info</Button>\n        ),\n        // highlight-end\n      },\n    }),\n  },\n});\n// codeblock-focus-end\n\nconst Navigation = createStaticNavigation(MyStack);\n\nexport default function App() {\n  return <Navigation />;\n}\n"})}),"\n\n"]}),"\n",(0,r.jsxs)(c.A,{value:"dynamic",label:"Dynamic",children:["\n\n",(0,r.jsx)(t.pre,{"data-name":"Header button","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(t.code,{className:"language-js",metastring:'name="Header button" snack static2dynamic',children:"import * as React from 'react';\nimport { Text, View } from 'react-native';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Button } from '@react-navigation/elements';\n\nfunction HomeScreen() {\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Text>Home Screen</Text>\n    </View>\n  );\n}\n\n// codeblock-focus-start\nconst Stack = createNativeStackNavigator();\n\nfunction MyStack() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"Home\"\n        component={HomeScreen}\n        options={{\n          // highlight-start\n          headerRight: () => (\n            <Button onPress={() => alert('This is a button!')}>Info</Button>\n          ),\n          // highlight-end\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n// codeblock-focus-end\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <MyStack />\n    </NavigationContainer>\n  );\n}"})}),"\n\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Header button",src:n(39364).A+"",width:"300",height:"649"})}),"\n",(0,r.jsx)(t.p,{children:"When we define our button this way, you can't access or update the screen component's state in it. This is pretty important because it's common to want the buttons in your header to interact with the screen that the header belongs to. So, we will look how to do this next."}),"\n",(0,r.jsx)(t.h2,{id:"header-interaction-with-its-screen-component",children:"Header interaction with its screen component"}),"\n",(0,r.jsxs)(t.p,{children:["To make header buttons interact with screen state, we can use ",(0,r.jsx)(t.a,{href:"/docs/8.x/navigation-object#setoptions",children:(0,r.jsx)(t.code,{children:"navigation.setOptions"})})," inside the screen component:"]}),"\n",(0,r.jsxs)(i.A,{groupId:"config",queryString:"config",children:["\n",(0,r.jsxs)(c.A,{value:"static",label:"Static",default:!0,children:["\n\n",(0,r.jsx)(t.pre,{"data-name":"Header button","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(t.code,{className:"language-js",metastring:'name="Header button" snack static2dynamic',children:"import * as React from 'react';\nimport { Text, View } from 'react-native';\nimport {\n  createStaticNavigation,\n  useNavigation,\n} from '@react-navigation/native';\nimport {\n  createNativeStackNavigator,\n  createNativeStackScreen,\n} from '@react-navigation/native-stack';\nimport { Button } from '@react-navigation/elements';\n\n// codeblock-focus-start\nfunction HomeScreen() {\n  const navigation = useNavigation('Home');\n  const [count, setCount] = React.useState(0);\n\n  React.useEffect(() => {\n    // Use `setOptions` to update the button that we previously specified\n    // Now the button includes an `onPress` handler to update the count\n    // highlight-start\n    navigation.setOptions({\n      headerRight: () => (\n        <Button onPress={() => setCount((c) => c + 1)}>Update count</Button>\n      ),\n    });\n    // highlight-end\n  }, [navigation]);\n\n  return <Text>Count: {count}</Text>;\n}\n\nconst MyStack = createNativeStackNavigator({\n  screens: {\n    Home: createNativeStackScreen({\n      screen: HomeScreen,\n      options: {\n        // Add a placeholder button without the `onPress` to avoid flicker\n        // highlight-next-line\n        headerRight: () => <Button>Update count</Button>,\n      },\n    }),\n  },\n});\n// codeblock-focus-end\n\nconst Navigation = createStaticNavigation(MyStack);\n\nexport default function App() {\n  return <Navigation />;\n}\n"})}),"\n\n"]}),"\n",(0,r.jsxs)(c.A,{value:"dynamic",label:"Dynamic",children:["\n\n",(0,r.jsx)(t.pre,{"data-name":"Header button","data-snack":"true","data-static2dynamic":"true",children:(0,r.jsx)(t.code,{className:"language-js",metastring:'name="Header button" snack static2dynamic',children:"import * as React from 'react';\nimport { Text, View } from 'react-native';\nimport { useNavigation, NavigationContainer } from '@react-navigation/native';\nimport { createNativeStackNavigator } from '@react-navigation/native-stack';\nimport { Button } from '@react-navigation/elements';\n\n// codeblock-focus-start\nfunction HomeScreen() {\n  const navigation = useNavigation('Home');\n  const [count, setCount] = React.useState(0);\n\n  React.useEffect(() => {\n    // Use `setOptions` to update the button that we previously specified\n    // Now the button includes an `onPress` handler to update the count\n    // highlight-start\n    navigation.setOptions({\n      headerRight: () => (\n        <Button onPress={() => setCount((c) => c + 1)}>Update count</Button>\n      ),\n    });\n    // highlight-end\n  }, [navigation]);\n\n  return <Text>Count: {count}</Text>;\n}\n\nconst Stack = createNativeStackNavigator();\n\nfunction MyStack() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"Home\"\n        component={HomeScreen}\n        options={{\n          // Add a placeholder button without the `onPress` to avoid flicker\n          // highlight-next-line\n          headerRight: () => <Button>Update count</Button>,\n        }}\n      />\n    </Stack.Navigator>\n  );\n}\n// codeblock-focus-end\n\nexport default function App() {\n  return (\n    <NavigationContainer>\n      <MyStack />\n    </NavigationContainer>\n  );\n}"})}),"\n\n"]}),"\n"]}),"\n",(0,r.jsx)("video",{playsInline:!0,autoPlay:!0,muted:!0,loop:!0,style:{aspectRatio:.48464163822525597},children:(0,r.jsx)("source",{src:"/assets/headers/header-update-screen.mp4"})}),"\n",(0,r.jsxs)(t.p,{children:["Here we update ",(0,r.jsx)(t.code,{children:"headerRight"})," with a button that has ",(0,r.jsx)(t.code,{children:"onPress"})," handler that can access and update the component's state, since it's defined inside the component."]}),"\n",(0,r.jsx)(t.h2,{id:"customizing-the-back-button",children:"Customizing the back button"}),"\n",(0,r.jsx)(t.p,{children:"The back button is rendered automatically in a stack navigator whenever there another screen to go back to."}),"\n",(0,r.jsx)(t.p,{children:"The native stack navigator provides platform-specific defaults for this back button. On older iOS versions, this may includes a label next to the button showing the previous screen's title when space allows."}),"\n",(0,r.jsx)(t.p,{children:"You can customize the back button using various options such as:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"headerBackTitle"}),": Change the back button label (iOS)"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"headerBackTitleStyle"}),": Style the back button label"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.code,{children:"headerBackIcon"}),": Custom back button icon"]}),"\n"]}),"\n",(0,r.jsxs)(i.A,{groupId:"config",queryString:"config",children:["\n",(0,r.jsxs)(c.A,{value:"static",label:"Static",default:!0,children:["\n\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",metastring:"static2dynamic",children:"const MyStack = createNativeStackNavigator({\n  screens: {\n    Home: {\n      screen: HomeScreen,\n      options: {\n        headerBackTitle: 'Custom Back',\n        headerBackTitleStyle: { fontSize: 30 },\n      },\n    },\n  },\n});\n"})}),"\n\n"]}),"\n",(0,r.jsxs)(c.A,{value:"dynamic",label:"Dynamic",children:["\n\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-js",metastring:"static2dynamic",children:"const Stack = createNativeStackNavigator();\n\nfunction MyStack() {\n  return (\n    <Stack.Navigator>\n      <Stack.Screen\n        name=\"Home\"\n        component={HomeScreen}\n        options={{\n          headerBackTitle: 'Custom Back',\n          headerBackTitleStyle: { fontSize: 30 },\n        }}\n      />\n    </Stack.Navigator>\n  );\n}"})}),"\n\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Header custom back",src:n(17493).A+"",width:"300",height:"649"})}),"\n",(0,r.jsxs)(t.p,{children:["If you want to customize it beyond what the above options allow, you can use ",(0,r.jsx)(t.code,{children:"headerLeft"})," to render your own component instead. The ",(0,r.jsx)(t.code,{children:"headerLeft"})," option accepts a React Component, which you can use to override the onPress behavior or replace the button entirely. See the ",(0,r.jsx)(t.a,{href:"/docs/8.x/native-stack-navigator#headerleft",children:"API reference"})," for details."]}),"\n",(0,r.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Buttons can be added to the header using ",(0,r.jsx)(t.a,{href:"/docs/8.x/elements#headerleft",children:(0,r.jsx)(t.code,{children:"headerLeft"})})," and ",(0,r.jsx)(t.a,{href:"/docs/8.x/elements#headerright",children:(0,r.jsx)(t.code,{children:"headerRight"})})," in ",(0,r.jsx)(t.a,{href:"/docs/8.x/screen-options",children:(0,r.jsx)(t.code,{children:"options"})})]}),"\n",(0,r.jsxs)(t.li,{children:["The back button can be customized with ",(0,r.jsx)(t.a,{href:"/docs/8.x/native-stack-navigator#headerbacktitle",children:(0,r.jsx)(t.code,{children:"headerBackTitle"})}),", ",(0,r.jsx)(t.a,{href:"/docs/8.x/native-stack-navigator#headerbacktitlestyle",children:(0,r.jsx)(t.code,{children:"headerBackTitleStyle"})}),", ",(0,r.jsx)(t.a,{href:"/docs/8.x/native-stack-navigator#headerbackicon",children:(0,r.jsx)(t.code,{children:"headerBackIcon"})}),", or replaced entirely with ",(0,r.jsx)(t.code,{children:"headerLeft"})]}),"\n",(0,r.jsxs)(t.li,{children:["To make header buttons interact with screen state, use ",(0,r.jsx)(t.a,{href:"/docs/8.x/navigation-object#setoptions",children:(0,r.jsx)(t.code,{children:"navigation.setOptions"})})," inside the screen component"]}),"\n"]})]})}function m(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},19365:(e,t,n)=>{n.d(t,{A:()=>i});n(96540);var a=n(34164);const r={tabItem:"tabItem_Ymn6"};var o=n(74848);function i(e){let{children:t,hidden:n,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,i),hidden:n,children:t})}},11470:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(96540),r=n(34164),o=n(17559),i=n(23104),c=n(56347),s=n(205),l=n(57485),u=n(31682),d=n(70679);function h(e){var t,n;return null!=(t=null==(n=a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error("Docusaurus error: Bad <Tabs> child <"+("string"==typeof e.type?e.type:e.type.name)+'>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.')})))?void 0:n.filter(Boolean))?t:[]}function m(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=null!=t?t:function(e){return h(e).map((e=>{let{props:{value:t,label:n,attributes:a,default:r}}=e;return{value:t,label:n,attributes:a,default:r}}))}(n);return function(e){const t=(0,u.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error('Docusaurus error: Duplicate values "'+t.map((e=>e.value)).join(", ")+'" found in <Tabs>. Every value needs to be unique.')}(e),e}),[t,n])}function g(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:n}=e;const r=(0,c.W6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return null!=n?n:null}({queryString:t,groupId:n});return[(0,l.aZ)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace(Object.assign({},r.location,{search:t.toString()}))}),[o,r])]}function v(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=m(e),[i,c]=(0,a.useState)((()=>function(e){var t;let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:a}))throw new Error('Docusaurus error: The <Tabs> has a defaultValue "'+n+'" but none of its children has the corresponding value. Available values are: '+a.map((e=>e.value)).join(", ")+". If you intend to show no default tab, use defaultValue={null} instead.");return n}const r=null!=(t=a.find((e=>e.default)))?t:a[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[l,u]=p({queryString:n,groupId:r}),[h,v]=function(e){let{groupId:t}=e;const n=function(e){return e?"docusaurus.tab."+e:null}(t),[r,o]=(0,d.Dv)(n);return[r,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:r}),b=(()=>{const e=null!=l?l:h;return g({value:e,tabValues:o})?e:null})();(0,s.A)((()=>{b&&c(b)}),[b]);return{selectedValue:i,selectValue:(0,a.useCallback)((e=>{if(!g({value:e,tabValues:o}))throw new Error("Can't select invalid tab value="+e);c(e),u(e),v(e)}),[u,v,o]),tabValues:o}}var b=n(92303);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=n(74848);function k(e){let{className:t,block:n,selectedValue:a,selectValue:o,tabValues:c}=e;const s=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),u=e=>{const t=e.currentTarget,n=s.indexOf(t),r=c[n].value;r!==a&&(l(t),o(r))},d=e=>{var t;let n=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{var a;const t=s.indexOf(e.currentTarget)+1;n=null!=(a=s[t])?a:s[0];break}case"ArrowLeft":{var r;const t=s.indexOf(e.currentTarget)-1;n=null!=(r=s[t])?r:s[s.length-1];break}}null==(t=n)||t.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":n},t),children:c.map((e=>{let{value:t,label:n,attributes:o}=e;return(0,x.jsx)("li",Object.assign({role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:e=>{s.push(e)},onKeyDown:d,onClick:u},o,{className:(0,r.A)("tabs__item",f.tabItem,null==o?void 0:o.className,{"tabs__item--active":a===t}),children:null!=n?n:t}),t)}))})}function j(e){let{lazy:t,children:n,selectedValue:o}=e;const i=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=i.find((e=>e.props.value===o));return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:i.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==o})))})}function S(e){const t=v(e);return(0,x.jsxs)("div",{className:(0,r.A)(o.G.tabs.container,"tabs-container",f.tabList),children:[(0,x.jsx)(k,Object.assign({},t,e)),(0,x.jsx)(j,Object.assign({},t,e))]})}function y(e){const t=(0,b.A)();return(0,x.jsx)(S,Object.assign({},e,{children:h(e.children)}),String(t))}},17493:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/header-back-custom-b6e16e7836a7b6ce663b6a5867041aa8.png"},39364:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/header-button-9b3901a2e3d562d52d8252610df6db8c.png"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>c});var a=n(96540);const r={},o=a.createContext(r);function i(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);