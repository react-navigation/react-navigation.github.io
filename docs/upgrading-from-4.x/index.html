<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10128745-16","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10128745-16","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-block-buttons.js"></script>

<title data-react-helmet="true">Upgrading from 4.x | React Navigation</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"><meta data-react-helmet="true" property="og:title" content="React Navigation"><meta data-react-helmet="true" name="docsearch:version" content="5.x"><meta data-react-helmet="true" name="twitter:card" content="summary"><meta data-react-helmet="true" name="description" content="&gt; This guide is a work in progress! As more people upgrade their apps we can continue to improve it. Please send pull requests to add any suggestions that you have from your upgrade experience."><meta data-react-helmet="true" property="og:description" content="&gt; This guide is a work in progress! As more people upgrade their apps we can continue to improve it. Please send pull requests to add any suggestions that you have from your upgrade experience."><meta data-react-helmet="true" property="og:url" content="https://reactnavigation.org//docs/upgrading-from-4.x">

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico">


<link rel="stylesheet" href="/styles.602e36a5.css">


<link rel="preload" href="/styles.14697a0b.js" as="script">

<link rel="preload" href="/runtime~main.c481f2bc.js" as="script">

<link rel="preload" href="/main.1633ec70.js" as="script">

<link rel="preload" href="/1.77ef02f1.js" as="script">

<link rel="preload" href="/2.c4e26f00.js" as="script">

<link rel="preload" href="/3.0c53df52.js" as="script">

<link rel="preload" href="/ee9e7730.2668fa4a.js" as="script">

<link rel="preload" href="/20ac7829.23f0d5ca.js" as="script">

<link rel="preload" href="/7bdc89f1.74e61373.js" as="script">

<link rel="preload" href="/d9dcdbb0.38e2042f.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}function e(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}var n=window.matchMedia("(prefers-color-scheme: dark)");n.addListener((function(n){null===e()&&t(n.matches?"dark":"")}));var a=e();null!==a?t(a):n.matches&&t("dark")}()</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/spiro.svg" alt="React Navigation Logo"><strong>React Navigation</strong></a><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/help">Help</a><a class="navbar__item navbar__link" href="/versions">Versions</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/react-navigation">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/spiro.svg" alt="React Navigation Logo"><strong>React Navigation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/react-navigation">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">Versions</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="sidebarLogo_3ono"><img src="/img/spiro.svg" alt="React Navigation Logo"><strong>React Navigation</strong></div><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="#!">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/hello-react-navigation">Hello React Navigation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigating">Moving between screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/params">Passing parameters to routes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/headers">Configuring the header bar</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/header-buttons">Header buttons</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/nesting-navigators">Nesting navigators</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-lifecycle">Navigation lifecycle</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/modal">Opening a full-screen modal</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/next-steps">Next steps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/glossary-of-terms">Glossary of terms</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/compatibility">Compatibility layer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/limitations">Limitations</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/tab-based-navigation">Tab navigation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/drawer-based-navigation">Drawer navigation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/auth-flow">Authentication flows</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/handling-safe-area">Supporting safe areas</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/hiding-tabbar-in-screens">Hiding tab bar in specific screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/status-bar">Different status bar configuration based on route</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/screen-options-resolution">Screen options with nested navigators</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/custom-android-back-button-handling">Custom Android back button behavior</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/preventing-going-back">Preventing going back</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/function-after-focusing-screen">Call a function when focused screen changes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/connecting-navigation-prop">Access the navigation prop from any component</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigating-without-navigation-prop">Navigating without the navigation prop</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/deep-linking">Deep linking</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/configuring-links">Configuring links</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/web-support">Web support</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/server-rendering">Server rendering</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/screen-tracking">Screen tracking for analytics</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/themes">Themes</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/state-persistence">State persistence</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/testing">Testing with Jest</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/typescript">Type checking with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/redux-integration">Redux integration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/MST-integration">MobX State Tree integration</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/localization">Localization</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/react-native-screens">Optimize memory usage and performance</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/upgrading-from-4.x">Upgrading from 4.x</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-container">NavigationContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/server-container">ServerContainer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/screen-options">Options for screens</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/route-prop">Route prop</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-prop">Navigation prop</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-context">NavigationContext</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-events">Navigation events</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-state">Navigation state</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/link">Link</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/devtools">Developer tools</a></li><li class="menu__list-item"><a class="menu__link" href="#!">Navigators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/stack-navigator">createStackNavigator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/native-stack-navigator">createNativeStackNavigator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/drawer-navigator">createDrawerNavigator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/bottom-tab-navigator">createBottomTabNavigator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/material-bottom-tab-navigator">createMaterialBottomTabNavigator</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/material-top-tab-navigator">createMaterialTopTabNavigator</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Hooks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/use-navigation">useNavigation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-route">useRoute</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-navigation-state">useNavigationState</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-focus-effect">useFocusEffect</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-is-focused">useIsFocused</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-link-to">useLinkTo</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-link-props">useLinkProps</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-link-builder">useLinkBuilder</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-linking">useLinking</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-scroll-to-top">useScrollToTop</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/use-theme">useTheme</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Actions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/navigation-actions">CommonActions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/stack-actions">StackActions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/drawer-actions">DrawerActions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/tab-actions">TabActions</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Build your own Navigator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/custom-routers">Custom routers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/custom-navigators">Custom navigators</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Additional Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/supported-react-native-versions">Supported React Native versions</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/community-libraries-and-navigators">Community Navigators and Libraries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/more-resources">More Resources</a></li></ul></li><li class="menu__list-item"><a class="menu__link" href="#!">Meta</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/pitch">Pitch &amp; anti-pitch</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/alternatives">Alternative libraries</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/used-by">Apps using React Navigation</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/contributing">Contributing</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><span style="vertical-align:top" class="badge badge--info">Version: 5.x</span><header><h1 class="docTitle_1vWb">Upgrading from 4.x</h1></header><div class="markdown"><blockquote><p>This guide is a work in progress! As more people upgrade their apps we can continue to improve it. Please send pull requests to add any suggestions that you have from your upgrade experience.</p></blockquote><p>React Navigation 5 has a completely new component based API. While the main concepts are the same, the API is different. In this guide, we aim to document all the differences so that it&#x27;s easier to upgrade your app.</p><p>If you have not installed React Navigation 5 yet, you can do so following the <a href="/docs/getting-started">Getting Started guide</a>.</p><p>To reuse code using the old API with minimal changes, you can use the <a href="/docs/compatibility">compatibility layer</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="before-you-upgrade"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#before-you-upgrade" title="Direct link to heading">#</a>Before you upgrade</h2><p>React Navigation 4 is still maintained and will stay compatible with the latest version of React Native. We&#x27;ll accept small pull requests and release bug fixes. While we won&#x27;t be actively working on new features for React Navigation 4, they may be occasionally backported.</p><p>If React Navigation 4 is working well for you and you don&#x27;t need any of the new capabilities of the new version, you can keep using it. You don&#x27;t have to rewrite your navigation structure.</p><p>However, if you&#x27;re starting a new project, we recommend to use the latest version instead of React Navigation 4.</p><p>If you are upgrading from older versions of navigators, you should take a look at the guide for <a href="/docs/4.x/upgrading-from-3.x">upgrading to React Navigation 4</a> first, especially the part for <a href="/docs/4.x/upgrading-from-3.x#upgrading-packages">upgrading packages</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="package-names"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#package-names" title="Direct link to heading">#</a>Package names</h2><p>For React Navigation 5, we went with scoped packages (e.g. <code>@react-navigation/stack</code>). It distinguishes them from previous versions and makes it harder to accidentally mix v4 and v5 packages. The following are the new equivalent package names:</p><ul><li><code>react-navigation</code> -&gt; <code>@react-navigation/native</code></li><li><code>react-navigation-stack</code> -&gt; <code>@react-navigation/stack</code></li><li><code>react-navigation-tabs</code> -&gt; <code>@react-navigation/bottom-tabs</code>, <code>@react-navigation/material-top-tabs</code></li><li><code>react-navigation-material-bottom-tabs</code> -&gt; <code>@react-navigation/material-bottom-tabs</code></li><li><code>react-navigation-drawer</code> -&gt; <code>@react-navigation/drawer</code></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="navigation-container"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigation-container" title="Direct link to heading">#</a>Navigation Container</h2><p>In React Navigation 5.x there&#x27;s no <code>createAppContainer</code> which provided screens with navigation context. You&#x27;ll need to wrap your app with <a href="/docs/navigation-container">NavigationContainer</a> provider.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">NavigationContainer</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@react-navigation/native&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">NavigationContainer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token comment" style="color:#999988;font-style:italic">/*...*/</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">NavigationContainer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p>The <code>onNavigationStateChange</code> prop on the AppContainer is now available as <code>onStateChange</code> on NavigationContainer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="configuring-the-navigator"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#configuring-the-navigator" title="Direct link to heading">#</a>Configuring the navigator</h2><p>In React Navigation 4.x, we used to statically configure our navigator to <code>createXNavigator</code> functions. The first parameter was an object containing route configuration, and the second parameter was configuration for the navigator.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">RootStack</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStackNavigator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">Home</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      screen</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">HomeScreen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      navigationOptions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;My app&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token maybe-class-name">Profile</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      screen</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">ProfileScreen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      params</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;me&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    initialRouteName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Home&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    defaultNavigationOptions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      gestureEnabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><p>With 5.x, we now configure the navigator inside a component. First, we create <code>Navigator</code> and <code>Screen</code> pair using <code>createXNavigator</code> and then use them to render our navigator.</p><p>The main concepts are the same. There are navigators and screens, nesting works the same, we have configuration for the navigator and options for the screen. To summarize the differences:</p><ul><li>All of the configuration is passed as props to the navigator</li><li>The route configuration is done using <code>Screen</code> elements and passed as children</li><li><code>params</code> becomes <code>initialParams</code> prop on <code>Screen</code></li><li><code>navigationOptions</code> becomes <code>options</code> prop on <code>Screen</code></li><li><code>defaultNavigationOptions</code> becomes <code>screenOptions</code> prop on <code>Navigator</code></li></ul><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> createStackNavigator </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@react-navigation/stack&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">Stack</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStackNavigator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">RootStack</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Navigator</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      initialRouteName</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Home&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      screenOptions</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> gestureEnabled</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Home&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">HomeScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        options</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;My app&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Profile&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">ProfileScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        initialParams</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;me&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Navigator</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="the-navigation-prop"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#the-navigation-prop" title="Direct link to heading">#</a>The <code>navigation</code> prop</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="separate-route-prop"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#separate-route-prop" title="Direct link to heading">#</a>Separate <code>route</code> prop</h3><p>In React Navigation 4.x, the <code>navigation</code> prop contained various helper methods as well as the current screen&#x27;s state. In React Navigation 5.x, we have split the <code>navigation</code> prop into 2 props: <code>navigation</code> prop contains helper methods such as <code>navigate</code>, <code>goBack</code> etc., <code>route</code> prop contains the current screen&#x27;s data (previously accessed via <code>navigation.state</code>).</p><p>This means, now we can access screen&#x27;s params through <code>route.params</code> instead of <code>navigation.state.params</code>:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">ProfileScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> route </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> userId </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">user</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="no-more-getparam"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#no-more-getparam" title="Direct link to heading">#</a>No more <code>getParam</code></h3><p>Previously we could also use <code>navigation.getParam(&#x27;someParam&#x27;, &#x27;defaultValue&#x27;)</code> to get a param value. It addressed 2 things:</p><ul><li>Guard against <code>params</code> being <code>undefined</code> in some cases</li><li>Provide a default value if the <code>params.someParam</code> was <code>undefined</code> or <code>null</code></li></ul><p>Now, the same thing can be achieved using the upcoming <a href="https://github.com/tc39/proposal-optional-chaining">optional chaining</a> and <a href="https://github.com/tc39/proposal-nullish-coalescing">nullish coalescing</a> operators:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getParam</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;someParam&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;defaultValue&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><p>is equivalent to:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">params</span><span class="token operator" style="color:#393A34">?</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">someParam</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;defaultValue&#x27;</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="no-more-isfirstrouteinparent"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#no-more-isfirstrouteinparent" title="Direct link to heading">#</a>No more <code>isFirstRouteInParent</code></h3><p>The <code>isFirstRouteInParent</code> method did a very specific job: tell you if the route is the first one in parent&#x27;s state. The main purpose was to decide whether you can show a back button in a screen depending on if it&#x27;s the first one.</p><p>However, it had many of shortcomings:</p><ol><li>It checked the <code>routes</code> array in state to determine if it&#x27;s the first, which means that it won&#x27;t work for other navigators such as tab navigator which keep history in a separate <code>routeKeyHistory</code> array.</li><li>Since this was a method on the navigation object, if a screen&#x27;s index changed to/from the first one, it would always trigger re-render for that screen whether you use the method or not.</li></ol><p>Now we have added a <a href="/docs/use-navigation-state"><code>useNavigationState</code></a> which addresses many more use cases and doesn&#x27;t have these shortcomings. We can implement <code>isFirstRouteInParent</code> with this hook:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useIsFirstRouteInParent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> route </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useRoute</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> isFirstRouteInParent </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">useNavigationState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token parameter">state</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> state</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">routes</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">key</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">key</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> isFirstRouteInParent</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="specifying-navigationoptions-for-a-screen"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#specifying-navigationoptions-for-a-screen" title="Direct link to heading">#</a>Specifying <code>navigationOptions</code> for a screen</h2><p>In React Navigation 4.x, we could do the following to specify <code>navigationOption</code>:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">ProfileScreen</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> navigationOptions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    headerShown</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">render</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p>With React Navigation 5.x, we need to pass the configuration when defining the screen:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Profile&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">ProfileScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  options</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> headerShown</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span></div></code></pre></div><p>For dynamic options, the <code>options</code> prop also accepts a function which receives the <code>navigation</code> and <code>route</code> props:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Profile&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">ProfileScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  options</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> route </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">user</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span></div></code></pre></div><p>In addition to this, React Navigation 5.x has another way to configure screen dynamically based on a screen&#x27;s props or state by calling <code>navigation.setOptions</code>:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">SelectionScreen</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> navigation </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">selectionCount</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> setSelectionCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">useState</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">useLayoutEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setOptions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      title</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        selectionCount </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Select items&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation">selectionCount</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c"> items selected</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">navigation</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> selectionCount</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p>But what if we want to define options statically on the component? It&#x27;s less flexible to do it, but we could do it if we wanted:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">HomeScreen</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">React</span><span class="token class-name punctuation" style="color:#393A34">.</span><span class="token class-name">Component</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> navigationOptions </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Home&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">HomeScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  options</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">HomeScreen</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">navigationOptions</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><p>You might be curious, why don&#x27;t we support it by default anymore if it&#x27;s so easy?</p><ul><li>Static properties need extra code to work if you have a <a href="https://reactjs.org/docs/higher-order-components.html">Higher Order Component</a></li><li>You lose the ability to use props and context here, making them less flexible</li><li>They cannot be type-checked automatically, you need to manually annotate this property</li><li>They don&#x27;t play well with Fast Refresh, as changing them doesn&#x27;t trigger a re-render</li><li>We&#x27;ve seen people get confused on how to use static properties when transitioning from class components to function components</li></ul><p>Due to the numerous disadvantages with this pattern, we decided to drop it in favor of the current API.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="navigation-events"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigation-events" title="Direct link to heading">#</a>Navigation events</h2><p>In React Navigation 4.x, there were 4 navigation events to notify focus state of the screen:</p><ul><li><code>willFocus</code>: emitted when screen comes into focus</li><li><code>didFocus</code>: emitted when the transition animation for focus finishes</li><li><code>willBlur</code>: emitted when the screen goes out of focus</li><li><code>didBlur</code>: emitted when the transition animation for blur finishes</li></ul><p>It was confusing to decide which events to use and what each event meant. Some navigators also didn&#x27;t emit events for transition animations which made the events inconsistent.</p><p>We have simplified the events in React Navigation 5.x, so now we have only <code>focus</code> and <code>blur</code> events which are equivalent to <code>willFocus</code> and <code>willBlur</code> events. These events can be listened to using the reworked event system.</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">Profile</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> navigation </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">React</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">useEffect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> unsubscribe </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addListener</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;focus&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// do something</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> unsubscribe</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">navigation</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">ProfileContent</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p>See the docs for <a href="/docs/navigation-events">Navigation events</a> for more details and examples.</p><p>In addition, there is a new <a href="/docs/use-focus-effect"><code>useFocusEffect</code></a> hook to make it easier to perform side-effects and data fetching only when a screen is focused.</p><p>To run tasks after an animation finishes, we can use the <a href="https://reactnative.dev/docs/interactionmanager"><code>InteractionManager</code></a> API provided by React Native. See the docs for <a href="/docs/use-focus-effect#delaying-effect-until-transition-finishes"><code>useFocusEffect</code></a> for more details.</p><p>Many of the navigators in React Navigation 4.x also had their events such as tab press, transition start etc. exposed in <code>navigationOptions</code>. They are now consolidated into the same event system as <code>focus</code> and <code>blur</code> events, now named <code>tabPress</code>, <code>transitionStart</code>, <code>transitionEnd</code> etc.</p><p>To achieve the previous use cases for these events where you added listeners without rendering a screen, you can use the <a href="/docs/navigation-events#listeners-prop-on-screen"><code>listeners</code> prop in the <code>Screen</code> component</a> to achieve the same functionality:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Tab</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Chat&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">Chat</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  listeners</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter punctuation" style="color:#393A34">{</span><span class="token parameter"> navigation</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> route </span><span class="token parameter punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function-variable function" style="color:#d73a49">tabPress</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token parameter">e</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Prevent default action</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      e</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">preventDefault</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic">// Do something with the `navigation` object</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">navigate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;AnotherPlace&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span></div></code></pre></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="navigating-to-nested-screens"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigating-to-nested-screens" title="Direct link to heading">#</a>Navigating to nested screens</h2><p>Previously, you could navigate to a screen deeply nested somewhere in a navigator. This was possible because the configuration was static, and all of the navigators were available on the initial startup.</p><p>With a dynamic configuration, it becomes impossible, because new navigators and screens could be added, or existing navigators and screens could be removed any time in future. In addition, navigators are initialized as needed in 5.x instead of initializing all navigators at startup, which means that a navigator may not be available to handle an action.</p><p>Because of these reasons, you now need to be more explicit when navigating to a deeply nested screen. See <a href="/docs/nesting-navigators#navigating-to-a-screen-in-a-nested-navigator">nesting navigators docs</a> for more details.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="deep-linking"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#deep-linking" title="Direct link to heading">#</a>Deep-linking</h2><p>In React Navigation 4.x, you could specify a <code>path</code> property in your screen configuration which was used for handling incoming links. This was possible because we could statically get the configuration for all of the defined <code>path</code>s.</p><p>Due to dynamic configuration in 5.x, links need to be handled before we can know what to render for our navigators. So it&#x27;s necessary to specify the deep link configuration separately. See the <a href="/docs/deep-linking">deep linking</a> docs for more information.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="switch-navigator"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#switch-navigator" title="Direct link to heading">#</a>Switch Navigator</h2><p>The purpose of Switch Navigator was to dynamically switch between screens/navigators, mostly useful for implementing onboarding/auth flows. For example:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">AppNavigator</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createStackNavigator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">Home</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">HomeScreen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">Settings</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">SettingsScreen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">RootNavigator</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">createSwitchNavigator</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">Login</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">LoginScreen</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token maybe-class-name">App</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token maybe-class-name">AppNavigator</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><p>And then after login:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">navigate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;App&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><p>With React Navigation 5.x, we can dynamically define and alter the screen definitions of a navigator, which makes Switch Navigator unnecessary. The above pattern can be now defined declaratively:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">default</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function maybe-class-name" style="color:#d73a49">App</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">NavigationContainer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Navigator</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">isLoggedIn </span><span class="token operator" style="color:#393A34">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Home&quot;</span><span class="token plain"> component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">HomeScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;Settings&quot;</span><span class="token plain"> component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">SettingsScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Screen</span><span class="token plain"> name</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;SignIn&quot;</span><span class="token plain"> component</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token maybe-class-name">SignInScreen</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Stack</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access maybe-class-name">Navigator</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">NavigationContainer</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></div></code></pre></div><p>In earlier versions of React Navigation, there were 2 ways to handle this:</p><ol><li>Keep multiple navigators and use switch navigator to switch the active navigator to a different one upon login (recommended)</li><li>Reset the state of the navigator to the desired screens upon login</li></ol><p>Both of these approaches were imperative. We needed to update the state to save your token, and then do a <code>navigate</code> or <code>reset</code> to change screens manually. Seems reasonable, right? But what happens when the user logs out? We need to update the state to delete the token, then <code>navigate</code> or <code>reset</code> again manually to show the login screen. We have to imperatively do the task twice already. Add more scenarios to this (e.g. unverified user, guest etc.) and it becomes even more complex.</p><p>But with the above approach, you can declaratively say which screens should be accessible if user is logged in and which screens shouldn&#x27;t be. If the user logs in or logs out, you update the <code>userToken</code> in state and the correct screens are shown automatically.</p><p>To summarize the benefits:</p><ul><li>No need for manually navigating to correct screen on log in or log out, correct screens are shown automatically.</li><li>If the user is not logged in, it&#x27;s impossible to navigate to screens which need the user to be logged in (e.g. from a deep link, restoring persisted state), which means you don&#x27;t need to deal with inconsistent states.</li><li>Since all our screens are under the stack navigator, we get smooth animations after log in or log out unlike the abrupt screen change with switch navigator.</li></ul><p>So, the new approach covers more edge cased and removes the need for something like Switch Navigator. So it has been removed.</p><p>See <a href="/docs/auth-flow">Authentication flows</a> for a guide on implementing authentication flows.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="global-props-with-screenprops"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#global-props-with-screenprops" title="Direct link to heading">#</a>Global props with <code>screenProps</code></h2><p>In React Navigation 4.x, we could pass a prop called <code>screenProps</code> which you could access in all the child navigators:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> screenProps</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">/* some data here */</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span></div></code></pre></div><p>This was handy for passing global configuration such as translations, themes etc. to all screens.</p><p>However, using <code>screenProps</code> had some disadvantages:</p><ul><li>Changing the values in <code>screenProps</code> re-renders all of the screens in the app, regardless of whether they use it or not. This can be very bad for performance, and easy mistake to make.</li><li>When using a type-checker like TypeScript, it was necessary to annotate <code>screenProps</code> every time we want to use it, which wasn&#x27;t type-safe or convenient.</li><li>You could only access <code>screenProps</code> in screens. To access them in child components, you needed to pass them down as props manually. It&#x27;s very inconvenient for things like translation where we often use it in a lot of components.</li></ul><p>Due to the component based API of React Navigation 5.x, we have a much better alternative to <code>screenProps</code> which doesn&#x27;t have these disadvantages: <a href="https://reactjs.org/docs/context.html">React Context</a>. Using React Context, it&#x27;s possible to pass data to any child component in a performant and type-safe way, and we don&#x27;t need to learn a new API!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="themes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#themes" title="Direct link to heading">#</a>Themes</h2><p>React Navigation 4.x had basic theming support where you could specify whether to use a light or dark theme:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">App</span><span class="token plain"> theme</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;dark&quot;</span><span class="token operator" style="color:#393A34">&gt;</span></div></code></pre></div><p>It wasn&#x27;t easy to customize the colors used by the built-in components such as header, tab bar etc. without extra code or repetition.</p><p>In React navigation 5.x, we have revamped the theme system for easier customization. Now you can provide a theme object with your desired colors for background, accent color etc. and it will automatically change the colors of all navigators without any extra code. See the <a href="/docs/themes">Themes</a> documentation for more details on how to customize the theme.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="action-creators"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#action-creators" title="Direct link to heading">#</a>Action creators</h2><p>The <code>navigation</code> object has a <code>dispatch</code> method used to dispatch navigation actions. Normally we don&#x27;t recommend dispatching action objects, but use the existing methods such as <code>navigation.push</code>, <code>navigation.navigate</code> etc. But if you were importing action creators from the library, then you&#x27;ll need to update your code:</p><ul><li><code>NavigationActions</code> is now <code>CommonActions</code>, can be imported from <code>@react-navigation/native</code></li><li><code>StackActions</code>, <code>DrawerActions</code> etc. can be imported from <code>@react-navigation/native</code></li><li><code>SwitchActions</code> is now <code>TabActions</code>. can be imported from <code>@react-navigation/native</code></li></ul><p>Signature of many actions have changed. Refer to their docs for details:</p><ul><li><a href="/docs/stack-actions"><code>StackActions</code></a></li><li><a href="/docs/tab-actions"><code>TabActions</code></a></li><li><a href="/docs/drawer-actions"><code>DrawerActions</code></a></li></ul><p>It&#x27;s highly recommended to use the methods on the navigation object instead of using action creators and <code>dispatch</code>. It should only be used for advanced use cases.</p><p>In addition, there have been some changes to the way the navigation actions work. These changes probably won&#x27;t affect you if you didn&#x27;t do any advanced tasks with these methods.</p><p>One major difference is that a lot of methods used to take some parameters for controlling which screen and navigator it should be applied to and didn&#x27;t follow a specific pattern.</p><p>In this version, we have standardized this and made it possible to use with any action without the action needing to support it. The new <code>target</code> and <code>source</code> properties provides control over which navigator should handle an action. See <a href="/docs/navigation-prop#dispatch">docs for dispatch</a> for more details.</p><p>You can import the action creators from the <a href="/docs/compatibility">compatibility layer</a> to preserve old behavior for the actions.</p><p>More differences in the signatures are listed below:</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="navigate"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigate" title="Direct link to heading">#</a><code>navigate</code></h3><p>Previously, it was possible to pass an object <code>{ routeName, key, params }</code>. Now, <code>routeName</code> is called just <code>name</code>, so it&#x27;ll be <code>{ name, key, params }</code>.</p><p>The <code>navigate</code> action also supported child actions in the <code>action</code> property in the object. We found that very few people actually used it and most found it confusing. It also complicated the code quite a bit, so we have removed this functionality.</p><p>See <a href="/docs/navigation-actions#navigate"><code>navigate</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="goback"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#goback" title="Direct link to heading">#</a><code>goBack</code></h3><p>Previously, the <code>goBack</code> method took one parameter: <code>from</code>. You could pass nothing to go back from anywhere, pass <code>null</code> to go back from the current screen, or a route key to go back from a specific route. It was a common source of confusion.</p><p>The new behavior of <code>goBack</code> is more intuitive as it takes you back from the screen that dispatched the action. More advanced behavior can be achieved by <code>target</code> and <code>source</code> properties to replicate old behavior.</p><p>See <a href="/docs/navigation-actions#goback"><code>goBack</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="setparams"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#setparams" title="Direct link to heading">#</a><code>setParams</code></h3><p>Previously, the <code>setParams</code> method also took an optional <code>key</code> to specify which screen was setting its params. Now the <code>source</code> property can be used to achieve the same functionality.</p><p>See <a href="/docs/navigation-actions#setparams"><code>setParams</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="reset"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reset" title="Direct link to heading">#</a><code>reset</code></h3><p>Previously, the <code>reset</code> method took an array of actions to apply. This was often not intuitive. Now, we have changed <code>reset</code> method to take the new state instead:</p><p>For example, this will reset the navigator&#x27;s state to have one screen called <code>Home</code>:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">reset</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  routes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Home&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><p>The <code>reset</code> action is now also supported on all navigators instead of just stack.</p><p>See <a href="/docs/navigation-actions#reset"><code>reset</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="replace"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#replace" title="Direct link to heading">#</a><code>replace</code></h3><p>Previously, it was possible to pass an object <code>{ routeName, key, newKey, params }</code>. Now, <code>routeName</code> is called just <code>name</code>, and <code>newKey</code> is called <code>key</code>, so it&#x27;ll be <code>{ name, key, params }</code>. The previous <code>key</code> can be specified using the <code>source</code> property.</p><p>The <code>replace</code> action also supported child actions in the <code>action</code> property which has been removed.</p><p>See <a href="/docs/stack-actions#replace"><code>replace</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="push"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#push" title="Direct link to heading">#</a><code>push</code></h3><p>Previously, it was possible to pass an object <code>{ routeName, params }</code>. Now, <code>routeName</code> is called just <code>name</code>, so it&#x27;ll be <code>{ name, params }</code>.</p><p>The <code>push</code> action also supported child actions in the <code>action</code> property which has been removed.</p><p>See <a href="/docs/stack-actions#push"><code>push</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="pop"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pop" title="Direct link to heading">#</a><code>pop</code></h3><p>Previously, the <code>pop</code> method used to take an object with a property called <code>n</code> which specified how many screens to go back to. Now, you can directly specify the number as the first argument instead of an object.</p><p>See <a href="/docs/stack-actions#pop"><code>pop</code> action docs</a> for more details.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dismiss"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dismiss" title="Direct link to heading">#</a><code>dismiss</code></h3><p>The <code>dismiss</code> method has been removed. You can achieve similar effect with following:</p><div class="mdxCodeBlock_iHAB"><pre class="prism-code language-js codeBlock_19pQ"><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button><code class="codeBlockLines_2n9r" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token plain">navigation</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dangerouslyGetParent</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">pop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></code></pre></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="jumpto"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#jumpto" title="Direct link to heading">#</a><code>jumpTo</code></h3><p>Previously, the <code>jumpTo</code> method also took an optional <code>key</code> to specify which screen was setting its params. Now the <code>source</code> property can be used to achieve the same functionality.</p><p>See <a href="/docs/tab-actions#jumpto"><code>jumpTo</code> action docs</a> for more details.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="custom-actions"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#custom-actions" title="Direct link to heading">#</a>Custom actions</h2><p>Previously, it was possible to override the <code>router</code> property and its <code>getStateForAction</code> property on the navigator component to implement custom actions. Due to the dynamic nature of React Navigation 5, this is not possible. However, you can implement custom helpers to achieve the same functionality. See <a href="/docs/navigation-prop#dispatch"><code>dispatch</code> docs</a> for more details.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="scrollables"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#scrollables" title="Direct link to heading">#</a>Scrollables</h2><p>React Navigation 4.x exported its own <code>ScrollView</code>, <code>FlatList</code>, and <code>SectionList</code> components. These were wrappers around the scrollable components <a href="https://github.com/software-mansion/react-native-gesture-handler"><code>react-native-gesture-handler</code></a> and would scroll to top when tapping on an active tab.</p><p>However, this was very restrictive since you may want to use another scrollable implementation which we didn&#x27;t wrap. So now we have a <a href="/docs/use-scroll-to-top"><code>useScrollToTop</code></a> hook that can be used with any scrollable component.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="higher-order-components"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#higher-order-components" title="Direct link to heading">#</a>Higher order components</h2><p>React Navigation 4.x included higher order components such as <code>withNavigation</code> and <code>withNavigationFocus</code>. Now they live in the <a href="/docs/compatibility">compat package</a>.</p><p>We also have documentation on how to use the new hooks such as <a href="/docs/use-focus-effect"><code>useFocusEffect</code></a> if you&#x27;re using class components.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="navigation-state-in-redux"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigation-state-in-redux" title="Direct link to heading">#</a>Navigation state in Redux</h2><p>We have long recommended not to store navigation state in Redux. We have finally dropped support for storing navigation state in Redux in React Navigation 5.x.</p><p>This means you cannot store navigation state in Redux. You can still use Redux (or any other library) for managing your app state and it will work fine. See <a href="/docs/redux-integration">Redux integration</a> for more info.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-5.x/upgrading-from-4.x.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/react-native-screens"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label"> Optimize memory usage and performance</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/navigation-container"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">NavigationContainer </h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#before-you-upgrade" class="contents__link">Before you upgrade</a></li><li><a href="#package-names" class="contents__link">Package names</a></li><li><a href="#navigation-container" class="contents__link">Navigation Container</a></li><li><a href="#configuring-the-navigator" class="contents__link">Configuring the navigator</a></li><li><a href="#the-navigation-prop" class="contents__link">The <code>navigation</code> prop</a><ul><li><a href="#separate-route-prop" class="contents__link">Separate <code>route</code> prop</a></li><li><a href="#no-more-getparam" class="contents__link">No more <code>getParam</code></a></li><li><a href="#no-more-isfirstrouteinparent" class="contents__link">No more <code>isFirstRouteInParent</code></a></li></ul></li><li><a href="#specifying-navigationoptions-for-a-screen" class="contents__link">Specifying <code>navigationOptions</code> for a screen</a></li><li><a href="#navigation-events" class="contents__link">Navigation events</a></li><li><a href="#navigating-to-nested-screens" class="contents__link">Navigating to nested screens</a></li><li><a href="#deep-linking" class="contents__link">Deep-linking</a></li><li><a href="#switch-navigator" class="contents__link">Switch Navigator</a></li><li><a href="#global-props-with-screenprops" class="contents__link">Global props with <code>screenProps</code></a></li><li><a href="#themes" class="contents__link">Themes</a></li><li><a href="#action-creators" class="contents__link">Action creators</a><ul><li><a href="#navigate" class="contents__link"><code>navigate</code></a></li><li><a href="#goback" class="contents__link"><code>goBack</code></a></li><li><a href="#setparams" class="contents__link"><code>setParams</code></a></li><li><a href="#reset" class="contents__link"><code>reset</code></a></li><li><a href="#replace" class="contents__link"><code>replace</code></a></li><li><a href="#push" class="contents__link"><code>push</code></a></li><li><a href="#pop" class="contents__link"><code>pop</code></a></li><li><a href="#dismiss" class="contents__link"><code>dismiss</code></a></li><li><a href="#jumpto" class="contents__link"><code>jumpTo</code></a></li></ul></li><li><a href="#custom-actions" class="contents__link">Custom actions</a></li><li><a href="#scrollables" class="contents__link">Scrollables</a></li><li><a href="#higher-order-components" class="contents__link">Higher order components</a></li><li><a href="#navigation-state-in-redux" class="contents__link">Navigation state in Redux</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/custom-navigators">Building your own Navigator</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">Contributing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://discord.gg/reactiflux">Chat in our Discord channel</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://stackoverflow.com/questions/tagged/react-navigation">Get help on Stack Overflow</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://react-navigation.canny.io/feature-requests">Request a feature on Canny</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/react-navigation/react-navigation/issues/new/choose">Report a bug on Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/react-navigation/react-navigation">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/reactnavigation">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Built with</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" to="https://docusaurus.io/" href="https://docusaurus.io/">Docusaurus</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://pages.github.com/">GitHub Pages</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://www.netlify.com/">Netlify</a></li></ul></div></div><div class="text--center"></div></div></footer>
</div>

<script src="/styles.14697a0b.js"></script>

<script src="/runtime~main.c481f2bc.js"></script>

<script src="/main.1633ec70.js"></script>

<script src="/1.77ef02f1.js"></script>

<script src="/2.c4e26f00.js"></script>

<script src="/3.0c53df52.js"></script>

<script src="/ee9e7730.2668fa4a.js"></script>

<script src="/20ac7829.23f0d5ca.js"></script>

<script src="/7bdc89f1.74e61373.js"></script>

<script src="/d9dcdbb0.38e2042f.js"></script>


</body>
</html>