<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10128745-16","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="React Navigation" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-block-buttons.js"></script><title data-react-helmet="true">Compatibility layer | React Navigation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="5.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-5.x"><meta data-react-helmet="true" property="og:title" content="Compatibility layer | React Navigation"><meta data-react-helmet="true" name="description" content="Note: Before following this guide, make sure that you&#x27;ve followed the Getting Started guide to setup React Navigation 5 in your app."><meta data-react-helmet="true" property="og:description" content="Note: Before following this guide, make sure that you&#x27;ve followed the Getting Started guide to setup React Navigation 5 in your app."><meta data-react-helmet="true" property="og:url" content="https://reactnavigation.org//docs/compatibility"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://reactnavigation.org//docs/compatibility"><link rel="stylesheet" href="/styles.7adba343.css">
<link rel="preload" href="/styles.a712477a.js" as="script">
<link rel="preload" href="/runtime~main.1572371b.js" as="script">
<link rel="preload" href="/main.48fc5275.js" as="script">
<link rel="preload" href="/1.b4c02dcb.js" as="script">
<link rel="preload" href="/2.6a8174a0.js" as="script">
<link rel="preload" href="/ee9e7730.9db0e54b.js" as="script">
<link rel="preload" href="/561a3eb1.197fe72c.js" as="script">
<link rel="preload" href="/7bdc89f1.70dbd2cd.js" as="script">
<link rel="preload" href="/966cb129.fffb1414.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/spiro.svg" alt="React Navigation Logo"><strong class="navbar__title">React Navigation</strong></a><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/help">Help</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/getting-started">5.x</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/compatibility">5.x</a></li><li><a class="dropdown__link" href="/docs/4.x/getting-started">4.x</a></li><li><a class="dropdown__link" href="/docs/3.x/getting-started">3.x</a></li><li><a class="dropdown__link" href="/docs/2.x/getting-started">2.x</a></li><li><a class="dropdown__link" href="/docs/1.x/getting-started">1.x</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/react-navigation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/spiro.svg" alt="React Navigation Logo"><strong class="navbar__title">React Navigation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/react-navigation" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/compatibility">5.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.x/getting-started">4.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/3.x/getting-started">3.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/2.x/getting-started">2.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/1.x/getting-started">1.x</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hello-react-navigation">Hello React Navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigating">Moving between screens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/params">Passing parameters to routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/headers">Configuring the header bar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/header-buttons">Header buttons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/nesting-navigators">Nesting navigators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-lifecycle">Navigation lifecycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/modal">Opening a full-screen modal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/next-steps">Next steps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/glossary-of-terms">Glossary of terms</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/compatibility">Compatibility layer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/limitations">Limitations</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tab-based-navigation">Tab navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/drawer-based-navigation">Drawer navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/auth-flow">Authentication flows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/handling-safe-area">Supporting safe areas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/hiding-tabbar-in-screens">Hiding tab bar in specific screens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/status-bar">Different status bar configuration based on route</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screen-options-resolution">Screen options with nested navigators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/custom-android-back-button-handling">Custom Android back button behavior</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/preventing-going-back">Preventing going back</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/function-after-focusing-screen">Call a function when focused screen changes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/connecting-navigation-prop">Access the navigation prop from any component</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigating-without-navigation-prop">Navigating without the navigation prop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/deep-linking">Deep linking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/configuring-links">Configuring links</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web-support">Web support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-rendering">Server rendering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screen-tracking">Screen tracking for analytics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/themes">Themes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/state-persistence">State persistence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/testing">Testing with Jest</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/typescript">Type checking with TypeScript</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/redux-integration">Redux integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/MST-integration">MobX State Tree integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/localization">Localization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/react-native-screens">Optimize memory usage and performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/upgrading-from-4.x">Upgrading from 4.x</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-container">NavigationContainer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/server-container">ServerContainer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screen">Screen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/screen-options">Options for screens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/route-prop">Route prop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-prop">Navigation prop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-context">NavigationContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-events">Navigation events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-state">Navigation state</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/link">Link</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/devtools">Developer tools</a></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB" tabindex="0">Navigators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stack-navigator">createStackNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/native-stack-navigator">createNativeStackNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/drawer-navigator">createDrawerNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/bottom-tab-navigator">createBottomTabNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/material-bottom-tab-navigator">createMaterialBottomTabNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/material-top-tab-navigator">createMaterialTopTabNavigator</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB" tabindex="0">Hooks</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-navigation">useNavigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-route">useRoute</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-navigation-state">useNavigationState</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-focus-effect">useFocusEffect</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-is-focused">useIsFocused</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-link-to">useLinkTo</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-link-props">useLinkProps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-link-builder">useLinkBuilder</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-linking">useLinking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-scroll-to-top">useScrollToTop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/use-theme">useTheme</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB" tabindex="0">Actions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/navigation-actions">CommonActions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/stack-actions">StackActions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/drawer-actions">DrawerActions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tab-actions">TabActions</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Build your own Navigator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/custom-routers">Custom routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/custom-navigators">Custom navigators</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Additional Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/supported-react-native-versions">Supported React Native versions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/community-libraries-and-navigators">Community Navigators and Libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/more-resources">More Resources</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Meta</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pitch">Pitch &amp; anti-pitch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/alternatives">Alternative libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/used-by">Apps using React Navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/contributing">Contributing</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 5.x</span></div><header><h1 class="docTitle_1Lrw">Compatibility layer</h1></header><div class="markdown"><blockquote><p>Note: Before following this guide, make sure that you&#x27;ve followed the <a href="/docs/getting-started">Getting Started</a> guide to setup React Navigation 5 in your app.</p></blockquote><p>React Navigation 5 has a completely new API, so our old code using React Navigation 4 will no longer work with this version. If you are not familiar with the new API, you can read about the differences in the <a href="/docs/upgrading-from-4.x">upgrade guide</a>. We understand that this can be a lot of work, so we have made a compatibility layer to make this easier.</p><p>To use the compatibility layer, we need to install <a href="https://github.com/react-navigation/react-navigation/tree/main/packages/compat" target="_blank" rel="noopener noreferrer"><code>@react-navigation/compat</code></a>:</p><div><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1w39 tabs__item--active" style="outline:none">npm</li><li role="tab" tabindex="0" aria-selected="false" class="tabs__item tabItem_1w39" style="outline:none">Yarn</li></ul><div role="tabpanel" class="margin-vert--md"><div><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-bash codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @react-navigation/native @react-navigation/compat @react-navigation/stack</span></div></div></div></div></div></div></div></div><p>Then we can make minimal changes in our code to use it:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-diff codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token deleted-sign deleted" style="color:#d73a49">-import { createStackNavigator } from &#x27;react-navigation-stack&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token deleted-sign deleted" style="color:#d73a49"></span><span class="token inserted-sign inserted" style="color:#36acaa">+import { createStackNavigator } from &#x27;@react-navigation/stack&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token inserted-sign inserted" style="color:#36acaa">+import { createCompatNavigatorFactory } from &#x27;@react-navigation/compat&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token inserted-sign inserted" style="color:#36acaa"></span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token deleted-sign deleted" style="color:#d73a49">-const RootStack = createStackNavigator(</span></div><div class="token-line" style="color:#393A34"><span class="token deleted-sign deleted" style="color:#d73a49"></span><span class="token inserted-sign inserted" style="color:#36acaa">+const RootStack = createCompatNavigatorFactory(createStackNavigator)(</span></div><div class="token-line" style="color:#393A34"><span class="token inserted-sign inserted" style="color:#36acaa"></span><span class="token unchanged">  {</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged">    Home: { screen: HomeScreen },</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged">    Profile: { screen: ProfileScreen },</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged">  },</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged">  {</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged">    initialRouteName: &#x27;Profile&#x27;,</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged">  }</span></div><div class="token-line" style="color:#393A34"><span class="token unchanged"></span><span class="token plain">);</span></div></div></div></div></div><p>If you were importing actions from <code>react-navigation</code>, you need to change them to import from <code>@react-navigation/compat</code>:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-diff codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token deleted-sign deleted" style="color:#d73a49">-import { NavigationActions } from &#x27;react-navigation&#x27;;</span></div><div class="token-line" style="color:#393A34"><span class="token deleted-sign deleted" style="color:#d73a49"></span><span class="token inserted-sign inserted" style="color:#36acaa">+import { NavigationActions } from &#x27;@react-navigation/compat&#x27;;</span></div></div></div></div></div><p>The library exports the following APIs:</p><ul><li>Actions:<ul><li><code>NavigationActions</code></li><li><code>StackActions</code></li><li><code>DrawerActions</code></li><li><code>SwitchActions</code></li></ul></li><li>HOCs<ul><li><code>withNavigation</code></li><li><code>withNavigationFocus</code></li></ul></li><li>Navigators<ul><li><code>createSwitchNavigator</code></li></ul></li><li>Compatibility helpers<ul><li><code>createCompatNavigatorFactory</code> - Takes a navigator with the v5 API and returns a <code>createXNavigator</code> with the v4 API.</li><li><code>createCompatNavigationProp</code> - Takes the v5 <code>navigation</code> object along with a <code>route</code> object and returns a v4 <code>navigation</code> object.</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-does-it-handle"></a>What does it handle?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-does-it-handle" title="Direct link to heading">#</a></h3><p>The compatibility layer handles various API differences between React Navigation 4 and 5:</p><ul><li>Use static configuration API of v4 instead of the component based API.</li><li>Change signature of methods on the navigation object to match v4.</li><li>Add support for <code>screenProps</code> which is removed in v5.</li><li>Export action creators such as <code>NavigationActions</code>, <code>StackActions</code>, <code>SwitchActions</code> with same signature as v4.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="what-doesnt-it-handle"></a>What doesn&#x27;t it handle?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-doesnt-it-handle" title="Direct link to heading">#</a></h3><p>Due to the dynamic API of React Navigation 5, some functionality possible with the static API of v4 are not possible anymore, and hence the compatibility layer doesn&#x27;t handle them:</p><ul><li>It doesn&#x27;t wrap navigator&#x27;s props or options. This basically means that the options you&#x27;re passing to a navigator might be different as per breaking changes in the navigators. Refer to the navigator&#x27;s docs for update options API.</li><li>Legacy deep link support by defining <code>path</code> in route configuration is not supported. See <a href="/docs/deep-linking">deep linking documentation</a> for more details now how to handle deep links.</li><li>Navigating to a navigator doesn&#x27;t work the same, i.e. we can&#x27;t navigate to a screen in a navigator that&#x27;s not rendered already, and params aren&#x27;t merged to all child screens. See <a href="/docs/nesting-navigators">nesting navigators documentation</a> for more details on how to navigate to screens in a different navigator.</li><li>Some methods such as the legacy <code>reset</code> method which take an array of actions aren&#x27;t supported anymore. Unsupported methods will throw errors when using them as well as give type errors if we&#x27;re using TypeScript.</li><li>It doesn&#x27;t export <code>createAppContainer</code>, so you&#x27;ll need to use the v5 API for the container (<code>NavigationContainer</code>). This also means any features supported by the container need to be migrated to the new API.</li><li>If you&#x27;re using advanced APIs like Redux integration, custom routers and actions etc., they aren&#x27;t supported anymore and you&#x27;ll need to remove Redux integration.</li></ul><p>While we have tried our best to make the compatibility layer handle most of the differences, there might be something missing. So make sure to test the code that you&#x27;ve migrated.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="why-should-we-use-it"></a>Why should we use it?<a aria-hidden="true" tabindex="-1" class="hash-link" href="#why-should-we-use-it" title="Direct link to heading">#</a></h3><p>Using the compatibility layer allows us to migrate our code to the new version incrementally. Unfortunately we do have to change some code to get the compatibility layer working (see &quot;What doesn&#x27;t it handle&quot;) properly, but it still allows majority of our code to remain unchanged. Some of the advantages of using the compatibility layer include:</p><ul><li>It allows us to write new code with the new API while integrating with the code using the legacy API, i.e. you can navigate to screens defined with the legacy API from code written with the new API and vice versa.</li><li>Since it&#x27;s built on top of v5 which has excellent TypeScript support, the legacy code can also take advantage of the improved type-checking, which will be useful when you want to refactor it into the new API later.</li><li>You can get granular with migration, e.g. migrate only few methods in a component to the new API. You still have access to the v5 <code>navigation</code> object at <code>navigation.original</code> which you can use to gradually migrate the code.</li><li>You have access to new APIs in legacy components, such as <code>navigation.setOptions</code> or the new hooks such as <code>useFocusEffect</code>.</li></ul><p>We are committed to help you to make it as easy as possible to upgrade. So please open issues about use cases the compatibility layer doesn&#x27;t support, so that we can figure out a good migration strategy.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-5.x/compatibility.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/glossary-of-terms"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Glossary of terms</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#what-does-it-handle" class="table-of-contents__link">What does it handle?</a></li><li><a href="#what-doesnt-it-handle" class="table-of-contents__link">What doesn&#39;t it handle?</a></li><li><a href="#why-should-we-use-it" class="table-of-contents__link">Why should we use it?</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/custom-navigators">Building your own Navigator</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">Contributing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/reactiflux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat in our Discord channel</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-navigation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get help on Stack Overflow</a></li><li class="footer__item"><a href="https://react-navigation.canny.io/feature-requests" target="_blank" rel="noopener noreferrer" class="footer__link-item">Request a feature on Canny</a></li><li class="footer__item"><a href="https://github.com/react-navigation/react-navigation/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a bug on Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/react-navigation/react-navigation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/reactnavigation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Built with</h4><ul class="footer__items"><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus</a></li><li class="footer__item"><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages</a></li><li class="footer__item"><a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netlify</a></li></ul></div></div><div class="text--center"><div></div></div></div></footer></div>
<script src="/styles.a712477a.js"></script>
<script src="/runtime~main.1572371b.js"></script>
<script src="/main.48fc5275.js"></script>
<script src="/1.b4c02dcb.js"></script>
<script src="/2.6a8174a0.js"></script>
<script src="/ee9e7730.9db0e54b.js"></script>
<script src="/561a3eb1.197fe72c.js"></script>
<script src="/7bdc89f1.70dbd2cd.js"></script>
<script src="/966cb129.fffb1414.js"></script>
</body>
</html>