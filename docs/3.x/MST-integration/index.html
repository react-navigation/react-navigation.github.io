<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.66">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-10128745-16","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="React Navigation" href="/opensearch.xml">
<script src="https://buttons.github.io/buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script>
<script src="/js/code-block-buttons.js"></script><title data-react-helmet="true">Integrating with MobX State Tree | React Navigation</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="3.x"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-3.x"><meta data-react-helmet="true" property="og:title" content="Integrating with MobX State Tree | React Navigation"><meta data-react-helmet="true" name="description" content="This guide explores possible way to use React Navigation in a React Native project that uses MobX State Tree(MST) for state management. The guide is accompanied by a sample app. Parts of the guide may be relevant also for users of MobX but please be aware of the fact that MobX does not come with a built-in solution for (de)serializing its state."><meta data-react-helmet="true" property="og:description" content="This guide explores possible way to use React Navigation in a React Native project that uses MobX State Tree(MST) for state management. The guide is accompanied by a sample app. Parts of the guide may be relevant also for users of MobX but please be aware of the fact that MobX does not come with a built-in solution for (de)serializing its state."><meta data-react-helmet="true" property="og:url" content="https://reactnavigation.org//docs/3.x/MST-integration"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://reactnavigation.org//docs/3.x/MST-integration"><link rel="stylesheet" href="/styles.7adba343.css">
<link rel="preload" href="/styles.a712477a.js" as="script">
<link rel="preload" href="/runtime~main.8bbe6bf4.js" as="script">
<link rel="preload" href="/main.48fc5275.js" as="script">
<link rel="preload" href="/1.b4c02dcb.js" as="script">
<link rel="preload" href="/2.6a8174a0.js" as="script">
<link rel="preload" href="/ee9e7730.0aa787fd.js" as="script">
<link rel="preload" href="/5dde19ad.82e74bc5.js" as="script">
<link rel="preload" href="/7bdc89f1.70dbd2cd.js" as="script">
<link rel="preload" href="/9ff2e65d.d028b1a5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/spiro.svg" alt="React Navigation Logo"><strong class="navbar__title">React Navigation</strong></a><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/help">Help</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/docs/3.x/getting-started">3.x</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/MST-integration">5.x</a></li><li><a class="dropdown__link" href="/docs/4.x/MST-integration">4.x</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/3.x/MST-integration">3.x</a></li><li><a class="dropdown__link" href="/docs/2.x/getting-started">2.x</a></li><li><a class="dropdown__link" href="/docs/1.x/getting-started">1.x</a></li><li><a class="dropdown__link" href="/versions">All versions</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a href="https://github.com/react-navigation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">ðŸŒž</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div><div class="navbar__search"><span aria-label="expand searchbar" role="button" class="search-icon" tabindex="0"></span><input type="search" id="search_input_react" placeholder="Search" aria-label="Search" class="navbar__search-input search-bar"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img class="navbar__logo" src="/img/spiro.svg" alt="React Navigation Logo"><strong class="navbar__title">React Navigation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/react-navigation" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" href="/help">Help</a></li><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/MST-integration">5.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/4.x/MST-integration">4.x</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/3.x/MST-integration">3.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/2.x/getting-started">2.x</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/1.x/getting-started">1.x</a></li><li class="menu__list-item"><a class="menu__link" href="/versions">All versions</a></li></ul></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Fundamentals</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/getting-started">Getting started</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/hello-react-navigation">Hello React Navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/supported-react-native-versions">Supported React Native versions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigating">Moving between screens</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-lifecycle">Navigation lifecycle</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/params">Passing parameters to routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/headers">Configuring the header bar</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/header-buttons">Header buttons</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/app-containers">App containers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/modal">Opening a full-screen modal</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/next-steps">Next steps</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/glossary-of-terms">Glossary of terms</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/common-mistakes">Common mistakes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/react-native-screens">Optimize memory usage and performance</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/limitations">Limitations</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/tab-based-navigation">Tab navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/drawer-based-navigation">Drawer navigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/auth-flow">Authentication flows</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/handling-iphonex">Supporting safe areas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/status-bar">Different status bar configuration based on route</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-options-resolution">Navigation options resolution</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/custom-android-back-button-handling">Custom Android back button behavior</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/connecting-navigation-prop">Access the navigation prop from any component</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigating-without-navigation-prop">Navigating without the navigation prop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-key">Using the navigation key</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/deep-linking">Deep linking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/screen-tracking">Screen tracking for analytics</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/themes">Themes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/state-persistence">State persistence</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/redux-integration">Redux integration</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/3.x/MST-integration">MobX State Tree integration</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/localization">Localization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/web-support">Web support</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/function-after-focusing-screen">Call a function when focused screen changes</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">API Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-prop">Navigation prop</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-context">NavigationContext</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-events">NavigationEvents</a></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB" tabindex="0">Navigators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/stack-navigator">createStackNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/switch-navigator">createSwitchNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/animated-switch-navigator">createAnimatedSwitchNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/drawer-navigator">createDrawerNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/bottom-tab-navigator">createBottomTabNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/material-bottom-tab-navigator">createMaterialBottomTabNavigator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/material-top-tab-navigator">createMaterialTopTabNavigator</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB" tabindex="0">Actions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-actions">NavigationActions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/stack-actions">StackActions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/switch-actions">SwitchActions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/drawer-actions">DrawerActions</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB" tabindex="0">Helpers</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/with-navigation">withNavigation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/with-navigation-focus">withNavigationFocus</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/scrollables">Scrollables</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Build your own Navigator</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/custom-navigator-overview">Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/routers">Routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/custom-navigators">Custom navigators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/custom-routers">Custom routers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/navigation-views">Navigation views</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/transitioner">Transitioner</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Related Resources</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/community-libraries-and-navigators">Community Navigators and Libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/more-resources">More Resources</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLinkText_2zSB">Meta</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/pitch">Pitch &amp; anti-pitch</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/alternatives">Alternative libraries</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.x/contributing">Contributing</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for React Navigation <strong>3.x</strong>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <strong><a href="/docs/MST-integration">latest version</a></strong> (5.x).</div></div><div class="docItemContainer_3QWW"><article><div><span class="badge badge--secondary">Version: 3.x</span></div><header><h1 class="docTitle_1Lrw">Integrating with MobX State Tree</h1></header><div class="markdown"><p>This guide explores possible way to use React Navigation in a React Native project that uses <a href="https://github.com/mobxjs/mobx-state-tree" target="_blank" rel="noopener noreferrer">MobX State Tree</a>(MST) for state management. The guide is accompanied by a <a href="https://github.com/vonovak/react-navigation-mst-demo" target="_blank" rel="noopener noreferrer">sample app</a>. Parts of the guide may be relevant also for users of <a href="https://github.com/mobxjs/mobx" target="_blank" rel="noopener noreferrer">MobX</a> but please be aware of the fact that MobX does not come with a built-in solution for (de)serializing its state.</p><blockquote><p>Please note that in this guide, Mobx State Tree is not used to manage the navigation state itself - just the navigation params!</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="overview"></a>Overview<a aria-hidden="true" tabindex="-1" class="hash-link" href="#overview" title="Direct link to heading">#</a></h2><p>Our goal with this guide is to use MST with React Navigation and achieve optimal developer experience. In the scope of this guide, this means allowing us to do a full JS reload and be brought back to the state before the reload happened.</p><p>We will do this by persisting the navigation state using the React Navigation&#x27;s <a href="/docs/3.x/state-persistence">built-in mechanism</a>. We also need to persist the app state and navigation params - that way, when you&#x27;re working on a screen in your app and do a full JS reload, you will be brought back to the same screen, with the same data in it.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="guide"></a>Guide<a aria-hidden="true" tabindex="-1" class="hash-link" href="#guide" title="Direct link to heading">#</a></h2><p>First, start by creating initial navigation structure and React components. When you&#x27;re done with that, continue with modelling your state in MST. If you want to learn more about this, check out the <a href="https://egghead.io/lessons/react-describe-your-application-domain-using-mobx-state-tree-mst-models" target="_blank" rel="noopener noreferrer">egghead.io course</a>.</p><p>At this point, you&#x27;re probably wondering how to connect your MST objects with the components. The answer is in the <a href="https://github.com/mobxjs/mobx-react" target="_blank" rel="noopener noreferrer">mobx-react package</a> that contains React bindings for MobX (they also work for MST). You will likely be using the <code>Provider</code> component and the <code>inject</code> and <code>observer</code> functions.</p><p>Use <code>Provider</code> to wrap what you return from your root component&#x27;s render method:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">Provider</span><span class="token plain"> myObject</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">myObject</span><span class="token punctuation" style="color:#393A34">}</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token maybe-class-name">AppNavigator</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">&lt;</span><span class="token operator" style="color:#393A34">/</span><span class="token maybe-class-name">Provider</span><span class="token operator" style="color:#393A34">&gt;</span></div></div></div></div></div><p>this will allow you to access <code>myObject</code> from any React component in the application through the <code>inject</code> function which can be quite useful.</p><p>Use <code>observer</code> function to wrap all components that render observable data. This will make sure the components re-render once the data they render changes.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="navigation-params"></a>Navigation params<a aria-hidden="true" tabindex="-1" class="hash-link" href="#navigation-params" title="Direct link to heading">#</a></h3><p>Screens in your application often depend on params. React Navigation allows you to <a href="/docs/3.x/params">send params</a> from one screen to another. These params are stored in the navigation state. However, in order to persist the navigation state, it needs to be serializable. This requirement does not play well with MST, because the MST objects are complex objects and React Navigation doesn&#x27;t know how to (de)serialize them. In this guide, we will work around this by storing the navigation params ourselves.</p><p>This means that rather than sending the params from one screen to another (eg. with <code>props.navigation.navigate(&#x27;MyScreen&#x27;, { complexMSTObject })</code>) we will store the params to a navigation store, then navigate without sending any params, and on the target screen, we&#x27;ll pick the params up from the navigation store.</p><p>To give an example, the navigation store may look similar to this:</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button tabindex="0" type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div class="prism-code language-js codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#393A34;background-color:#f6f8fa"><div class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> types</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> onSnapshot</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> getRoot </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mobx-state-tree&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">Product</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;../models/Product&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token maybe-class-name">User</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;../models/User&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token maybe-class-name">NavigationStore</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> types</span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;NavigationStore&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    productDetailScreenParams</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;ProductDetailScreenParams&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">        product</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">optional</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">safeReference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">Product</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    userProfileScreenParams</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;UserProfileScreenParams&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">      user</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">maybe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">types</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">safeReference</span><span class="token punctuation" style="color:#393A34">(</span><span class="token maybe-class-name">User</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">actions</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">self</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain"></span></div><div class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span></div></div></div></div></div><p>Note that <code>userProfileScreenParams</code> is a simple model with a <code>user</code> entry, while <code>productDetailScreenParams</code> is a map of <code>ProductDetailScreenParams</code> model. The reason we chose this shape of data is that we only have a single user profile screen in our app which reads its params from <code>userProfileScreenParams</code>. <code>productDetailScreenParams</code> is a map because the app can have several product screens on a stack. Each screen points to a <code>Product</code> instance saved in the map. The keys into the map are the React Navigation <a href="/docs/3.x/navigation-key#usage-with-the-navigate-navigation-actionshtml-navigate-call">keys</a>: think of the <code>key</code> as of an identifier of the route.</p><p>Your navigation store may also be just one map where for each screen (regardless if it is a product or user profile screen), we store its navigation params. This is the approach taken in the <a href="https://github.com/vonovak/react-navigation-mst-demo" target="_blank" rel="noopener noreferrer">sample app</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="summary"></a>Summary<a aria-hidden="true" tabindex="-1" class="hash-link" href="#summary" title="Direct link to heading">#</a></h2><ul><li>you can use React Navigation with MobX State Tree in a React Native app</li><li>use the <code>Provider</code> component and the <code>inject</code> and <code>observer</code> functions to wire up MobX or MST with React</li><li>it&#x27;s possible to persist the entire application state and restore it upon JS reload</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/react-navigation/react-navigation.github.io/edit/main/versioned_docs/version-3.x/MST-integration.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/3.x/redux-integration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Redux integration</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/3.x/localization"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Localization Â»</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link">Overview</a></li><li><a href="#guide" class="table-of-contents__link">Guide</a><ul><li><a href="#navigation-params" class="table-of-contents__link">Navigation params</a></li></ul></li><li><a href="#summary" class="table-of-contents__link">Summary</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/custom-navigators">Building your own Navigator</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/contributing">Contributing</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Support</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/reactiflux" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chat in our Discord channel</a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/react-navigation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Get help on Stack Overflow</a></li><li class="footer__item"><a href="https://react-navigation.canny.io/feature-requests" target="_blank" rel="noopener noreferrer" class="footer__link-item">Request a feature on Canny</a></li><li class="footer__item"><a href="https://github.com/react-navigation/react-navigation/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item">Report a bug on Github</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/react-navigation/react-navigation" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li><li class="footer__item"><a href="https://twitter.com/reactnavigation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Built with</h4><ul class="footer__items"><li class="footer__item"><a href="https://docusaurus.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus</a></li><li class="footer__item"><a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Pages</a></li><li class="footer__item"><a href="https://www.netlify.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Netlify</a></li></ul></div></div><div class="text--center"><div></div></div></div></footer></div>
<script src="/styles.a712477a.js"></script>
<script src="/runtime~main.8bbe6bf4.js"></script>
<script src="/main.48fc5275.js"></script>
<script src="/1.b4c02dcb.js"></script>
<script src="/2.6a8174a0.js"></script>
<script src="/ee9e7730.0aa787fd.js"></script>
<script src="/5dde19ad.82e74bc5.js"></script>
<script src="/7bdc89f1.70dbd2cd.js"></script>
<script src="/9ff2e65d.d028b1a5.js"></script>
</body>
</html>