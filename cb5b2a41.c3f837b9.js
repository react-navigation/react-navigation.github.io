(window.webpackJsonp=window.webpackJsonp||[]).push([[292],{417:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return i})),n.d(t,"metadata",(function(){return c})),n.d(t,"rightToc",(function(){return p})),n.d(t,"default",(function(){return l}));var a=n(1),r=n(9),o=(n(0),n(489)),i={id:"app-containers",title:"App containers",sidebar_label:"App containers"},c={id:"version-4.x/app-containers",title:"App containers",description:"We've been taking `createAppContainer` for granted so far, so let's explain them quickly. Containers are responsible for managing your app state and linking your top-level navigator to the app environment. On Android, the app container uses the `Linking` API to handle the back button. The container can also be configured to persist your navigation state. On web, you'd use different containers than React Native. As we've seen already, app container usage looks like this:",source:"@site/versioned_docs/version-4.x/app-containers.md",permalink:"/docs/4.x/app-containers",editUrl:"https://github.com/react-navigation/react-navigation.github.io/edit/source/versioned_docs/version-4.x/app-containers.md",version:"4.x",sidebar_label:"App containers",sidebar:"version-4.x-docs",previous:{title:"Header buttons",permalink:"/docs/4.x/header-buttons"},next:{title:"Opening a full-screen modal",permalink:"/docs/4.x/modal"}},p=[{value:"Props of <code>createAppContainer</code> on React Native",id:"props-of-createappcontainer-on-react-native",children:[{value:"<code>onNavigationStateChange(prevState, newState, action)</code>",id:"onnavigationstatechangeprevstate-newstate-action",children:[]},{value:"<code>uriPrefix</code>",id:"uriprefix",children:[]}]},{value:"Calling <code>dispatch</code> or <code>navigate</code> on a container ref",id:"calling-dispatch-or-navigate-on-a-container-ref",children:[]},{value:"On the web",id:"on-the-web",children:[]}],s={rightToc:p};function l(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},s,n,{components:t,mdxType:"MDXLayout"}),Object(o.b)("p",null,"We've been taking ",Object(o.b)("inlineCode",{parentName:"p"},"createAppContainer")," for granted so far, so let's explain them quickly. Containers are responsible for managing your app state and linking your top-level navigator to the app environment. On Android, the app container uses the ",Object(o.b)("inlineCode",{parentName:"p"},"Linking")," API to handle the back button. The container can also be configured to persist your navigation state. On web, you'd use different containers than React Native. As we've seen already, app container usage looks like this:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"import { createAppContainer } from 'react-navigation';\nimport { createStackNavigator } from 'react-navigation-stack';\n\nconst RootStack = createStackNavigator({ /* your routes here */ });\nconst AppContainer = createAppContainer(RootStack);\n\n// Now AppContainer is the main component for React to render\nexport default AppContainer;\n")),Object(o.b)("h2",{id:"props-of-createappcontainer-on-react-native"},"Props of ",Object(o.b)("inlineCode",{parentName:"h2"},"createAppContainer")," on React Native"),Object(o.b)("p",null,"There are a couple of props worth knowing about on the app container."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),'<AppContainer\n  onNavigationStateChange={handleNavigationChange}\n  uriPrefix="/app"\n/>\n')),Object(o.b)("h3",{id:"onnavigationstatechangeprevstate-newstate-action"},Object(o.b)("inlineCode",{parentName:"h3"},"onNavigationStateChange(prevState, newState, action)")),Object(o.b)("p",null,"Function that gets called every time navigation state managed by the navigator changes. It receives the previous state, the new state of the navigation and the action that issued state change. By default it prints state changes to the console."),Object(o.b)("h3",{id:"uriprefix"},Object(o.b)("inlineCode",{parentName:"h3"},"uriPrefix")),Object(o.b)("p",null,"The prefix of the URIs that the app might handle. This will be used when handling a ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/4.x/deep-linking"}),"deep link")," to extract the path passed to the router."),Object(o.b)("h2",{id:"calling-dispatch-or-navigate-on-a-container-ref"},"Calling ",Object(o.b)("inlineCode",{parentName:"h2"},"dispatch")," or ",Object(o.b)("inlineCode",{parentName:"h2"},"navigate")," on a container ref"),Object(o.b)("p",null,"In some cases you may want to perform navigation actions from the root of your app, outside of any of the screens. To do this you can use a React ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"https://facebook.github.io/react/docs/refs-and-the-dom.html#the-ref-callback-attribute"}),Object(o.b)("inlineCode",{parentName:"a"},"ref"))," to call the ",Object(o.b)("inlineCode",{parentName:"p"},"dispatch")," method on it:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js"}),"const AppContainer = createAppContainer(AppNavigator);\n\nclass App extends React.Component {\n  someEvent() {\n    // call navigate for AppNavigator here:\n    this.navigator &&\n      this.navigator.dispatch(\n        NavigationActions.navigate({ routeName: someRouteName })\n      );\n  }\n  render() {\n    return (\n      <AppContainer\n        ref={nav => {\n          this.navigator = nav;\n        }}\n      />\n    );\n  }\n}\n")),Object(o.b)("h2",{id:"on-the-web"},"On the web"),Object(o.b)("p",null,"To learn about how to use React Navigation the web (still very experimental), see the ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"/docs/4.x/web-support"}),"web support")," guide."))}l.isMDXComponent=!0},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return h}));var a=n(0),r=n.n(a);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=r.a.createContext({}),l=function(e){var t=r.a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):c({},t,{},e)),n},u=function(e){var t=l(e.components);return r.a.createElement(s.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},b=Object(a.forwardRef)((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),u=l(n),b=a,h=u["".concat(i,".").concat(b)]||u[b]||d[b]||o;return n?r.a.createElement(h,c({ref:t},s,{components:n})):r.a.createElement(h,c({ref:t},s))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,i=new Array(o);i[0]=b;var c={};for(var p in t)hasOwnProperty.call(t,p)&&(c[p]=t[p]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var s=2;s<o;s++)i[s]=n[s];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}b.displayName="MDXCreateElement"}}]);